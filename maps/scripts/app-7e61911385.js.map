{"version":3,"sources":["scripts/app-7e61911385.js"],"names":["angular","module","acmeNavbarAd","NavbarAdController","$scope","$location","isManage","isPush","isList","isPay","isPut","isBack","isStatistics","isAccount","isAdSta","path","console","log","$inject","directive","restrict","templateUrl","scope","creationDate","controller","controllerAs","bindToController","HeaderCtrl","$rootScope","$state","AdvertiserSrv","TokenSrv","NoticeSrv","isMain","isConfirm","isAccSta","isMsg","$","on","e","thereIsError","errMessage","getToken","logined","name","getName","isLogin","register","nickname","email","pass","confirmPass","length","search","sha256Pass","sha256","save","username","password","$promise","then","response","errCode","success","modal","error","login","setToken","token","setName","logout","go","reload","FooterCtrl","SatisticsDetailCtrl","$stateParams","StatisticsSrv","advertId","getAdvertDetail","get","id","statistics","forEach","data","date","moment","toDate","AmCharts","makeChart","type","theme","marginRight","dataProvider","valueAxes","position","title","graphs","fillAlphas","valueField","balloonText","chartScrollbar","graph","scrollbarHeight","backgroundAlpha","selectedBackgroundAlpha","selectedBackgroundColor","graphFillAlpha","graphLineAlpha","selectedGraphFillAlpha","selectedGraphLineAlpha","autoGridCount","color","chartCursor","categoryBalloonDateFormat","cursorPosition","categoryField","categoryAxis","minPeriod","parseDates","export","enabled","SatisticsAdvertMapCtrl","dateExist","array","i","getTime","generateChartData","rawData","index","advertData","element","chartData","j","undefined","advert1","advert2","advert3","num","push","sort","a","b","getStatisticsData","broadcastData","costData","advertisement","sum","totalBroadcast","totalPrice","chart1Data","chart2Data","marginLeft","autoMarginOffset","mouseWheelZoomEnabled","dataDateFormat","axisAlpha","ignoreAxisWidth","balloon","borderThickness","shadowAlpha","drop","adjustBorderColor","bullet","bulletBorderAlpha","bulletColor","bulletSize","hideBulletsCount","lineThickness","useLineColorForBulletBorder","oppositeAxis","offset","pan","valueLineEnabled","valueLineBalloonEnabled","cursorAlpha","cursorColor","limitToGraph","valueLineAlpha","valueScrollbar","dashLength","minorGridEnabled","legend","useGraphSettings","axisColor","axisThickness","gridAlpha","valueAxis","lineColor","bulletBorderThickness","$cookies","this","put","factory","$resource","baseURL","getAdvertisementStatistics","service","$compile","$timeout","notification","timer","__alert__","css","text","template","join","document","find","remove","cancel","append","notice","myInterceptor","$injector","request","config","arguments","url","indexOf","method","params","current","window","location","replace","getError","ErrorSrv","101","102","103","104","105","106","107","108","109","111","112","113","201","202","203","204","205","206","207","208","209","210","211","301","302","303","304","305","306","307","308","999","applyState","01","00","11","checkInfo","formatCheckInfo","businessPeriodIsLong","businessPeriod","day","businessPeriodStr","format","legalPersonIdIsLong","legalPersonValidDateStr","legalPersonValidDate","parseCheckInfo","companyLocationProvince","split","companyLocationDistrict","legalPerson","iflongterm","periodDate","periodIsLong","validDate","idValidDate","parseDateFromStr","dateStr","momentDate","formatDate","getAccountDetails","getMessages","recharge","refund","getRechargeHistory","getRefundHistory","changePassword","changeAlipay","getCheckDetail","getUpToken","AdvertisementSrv","advertTypes","types","other","accommodation","commodity","education","entertainment","recruit","social","tenancy","advertCities","city","getReleaseAdvertisement","saveDraftAdvertisement","getAdvertisementById","submitAdvertisementById","getDistrictsByCity","removeAdvertisementById","parseAdvertisement","number","state","catalog","status","isDisableOff","stateClass","canSubmit","isDisableModify","isDisableCancel","canCancel","addEventListener","formatAdvertisement","startDay","startDate","endDay","endDate","parseDate","AdvertSatisticsCtrl","advertCollection","NotificationCtrl","list","messages","message","notificationContents","MainController","AdvertCtrl","advertList","itemsByPage","advert","concat","AdvertEditCtrl","wordCount","input","wordArray","wordNum","contentArray","word","districtCount","districts","district","selected","calculatePrice","fontNum","districtNum","price","toFixed","selectedBefore","pageTitle","pageDetail","broadcastLocation","changeContent","newVal","changeDistrict","content","saveDraft","check","isEmpty","isTooLong","earlyThanStart","selectedArray","result","compareArray","parseFloat","add","submitApply","resultTitle","resultDetail","before","after","Array","aft","bef","AdvertDetailCtrl","districtStr","districtId","substring","locations","AccountRefundCtrl","getRefunds","rowCollection","refundHistory","alipay","advertiser","balance","getBalance","hide","show","amount","account","Alipay","AccountRechargeCtrl","getRecharges","rechargeHistory","checkbox","trueValue","parseInt","qrCodeImage","rechargeFinish","AccountCheckCtrl","$log","$qupload","$window","localStorage","uptoken","selectFiles","start","progress","p","upload","key","file","info","picUrl","isSuccess","evt","Math","floor","loaded","totalSize","abort","splice","onFileSelect","$files","offsetx","detail","checkStatus","unsubmitted","submitted","completedCheck","companyType","licenseType","companyName","licenseCode","accomodation","businessScope","organizationCode","legalPersonName","legalPersonLocation","legalPersonId","legalPersonIflegalperson","iflegalperson","contactEmail","licenseImageUrl","submit","checkInfoValid","AccountCtrl","notVerified","isPassed","notPassed","oldPwd","newPwd","confirmPwd","newPwdError","newErrMsg","confirmPwdError","confirmErrMsg","oldPassSHA256","newPassSHA256","oldPwdError","oldErrMsg","runBlock","debug","run","routerConfig","$stateProvider","$urlRouterProvider","otherwise","views","header","footer","content@","constant","malarkey","$httpProvider","$logProvider","toastrConfig","debugEnabled","interceptors","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","value","$templateCache"],"mappings":"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","file":"scripts/app-7e61911385.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('mad', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ngMaterial', 'toastr', 'ngFileUpload', 'angularQFileUpload']);\n\n})();\n\n/**\n * Created by JiXiang on 2016/3/28.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('mad')\n    .directive('acmeNavbarAd', acmeNavbarAd);\n\n  /** @ngInject */\n  function acmeNavbarAd() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar-advert/navbar-advert.html',\n      scope: {\n        creationDate: '='\n      },\n      controller: NavbarAdController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarAdController($scope, $location) {\n      $scope.isManage = false;\n      $scope.isPush = false;\n      $scope.isList = false;\n\n      $scope.isPay = false;\n      $scope.isPut = false;\n      $scope.isBack = false;\n\n      $scope.isStatistics = false;\n      $scope.isAccount = false;\n      $scope.isAdSta = false;\n\n      var path = $location.path();\n      console.log('path:' + path);\n      if (path == '/advert/push') {\n        $scope.isManage = true;\n        $scope.isPush = true;\n      }\n\n      if (path == '/advert') {\n        $scope.isManage = true;\n        $scope.isList = true;\n      }\n\n      if (path == '/account/reacharge') {\n        $scope.isPay = true;\n        $scope.isPut = true;\n      }\n\n      if (path == '/account/refund') {\n        $scope.isPay = true;\n        $scope.isBack = true;\n      }\n\n      if (path == '/account/check') {\n        $scope.isStatistics = true;\n        $scope.isAccount = true;\n      }\n      if (path == '/statistics') {\n        $scope.isStatistics = true;\n        $scope.isAdSta = true;\n      }\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('mad')\n    .controller('HeaderCtrl', HeaderCtrl);\n\n  /** @ngInject */\n  function HeaderCtrl($rootScope, $scope, $location, $state, AdvertiserSrv, TokenSrv, NoticeSrv) {\n    $scope.isMain = false;\n\n    $scope.isManage = false;\n    $scope.isPush = false;\n    $scope.isList = false;\n\n    $scope.isPay = false;\n    $scope.isPut = false;\n    $scope.isBack = false;\n    $scope.isConfirm = false;\n\n    $scope.isStatistics = false;\n    $scope.isAccSta = false;\n    $scope.isAdSta = false;\n\n    $scope.isMsg = false;\n\n    $scope.isAccount = false;\n\n    if ($location.path() == '/advert/push') {\n      $scope.isManage = true;\n      $scope.isPush = true;\n    }\n\n    if ($location.path() == '/advert') {\n      $scope.isManage = true;\n      $scope.isList = true;\n    }\n\n    if ($location.path() == '/account/recharge') {\n      $scope.isPay = true;\n      $scope.isPut = true;\n    }\n\n    if ($location.path() == '/account/refund') {\n      $scope.isPay = true;\n      $scope.isBack = true;\n    }\n\n    if ($location.path() == '/account/check') {\n      $scope.isPay = true;\n      $scope.isConfirm = true;\n    }\n\n    if ($location.path() == '/statistics') {\n      $scope.isStatistics = true;\n      $scope.isAccSta = true;\n    }\n\n    if ($location.path() == '/statistics/detail') {\n      $scope.isStatistics = true;\n      $scope.isAdSta = true;\n    }\n\n    if ($location.path() == '/account') {\n      $scope.isAccount = true;\n    }\n\n    if ($location.path() == '/notification') {\n      $scope.isMsg = true;\n    }\n\n    $('#signup').on('hide.bs.modal', function (e) {\n      $scope.thereIsError = false;\n      $scope.errMessage = '';\n      console.log('hide signup');\n\n    });\n\n    $('#login').on('hide.bs.modal', function (e) {\n      $scope.thereIsError = false;\n      $scope.errMessage = '';\n      console.log('hide login');\n    })\n\n    // console.log('token:' + TokenSrv.getToken());\n    if (TokenSrv.getToken()) {\n      $rootScope.logined = true;\n      $scope.name = TokenSrv.getName();\n    } else {\n      $rootScope.logined = false;\n    }\n    $scope.isLogin = $rootScope.logined;\n    $scope.thereIsError = false;\n\n    // 注册\n    $scope.register = function (nickname, email, pass, confirmPass) {\n      if (!nickname || !email || !pass || !confirmPass) {\n        $scope.thereIsError = true;\n        $scope.errMessage = '请输入完整信息';\n        return;\n      }\n      if (pass.length < 8) {\n        $scope.thereIsError = true;\n        $scope.errMessage = '密码至少要8位';\n        return;\n      }\n      if (pass !== confirmPass) {\n        $scope.thereIsError = true;\n        $scope.errMessage = '两次输入密码不一致';\n        return;\n      }\n      if (email.search(/^\\w[-\\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\\.)+[A-Za-z]{2,14}/) === -1) {\n        $scope.thereIsError = true;\n        $scope.errMessage = '请输入合法邮箱';\n        return;\n      }\n\n\n      $scope.thereIsError = false;\n      var sha256Pass = sha256(pass);\n\n      AdvertiserSrv.register().save({\n          username: nickname,\n          email: email,\n          password: sha256Pass\n        }).$promise.then(\n          function (response) {\n            console.log(response);\n            if (0 === response.errCode) {\n              console.log('注册成功');\n              NoticeSrv.success('恭喜您注册成功，请您验证邮箱后登录');\n              $('#signup').modal('hide');\n            }\n          }, function (error) {\n            console.log('注册失败');\n            console.log(error);\n            $scope.thereIsError = true;\n            $scope.errMessage = '未知错误' + error;\n          });\n\n    };\n\n    // 登录\n    $scope.login = function (email, pass) {\n      $scope.thereIsError = false;\n\n      if (!email || !pass) {\n        $scope.thereIsError = true;\n        $scope.errMessage = '请输入用户名和密码';\n        return;\n      }\n      if (email.search(/^\\w[-\\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\\.)+[A-Za-z]{2,14}/) === -1) {\n        $scope.thereIsError = true;\n        $scope.errMessage = '请输入合法邮箱';\n        return;\n      }\n\n      var sha256Pass = sha256(pass);\n      // console.log('sha256:' + sha256Pass);\n\n      AdvertiserSrv.login().save({\n        email: email,\n        password: sha256Pass\n      }).$promise.then(\n        function (response) {\n          console.log(response.errCode);\n          if (0 === response.errCode) {\n            console.log('登录成功');\n            TokenSrv.setToken(response.token);\n            TokenSrv.setName(response.name);\n            $('#login').modal('hide');\n            $scope.isLogin = true;\n            $scope.name = response.name;\n            $rootScope.logined = true;\n          }\n        }, function(error) {\n          console.log('登录失败');\n          console.log(error);\n        });\n    };\n\n    $scope.logout = function () {\n      TokenSrv.setToken('');\n      $scope.isLogin = false;\n      $rootScope.logined = false;\n      $state.go('app', {reload: true});\n    };\n  }\n})();\n\n/**\n * Created by mandyxue on 16/3/31.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('mad')\n    .controller('FooterCtrl', FooterCtrl);\n\n  /** @ngInject */\n  function FooterCtrl() {\n\n  }\n})();\n\n/**\n * Created by LENOVO on 2016/3/29.\n */\n(function () {\n  'use strict';\n  angular\n    .module('mad')\n    .controller('SatisticsDetailCtrl', SatisticsDetailCtrl);\n\n      /** @ngInject */\n  function SatisticsDetailCtrl($scope, $stateParams, StatisticsSrv) {\n\n    $scope.advertId = $stateParams.advertId;\n    StatisticsSrv.getAdvertDetail().get({\n        id: $scope.advertId\n      }).$promise.then(function (response) {\n          if (0 === response.errCode) {\n            console.log('statistics data:');\n            console.log(response.statistics);\n\n            // parse date\n            response.statistics.forEach(function (data) {\n              data.date = moment(data.date).toDate();\n            });\n            var chartData = response.statistics;\n\n            var chart = AmCharts.makeChart(\"chartdiv\", {\n              \"type\": \"serial\",\n              \"theme\": \"light\",\n              \"marginRight\": 80,\n              \"dataProvider\": response.statistics,\n              \"valueAxes\": [{\n                \"position\": \"left\",\n                \"title\": \"广告投放\"\n              }],\n              \"graphs\": [{\n                \"id\": \"g1\",\n                \"fillAlphas\": 0.4,\n                \"valueField\": \"totalBroadcast\",\n                \"balloonText\": \"<div style='margin:5px; font-size:19px;'>投放:<b>[[value]]</b></div>\"\n              }],\n              \"chartScrollbar\": {\n                \"graph\": \"g1\",\n                \"scrollbarHeight\": 80,\n                \"backgroundAlpha\": 0,\n                \"selectedBackgroundAlpha\": 0.1,\n                \"selectedBackgroundColor\": \"#888888\",\n                \"graphFillAlpha\": 0,\n                \"graphLineAlpha\": 0.5,\n                \"selectedGraphFillAlpha\": 0,\n                \"selectedGraphLineAlpha\": 1,\n                \"autoGridCount\": true,\n                \"color\": \"#AAAAAA\"\n              },\n              \"chartCursor\": {\n                \"categoryBalloonDateFormat\": \"DD MMMM\",\n                \"cursorPosition\": \"mouse\"\n              },\n              \"categoryField\": \"date\",\n              \"categoryAxis\": {\n                \"minPeriod\": \"mm\",\n                \"parseDates\": true\n              },\n              \"export\": {\n                \"enabled\": true\n              }\n            });\n          }\n      }, function (error) {\n          console.log(error);\n      });\n  }\n})();\n\n/**\n * Created by Teng on 2016/4/10.\n */\n(function () {\n  'use strict';\n  angular\n    .module('mad')\n    .controller('SatisticsAdvertMapCtrl', SatisticsAdvertMapCtrl);\n\n  function SatisticsAdvertMapCtrl($scope, StatisticsSrv) {\n\n    function dateExist(array, date) {\n      var i;\n      for (i = 0; i < array.length; i += 1) {\n        if (array[i].date.getTime() === date.getTime()) {\n          return i;\n        }\n      }\n    }\n\n    function generateChartData(rawData) {\n      var chartData = [];\n      var index, advertData, element;\n      var i = 0, j = 0;\n\n      for (i = 0; i < 3; i += 1) {\n        advertData = rawData[i].data;\n\n        for (j = 0; j < advertData.length; j += 1) {\n\n          index = dateExist(chartData, advertData[j].date);\n          if (index === undefined) {\n            element = {\n              'date': advertData[j].date,\n              'advert1': 0,\n              'advert2': 0,\n              'advert3': 0\n            };\n            if (i === 0) {\n              element.advert1 = advertData[j].num;\n            } else if (i === 1) {\n              element.advert2 = advertData[j].num;\n            } else if (i === 2) {\n              element.advert3 = advertData[j].num;\n            }\n            chartData.push(element);\n          } else {\n            if (i === 0) {\n              chartData[index].advert1 = advertData[j].num;\n            } else if (i === 1) {\n              chartData[index].advert2 = advertData[j].num;\n            } else if (i === 2) {\n              chartData[index].advert3 = advertData[j].num;\n            }\n          }\n        }\n      }\n      chartData.sort(function (a, b) {\n        return a.date.getTime() - b.date.getTime();\n      });\n\n      return chartData;\n    }\n\n\n    StatisticsSrv.getStatisticsData().get().$promise\n      .then(function (response) {\n          if (0 === response.errCode) {\n            // 该广告商所有广告投放数据\n            // console.log('response');\n            // console.log(response.advertisement);\n\n            var broadcastData = [];\n            var costData = [];\n            var i = 0;\n            var j = 0;\n\n            var element;\n            for (i = 0; i < response.advertisement.length; i += 1) {\n              element = response.advertisement[i];\n              broadcastData[i] = {\n                'id': element.id,\n                'data': [],\n                'sum': 0\n              };\n\n              costData[i] = {\n                'id': element.id,\n                'data': [],\n                'sum': 0\n              }\n\n              for (j = 0; j < element.statistics.length; j += 1) {\n                broadcastData[i].sum += element.statistics[j].totalBroadcast;\n                broadcastData[i].data.push({\n                  'date': moment(element.statistics[j].date).toDate(),\n                  'num': element.statistics[j].totalBroadcast\n                });\n\n                costData[i].sum += element.statistics[j].totalPrice;\n                costData[i].data.push({\n                  'date': moment(element.statistics[j].date).toDate(),\n                  'num': element.statistics[j].totalPrice\n                });\n              }\n            }\n            broadcastData.sort(function (a, b) {\n              return b.sum - a.sum;\n            });\n            costData.sort(function (a, b) {\n              return b.sum - a.sum;\n            });\n            // console.log(broadcastData);\n            // console.log(costData);\n\n            // 取投放量最高的前三名\n            var chart1Data = [];\n            var chart2Data = [];\n            var advertData;\n            var index;\n            if (broadcastData.length > 2) {\n              var chart1Data = generateChartData(broadcastData);\n\n              console.log('chart1Data');\n              console.log(chart1Data);\n\n              var chart = AmCharts.makeChart(\"chartdiv\", {\n                  \"type\": \"serial\",\n                  \"theme\": \"light\",\n                  \"marginRight\": 40,\n                  \"marginLeft\": 40,\n                  \"autoMarginOffset\": 20,\n                  \"mouseWheelZoomEnabled\":true,\n                  \"dataDateFormat\": \"YYYY-MM-DD\",\n                  \"valueAxes\": [{\n                      \"id\": \"v1\",\n                      \"axisAlpha\": 0,\n                      \"position\": \"left\",\n                      \"ignoreAxisWidth\":true\n                  }],\n                  \"balloon\": {\n                      \"borderThickness\": 1,\n                      \"shadowAlpha\": 0\n                  },\n                  \"graphs\": [{\n                          \"id\": \"g1\",\n                          \"balloon\":{\n                          \"drop\":true,\n                          \"adjustBorderColor\":false,\n                          \"color\":\"#ffffff\"\n                      },\n                      \"bullet\": \"round\",\n                      \"bulletBorderAlpha\": 1,\n                      \"bulletColor\": \"#FFFFFF\",\n                      \"bulletSize\": 5,\n                      \"hideBulletsCount\": 50,\n                      \"lineThickness\": 2,\n                      \"title\": broadcastData[0].id,\n                      \"useLineColorForBulletBorder\": true,\n                      \"valueField\": \"advert1\",\n                      \"balloonText\": \"<span style='font-size:18px;'>[[value]]</span>\"\n                  },\n                  {\n                      \"id\": \"g2\",\n                      \"balloon\":{\n                      \"drop\":true,\n                      \"adjustBorderColor\":false,\n                      \"color\":\"#ffffff\"\n                      },\n                      \"bullet\": \"round\",\n                      \"bulletBorderAlpha\": 1,\n                      \"bulletColor\": \"#FFFFFF\",\n                      \"bulletSize\": 5,\n                      \"hideBulletsCount\": 50,\n                      \"lineThickness\": 2,\n                      \"title\": \"advertisment2\",\n                      \"useLineColorForBulletBorder\": true,\n                      \"valueField\": \"advert2\",\n                      \"balloonText\": \"<span style='font-size:18px;'>[[value]]</span>\"\n                  },\n                  {\n                      \"id\": \"g3\",\n                      \"balloon\":{\n                      \"drop\":true,\n                      \"adjustBorderColor\":false,\n                      \"color\":\"#ffffff\"\n                      },\n                      \"bullet\": \"round\",\n                      \"bulletBorderAlpha\": 1,\n                      \"bulletColor\": \"#FFFFFF\",\n                      \"bulletSize\": 5,\n                      \"hideBulletsCount\": 50,\n                      \"lineThickness\": 2,\n                      \"title\": \"advertisment3\",\n                      \"useLineColorForBulletBorder\": true,\n                      \"valueField\": \"advert3\",\n                      \"balloonText\": \"<span style='font-size:18px;'>[[value]]</span>\"\n                  }],\n                  \"chartScrollbar\": {\n                      \"graph\": \"g1\",\n                      \"oppositeAxis\":false,\n                      \"offset\":30,\n                      \"scrollbarHeight\": 80,\n                      \"backgroundAlpha\": 0,\n                      \"selectedBackgroundAlpha\": 0.1,\n                      \"selectedBackgroundColor\": \"#888888\",\n                      \"graphFillAlpha\": 0,\n                      \"graphLineAlpha\": 0.5,\n                      \"selectedGraphFillAlpha\": 0,\n                      \"selectedGraphLineAlpha\": 1,\n                      \"autoGridCount\":true,\n                      \"color\":\"#AAAAAA\"\n                  },\n                  \"chartCursor\": {\n                      \"pan\": true,\n                      \"valueLineEnabled\": true,\n                      \"valueLineBalloonEnabled\": true,\n                      \"cursorAlpha\":1,\n                      \"cursorColor\":\"#258cbb\",\n                      \"limitToGraph\":\"g1\",\n                      \"valueLineAlpha\":0.2\n                  },\n                  \"valueScrollbar\":{\n                  \"oppositeAxis\":false,\n                  \"offset\":50,\n                  \"scrollbarHeight\":10\n                  },\n                  \"categoryField\": \"date\",\n                  \"categoryAxis\": {\n                      \"parseDates\": true,\n                      \"dashLength\": 1,\n                      \"minorGridEnabled\": true\n                  },\n                  \"export\": {\n                      \"enabled\": true\n                  },\n                  \"dataProvider\": chart1Data\n              });\n            } else {\n              // 有几个取几个\n            }\n\n            if (costData.length > 2) {\n              var chart2Data = generateChartData(costData);\n\n              var chart = AmCharts.makeChart(\"advertisment-chart\", {\n                  \"type\": \"serial\",\n                  \"theme\": \"light\",\n                  \"legend\": {\n                      \"useGraphSettings\": true\n                  },\n                  \"dataProvider\": chart2Data,\n                  \"valueAxes\": [{\n                      \"id\":\"v1\",\n                      \"axisColor\": \"#FF6600\",\n                      \"axisThickness\": 2,\n                      \"gridAlpha\": 0,\n                      \"axisAlpha\": 1,\n                      \"position\": \"left\"\n                  }, {\n                      \"id\":\"v2\",\n                      \"axisColor\": \"#FCD202\",\n                      \"axisThickness\": 2,\n                      \"gridAlpha\": 0,\n                      \"axisAlpha\": 1,\n                      \"position\": \"right\"\n                  }, {\n                      \"id\":\"v3\",\n                      \"axisColor\": \"#B0DE09\",\n                      \"axisThickness\": 2,\n                      \"gridAlpha\": 0,\n                      \"offset\": 50,\n                      \"axisAlpha\": 1,\n                      \"position\": \"left\"\n                  }],\n                  \"graphs\": [{\n                      \"valueAxis\": \"v1\",\n                      \"lineColor\": \"#FF6600\",\n                      \"bullet\": \"round\",\n                      \"bulletBorderThickness\": 1,\n                      \"hideBulletsCount\": 30,\n                      \"title\": costData[0].id,\n                      \"valueField\": \"advert1\",\n                      \"fillAlphas\": 0\n                  }, {\n                      \"valueAxis\": \"v2\",\n                      \"lineColor\": \"#FCD202\",\n                      \"bullet\": \"square\",\n                      \"bulletBorderThickness\": 1,\n                      \"hideBulletsCount\": 30,\n                      \"title\": costData[1].id,\n                      \"valueField\": \"advert2\",\n                      \"fillAlphas\": 0\n                  }, {\n                      \"valueAxis\": \"v3\",\n                      \"lineColor\": \"#B0DE09\",\n                      \"bullet\": \"triangleUp\",\n                      \"bulletBorderThickness\": 1,\n                      \"hideBulletsCount\": 30,\n                      \"title\": costData[2].id,\n                      \"valueField\": \"advert3\",\n                      \"fillAlphas\": 0\n                  }],\n                  \"chartScrollbar\": {},\n                  \"chartCursor\": {\n                      \"cursorPosition\": \"mouse\"\n                  },\n                  \"categoryField\": \"date\",\n                  \"categoryAxis\": {\n                      \"parseDates\": true,\n                      \"axisColor\": \"#DADADA\",\n                      \"minorGridEnabled\": true\n                  },\n                  \"export\": {\n                      \"enabled\": true,\n                      \"position\": \"bottom-right\"\n                  }\n              });\n            } else {\n              // 有几个取几个\n            }\n          }\n      }).catch(function (error) {\n          console.log(error);\n      });\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('mad')\n    .factory('TokenSrv', TokenSrv);\n\n  /** @ngInject */\n  function TokenSrv($cookies) {\n    return {\n          token: '',// for test:6e777a9556c6774e6b62ff9a18ec456e3f05181260cf1a129811a4a08152fbaa\n          name: '',\n          setToken: function (token) {\n              this.token = token;\n              $cookies.put('token', token);\n          },\n          getToken: function () {\n            if (!this.token) {\n              this.token = $cookies.get('token');\n            }\n            return this.token;\n          },\n          setName: function(name) {\n            this.name = name;\n            $cookies.put('name', name);\n          },\n          getName: function() {\n            if (!this.name) {\n              this.name = $cookies.get('name');\n            }\n            return this.name;\n          }\n        };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('mad')\n    .service('StatisticsSrv', StatisticsSrv);\n\n  /** @ngInject */\n  function StatisticsSrv($resource, baseURL) {\n    this.getAdvertisementStatistics = function () {\n        return $resource(baseURL + '/statistics/all');\n    };\n    \n    this.getAdvertDetail = function () {\n        return $resource(baseURL + '/statistics/detail/:id', {\n          id: 'id'\n        });\n    };\n    \n    this.getStatisticsData = function() {\n        return $resource(baseURL + '/statistics/data');\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('mad')\n    .factory('NoticeSrv', NoticeSrv);\n\n  /** @ngInject */\n  function NoticeSrv($compile, $timeout, $rootScope) {\n    var notification = {};\n\n  notification.timer = null;\n  notification.__alert__ = function(css, title, text) {\n    var template = ['<div class=\"notice fixed alert alert-dismissible ',\n                      css,\n                      '\">',\n                      '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>',\n                      '<strong>',\n                      title,\n                      '</strong>',\n                      text,\n                      '</div>'].join('');\n    if (angular.element(document).find('.notice')) {\n      angular.element(document).find('.notice').remove();\n    }\n    if (this.timer) {\n      $timeout.cancel(this.timer);\n    }\n    angular.element(document).find('body').append($compile(template)($rootScope));\n    this.timer = $timeout(function() {\n      angular.element(document).find('.notice').remove();\n    }, 5000);\n  };\n\n  notification.success = function(text) {\n    this.__alert__('alert-success', '成功: ', text);\n  };\n\n  notification.error = function(text) {\n    this.__alert__('alert-danger', '错误: ', text);\n\n  };\n\n  notification.notice = function(text) {\n    this.__alert__('alert-info', '提示: ', text);\n  };\n\n  return notification;\n    \n    \n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('mad')\n    .factory('myInterceptor', myInterceptor);\n\n  /** @ngInject */\n  function myInterceptor($rootScope, $injector, TokenSrv, baseURL) {\n    //   console.log('helloworld');\n    var myInterceptor = {\n                request: function (config) {\n                    // 通过配置拦截器在发送请求前注入token\n                    if (arguments[0].url.indexOf(baseURL) !== -1) {\n                        if (arguments[0].method === 'GET' || arguments[0].method === 'DELETE' || arguments[0].method === 'OPTIONS') {\n                            arguments[0].params = arguments[0].params || {};\n                            // console.log(arguments);\n                            arguments[0].params.token = TokenSrv.getToken();\n                        }\n                        if (arguments[0].method === 'POST' || arguments[0].method === 'PUT') {\n                            arguments[0].data = arguments[0].data || {};\n                            arguments[0].data.token = TokenSrv.getToken();\n                        }\n                    }\n\n                    // 必须用过injector注入$state,  不然会有BUG,\n                    // 详见http://stackoverflow.com/questions/20230691/injecting-state-ui-router-into-http-interceptor-causes-circular-dependency\n                    var $state = $injector.get('$state');\n                    // 不在登陆页面且未登陆\n                    // console.log($state.current.url);\n                    if ( !$rootScope.logined && ($state.current.url !== '\\\\' && $state.current.url !== '^')) {\n                        $injector.get('$state').go('app', {reload: true});\n                    }\n                    if (!TokenSrv.getToken()) {\n                        window.location.replace('#/');\n                    }\n                    return config;\n                },\n                response: function (response) {\n                  // response.data.errCode === 101\n                  // response.errCode = 101\n                    if (response.data.errCode === 101) {\n                        console.log('errCode:' + response.data.errCode);\n                        $injector.get('NoticeSrv').notice($injector.get('ErrorSrv').getError(response.data.errCode + \"\"));\n                        TokenSrv.setToken('');\n\n                        var $state = $injector.get('$state');\n                        $injector.get('$state').go('app');\n                    }\n                    if (response.data.errCode && response.data.errCode !== 0) {\n                        $injector.get('NoticeSrv').error($injector.get('ErrorSrv').getError(response.data.errCode + \"\"));\n                        console.log('errCode:' + response.data.errCode);\n                    }\n\n\n                    return response;\n                }\n            };\n            return myInterceptor;\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('mad')\n    .factory('ErrorSrv', ErrorSrv);\n\n  /** @ngInject */\n  function ErrorSrv() {\n    var error, getError;\n\n    error = {\n        '101': '令牌不存在或已经过期, 请重新登陆',\n        '102':'用户名或密码错误',\n        '103':'该用户邮箱未验证',\n        '104':'该用户邮箱已被注册',\n        '105':'该用户手机号已被注册',\n        '106':'该用户手机号未验证',\n        '107':'邮箱验证码过期或错误，验证失败，需要重新注册',\n        '108':'参数不正确',\n        '109':'',\n        '111':'',\n        '112':'',\n        '113':'',\n        '201':'广告不存在',\n        '202':'广告类别错误',\n        '203':'广告标题不能为空',\n        '204':'投放地点错误',\n        '205':'广告起始日期不能大于结束日期',\n        '206':'广告状态错误',\n        '207':'广告上传失败',\n        '208':'广告下架失败',\n        '209':'发布广告失败',\n        '210':'保存草稿太频繁',\n        '211':'',\n        '301':'金额必须大于0',\n        '302':'验证信息不完整',\n        '303':'图片上传失败',\n        '304':'退款金额大于余额',\n        '305':'旧密码不对',\n        '306':'行政区映射修改失败',\n        '307':'',\n        '308':'',\n        '999':'未知错误'\n\n    };\n\n    getError = function(errCode) {\n        return error[errCode];\n    };\n\n    return {\n        getError: getError\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('mad')\n    .service('AdvertiserSrv', AdvertiserSrv);\n\n  /** @ngInject */\n  function AdvertiserSrv($resource, baseURL) {\n\n    this.applyState = {\n      '01': '申请等待处理',\n      '00': '申请被拒绝',\n      '11': '申请通过'\n    }\n\n\n    this.register = function () {\n        return $resource(baseURL + '/signup');\n    };\n\n    this.login = function () {\n        return $resource(baseURL + '/login');\n    };\n\n    this.checkInfo = function () {\n        return $resource(baseURL + '/account/check');\n    };\n\n    this.formatCheckInfo = function (data) {\n\n      if (data.businessPeriodIsLong) {\n        data.businessPeriod = '长期';\n      } else {\n        var day = moment(data.businessPeriod);\n        data.businessPeriodStr = day.format('YYYY-MM-DD HH:mm:ss');\n\n      }\n\n      if (data.legalPersonIdIsLong) {\n        data.legalPersonValidDateStr = '长期';\n      } else {\n        day = moment(data.legalPersonValidDate);\n        data.legalPersonValidDateStr = day.format('YYYY-MM-DD HH:mm:ss');\n      }\n\n      return data;\n    };\n\n    this.parseCheckInfo = function (data) {\n      // 单位所在地，营业期限\n      // 省份证有效期\n      // 填写人身份\n      data.companyLocationProvince = data.location.split(',')[0];\n      data.companyLocationDistrict = data.location.split(',')[1];\n      var day;\n      if (!data.legalPerson.iflongterm) {\n        day = moment(data.businessPeriod);\n        data.periodDate = day.toDate();\n      }\n\n      if (!data.periodIsLong) {\n        day = moment(data.legalPerson.validDate);\n        data.legalPerson.idValidDate = day.toDate();\n      }\n\n      return data;\n    };\n\n    this.parseDateFromStr = function (dateStr) {\n      var momentDate = moment(dateStr);\n      return momentDate.toDate();\n    };\n\n    this.formatDate = function (date) {\n      var momentDate = moment(date);\n      return momentDate.format('YYYY-MM-DD HH:mm:ss');\n    }\n\n    this.getAccountDetails = function () {\n      return $resource(baseURL + '/account/detail');\n    };\n\n    this.getMessages = function () {\n      return $resource(baseURL + '/message');\n    };\n\n    this.recharge = function () {\n      return $resource(baseURL + '/account/recharge');\n    };\n\n    this.refund = function () {\n      return $resource(baseURL + '/account/refund');\n    };\n\n    this.getRechargeHistory = function () {\n      return $resource(baseURL + '/account/recharge/all');\n    };\n\n    this.getRefundHistory = function () {\n      return $resource(baseURL + '/account/refund/all');\n    };\n\n    this.changePassword = function () {\n      return $resource(baseURL + '/account/changePwd');\n    };\n\n    this.changeAlipay = function () {\n      return $resource(baseURL + '/account/changeAlipay');\n    };\n\n    this.getCheckDetail = function () {\n      return $resource(baseURL + '/account/check/detail');\n    };\n\n    this.getUpToken = function () {\n      return $resource(baseURL + '/account/check/uptoken');\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('mad')\n    .service('AdvertisementSrv', AdvertisementSrv);\n\n  /** @ngInject */\n  function AdvertisementSrv($resource, baseURL) {\n\n    this.advertTypes = [{\n      id: 'other',\n      type: '其他'\n    },{\n      id: 'accommodation',\n      type: '食宿'\n    }, {\n      id: 'commodity',\n      type: '商品'\n    }, {\n      id: 'education',\n      type: '教育'\n    },{\n      id: 'entertainment',\n      type: '影视娱乐'\n    },{\n      id: 'recruit',\n      type: '招聘'\n    },{\n      id: 'service',\n      type: '服务'\n    },{\n      id: 'social',\n      type: '社交'\n    },{\n      id: 'tenancy',\n      type: '租赁'\n    }];\n\n    this.types = {\n      'other': '其他',\n      'accommodation': '食宿',\n      'commodity': '商品',\n      'education': '教育',\n      'entertainment': '影视娱乐',\n      'recruit': '招聘',\n      'service': '服务',\n      'social': '社交',\n      'tenancy': '租赁'\n    };\n\n\n\n    this.advertCities = [{\n      id: 'Shanghai',\n      city: '上海'\n    }];\n\n\n    this.getReleaseAdvertisement = function () {\n        return $resource(baseURL + '/advertisement/list/all');\n    };\n\n    this.saveDraftAdvertisement = function () {\n        return $resource(baseURL + '/advertisement/save');\n    };\n\n    this.getAdvertisementById = function () {\n        return $resource(baseURL + '/advertisement/:advertId', {\n          advertId: 'advertId'\n        });\n    };\n\n    this.submitAdvertisementById = function () {\n        return $resource(baseURL + '/advertisement/release');\n    };\n\n    this.getDistrictsByCity = function () {\n        return $resource(baseURL + '/advertisement/district/all');\n    };\n\n    this.removeAdvertisementById = function () {\n        return $resource(baseURL + '/advertisement/remove');\n    };\n\n    this.parseAdvertisement = function (advertisement, i) {\n        advertisement.number = i;\n        var state = '未知'\n        advertisement.catalog = this.types[advertisement.catalog];\n        if (advertisement.status === '001') {\n          state = '正常投放';\n          advertisement.isDisableOff = true;\n          advertisement.stateClass = \"xmd-passed\";\n        } else if (advertisement.status === '010') {\n          state = '草稿';\n          advertisement.canSubmit = true;\n          advertisement.isDisableModify = true;\n          advertisement.stateClass = \"xmd-draft\";\n        } else if (advertisement.status === '100') {\n          state = '待审核';\n          advertisement.isDisableCancel = true;\n          advertisement.stateClass = \"xmd-notSubmitted\";\n          advertisement.canCancel = true;\n        } else if (advertisement.status === '000') {\n          state = '审核未通过';\n          advertisement.isDisableModify = true;\n          advertisement.stateClass = \"xmd-notPassed\";\n        } else if (advertisement.status === '101') {\n          state = '广告被下架';\n          addEventListener.isDisableModify = true;\n          advertisement.stateClass = \"xmd-removed\";\n        }\n        advertisement.state = state;\n\n        return advertisement;\n    };\n\n    this.formatAdvertisement = function (advertisement) {\n      advertisement.city = 'Shanghai';\n\n      // format date\n      var startDay = moment(advertisement.startDate).toDate();\n      var endDay = moment(advertisement.endDate).toDate();\n\n      advertisement.startDate = startDay;\n      advertisement.endDate = endDay;\n\n      return advertisement;\n    };\n\n    this.parseDate = function (date) {\n      var momentDate = moment(date);\n      return momentDate.format('YYYY-MM-DD HH:mm:ss');\n    }\n  }\n})();\n\n/**\n * Created by LENOVO on 2016/3/29.\n */\n(function () {\n  'use strict';\n  angular\n    .module('mad')\n    .controller('AdvertSatisticsCtrl', AdvertSatisticsCtrl);\n\n  function AdvertSatisticsCtrl($scope, StatisticsSrv) {\n    // $scope.totalPay = \"111111\";\n    // $scope.totalTopUp = \"222\";\n    // $scope.tableContent = [[\"123321245657\",\"广告标题1\",\"2016-01-01\",\"100000\",\"1000\"],[\"123321245657\",\"广告标题2\",\"2016-02-01\",\"200000\",\"1500\"]]\n  \n    $scope.advertCollection = [];\n  \n    StatisticsSrv.getAdvertisementStatistics().get().$promise\n      .then(function (response) {\n        if (response.errCode === 0) {\n          console.log(response.advertisement);\n          $scope.advertCollection = response.advertisement;\n        }\n      }, function (error) {\n        console.log(error);\n      });\n  }\n\n\n})();\n\n/**\n * Created by Li on 2016/3/29.\n */\n(function () {\n  'use strict';\n  angular\n    .module('mad')\n    .controller('NotificationCtrl', NotificationCtrl);\n\n  function NotificationCtrl($scope, AdvertiserSrv) {\n    var list;\n\n    AdvertiserSrv.getMessages().get().$promise.then(function(response) {\n      if (response.errCode === 0) {\n        // console.log(response.messages);\n        list = response.messages;\n        list.forEach(function (message) {\n          message.date = AdvertiserSrv.parseDateFromStr(message.date);\n        });\n        list.sort(function (a, b) {\n            return b.date.getTime() - a.date.getTime();\n        });\n        list.forEach(function (message) {\n          message.date = AdvertiserSrv.formatDate(message.date);\n        });\n\n        $scope.notificationContents = list;\n      }\n    });\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('mad')\n    .controller('MainCtrl', MainController);\n\n// TODO: 发邮件功能，应该再加上用户邮箱；立即注册按钮的事件\n\n  /** @ngInject */\n  function MainController() {\n  }\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('mad')\n    .controller('AdvertCtrl', AdvertCtrl);\n\n  function AdvertCtrl($scope, $state, AdvertisementSrv, NoticeSrv) {\n    var i = 0;\n    $scope.advertList = [];\n    $scope.itemsByPage = 10;\n    $scope.advertCollection = [];\n\n    // 获取广告信息\n    AdvertisementSrv.getReleaseAdvertisement().get().$promise.then(function(response) {\n        if (response.errCode === 0) {\n          for (i = 0; i < response.advertisement.length; i += 1) {\n            var advert = response.advertisement[i];\n            $scope.advertList.push(AdvertisementSrv.parseAdvertisement(advert, i));\n          }\n          // console.log($scope.advertList);\n          $scope.advertCollection = [].concat($scope.advertList);\n        }\n      }, function(error) {\n        console.log('获取广告列表失败');\n        NoticeSrv.error('获取广告列表失败');\n      });\n    $scope.advertCollection = [].concat($scope.advertList);\n\n    //下架接口\n    $scope.removeAdvertisementById = function (id) {\n      AdvertisementSrv.removeAdvertisementById().save({\n        id: id\n      }).$promise.then(\n        function (response) {\n          console.log(response.errMessage);\n          if (0 === response.errCode) {\n            NoticeSrv.success(\"广告下架成功\");\n            \n            $state.reload('app.advert');\n          }\n        }, function (error) {\n          NoticeSrv.notice('未知错误:' + error);\n        }\n      );\n    };\n\n    \n    //提交审核接口\n    $scope.submitAdvertisementById = function (id) {\n      if(id == null) {\n        NoticeSrv.notice(\"广告ID有误\");\n        return;\n      }\n      //输入有效\n      $scope.thereIsError = false;\n      //发送请求\n      AdvertisementSrv.submitAdvertisementById().get({\n        id: id\n      }).$promise.then(\n        function (response) {\n          console.log(response);\n          if (0 == response.errCode) {\n            NoticeSrv.success(\"广告提交审核成功\");\n\n            $state.reload('app.advert');\n          } else {\n            // 错误处理\n            NoticeSrv.notice('未知错误:' + response.errCode);\n          }\n        }, function (error) {\n          NoticeSrv.notice('未知错误:' + error);\n        }\n      );\n    }\n  }\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('mad')\n    .controller('AdvertEditCtrl', AdvertEditCtrl);\n\n  function AdvertEditCtrl($scope, $stateParams, $state, NoticeSrv, AdvertisementSrv) {\n    $scope.advertTypes = AdvertisementSrv.advertTypes;\n    $scope.advertCities = AdvertisementSrv.advertCities;\n\n    var selectedBefore = [];\n\n    if ('' !== $stateParams.advertId) {\n      // 修改广告信息\n      $scope.pageTitle = '修改广告';\n      $scope.pageDetail = '';\n      $scope.advertId = $stateParams.advertId;\n\n      //获取广告详情\n      AdvertisementSrv.getAdvertisementById().get({\n        advertId: $scope.advertId\n      }).$promise.then(function (response) {\n        if (0 === response.errCode) {\n          //console.log('advertDetail');\n          //console.log(response.advertisement);\n\n          //格式化数据\n          $scope.advertisement = AdvertisementSrv.formatAdvertisement(response.advertisement);\n\n          //获取商圈列表\n          console.log($scope.advertisement.city);\n          AdvertisementSrv.getDistrictsByCity().get({\n            city: $scope.advertisement.city\n          }).$promise.then(\n            function (response) {\n              if (response.errCode === 0) {\n                var districts = response.broadcastLocation;\n                var selected = $scope.advertisement.broadcastLocation;\n                selectedBefore = $scope.advertisement.broadcastLocation;\n                //检查selected状况并添加key\n                districts.forEach(function (district) {\n                  if (selected.indexOf(district.id) === -1) {\n                    district[\"selected\"] = false;\n                  } else {\n                    district[\"selected\"] = true;\n                  }\n                });\n                $scope.districts = districts;\n              }\n            }, function (error) {\n              console.log('失败');\n              console.log(error);\n            });\n        }\n      }, function (error) {\n        console.log('get advert detail error');\n        console.log(error);\n      });\n    } else {\n      // 新增广告\n      // 修改标题\n      $scope.pageTitle = '新增广告';\n      $scope.pageDetail = '所有信息都必填';\n      $scope.advertId = null;\n\n      // 初始化广告数据\n      $scope.advertisement = {\n        city: 'Shanghai',\n        catalog: 'other',\n        price: '0'\n      };\n\n      AdvertisementSrv.getDistrictsByCity().get({\n           city: $scope.advertisement.city\n         }).$promise.then(\n           function (response) {\n             if (response.errCode === 0) {\n               var districts = response.broadcastLocation;\n               $scope.advertisement.broadcastLocation = [];\n               //检查selected状况并添加key\n               districts.forEach(function (district) {\n                //  districtArray.push(district.id);\n                 \n                 district[\"selected\"] = true;\n                 $scope.advertisement.broadcastLocation.push(district.id);\n                 selectedBefore.push(district.id);\n               });\n               $scope.districts = districts;\n      \n             }\n           }, function (error) {\n             console.log('失败');\n             console.log(error);\n           });\n    }\n    \n    function wordCount(input) {\n      var wordNum = 0;\n      var contentArray = input.split(' ');\n      var wordArray;\n      contentArray.forEach(function (word) {\n        if (word.search(/[\\u4e00-\\u9fa5]/g) !== -1) {\n          // 有汉字，再切一次\n          wordArray = word.split('');\n          wordNum += wordArray.length;\n        } else {\n          wordNum += 1;\n        }\n      });\n      return wordNum;\n    }\n    \n    function districtCount(districts) {\n      var num = 0;\n      districts.forEach(function (district) {\n        if (district.selected) {\n          num += 1;\n        }\n      });\n      return num;\n    }\n    \n    function calculatePrice(fontNum, districtNum) {\n      var price = (fontNum/districtNum);\n      return price.toFixed(2);\n    }\n      \n    $scope.changeContent = function (newVal) {\n      if (newVal) {\n        var wordNum = wordCount(newVal);\n        var districtNum = districtCount($scope.districts);\n        $scope.advertisement.price = calculatePrice(wordNum, districtNum);\n        console.log($scope.advertisement.price);\n      }\n    };\n    \n    $scope.changeDistrict = function () {\n      // 遍历districts\n      var num = districtCount($scope.districts);\n      if (num !== 0 && $scope.advertisement.content) {\n        // 字数或者单词数\n        var wordNum = wordCount($scope.advertisement.content);\n        \n        $scope.advertisement.price = calculatePrice(wordNum, num); \n      } else {\n        $scope.advertisement.price = 0;\n      }\n      console.log($scope.advertisement.price);\n    };\n\n    //暂存草稿\n    $scope.saveDraft = function() {\n      $scope.check = {\n        title: {\n          isEmpty: false,\n          isTooLong: false\n        }, \n        content: {\n          isEmpty: false,\n          isTooLong: false\n        },\n        district: {\n          isEmpty: false\n        },\n        startDate: {\n          isEmpty: false\n        }, \n        endDate: {\n          isEmpty: false,\n          earlyThanStart: false\n        }\n      };\n      \n      // 获取最后被选中的行政区\n      var selectedArray = [];\n      $scope.districts.forEach(function (district) {\n        if (district.selected) {\n          selectedArray.push(district.id);\n        }\n      });\n      \n      // 输入检查\n      if ($scope.advertisement) {\n        // title\n        if (!$scope.advertisement.title) {\n          $scope.check.title.isEmpty = true;\n          return;\n        } else {\n          if (wordCount($scope.advertisement.title) > 20) {\n            $scope.check.title.isTooLong = true;\n            return;\n          }\n        }\n        \n        // content\n        if (!$scope.advertisement.content) {\n          $scope.check.content.isEmpty = true;\n          return;\n        } else {\n          if (wordCount($scope.advertisement.content) > 60) {\n            $scope.check.content.isTooLong = true;\n            return;\n          }\n        }\n        \n        // district\n        if (selectedArray.length < 1) {\n          $scope.check.district.isEmpty = true;\n          return;\n        }\n        \n        // startDate\n        if (!$scope.advertisement.startDate) {\n          $scope.check.startDate.isEmpty = true;\n          return;\n        }\n        \n        // endDate\n        if (!$scope.advertisement.endDate) {\n          $scope.check.endDate.isEmpty = true;\n          return;\n        } else {\n          if ($scope.advertisement.startDate.getTime() > $scope.advertisement.endDate.getTime()) {\n            $scope.check.endDate.earlyThanStart = true;\n            return;\n          }\n        }        \n      } else {\n        // 全部填true\n        $scope.check = {\n          title: {\n            isEmpty: true,\n            isTooLong: true\n          }, \n          content: {\n            isEmpty: true,\n            isTooLong: true\n          },\n          district: {\n            isEmpty: true\n          },\n          startDate: {\n            isEmpty: true\n          }, \n          endDate: {\n            isEmpty: true,\n            earlyThanStart: true\n          }\n        };\n        \n        return;\n      }\n      \n       \n\n      // 获取原先选中的行政区\n      selectedBefore = $scope.advertisement.broadcastLocation;\n      \n      var advertisement = $scope.advertisement;\n\n      var startDate = AdvertisementSrv.parseDate($scope.advertisement.startDate);\n      var endDate = AdvertisementSrv.parseDate($scope.advertisement.endDate);\n      \n      // 往后端传,多加2个attribute: 1.add:新加的location 2.remove:减少的location\n      var result = compareArray(selectedBefore, selectedArray);\n      //console.log(\"selectedBefore:\");\n      //console.log(selectedBefore);\n      //console.log(\"selectedArray:\");\n      //console.log(selectedArray);\n      //console.log(\"added:\");\n      //console.log(result.add);\n      //console.log(\"removed:\");\n      //console.log(result.remove);\n      // console.log(typeof advertisement.price);\n      advertisement.price = parseFloat(advertisement.price);\n      \n      // 发送请求\n      AdvertisementSrv.saveDraftAdvertisement().save({\n        \"id\": $scope.advertId,\n        \"title\": advertisement.title,\n        \"content\": advertisement.content,\n        \"catalog\": advertisement.catalog,\n        \"broadcastLocation\": selectedArray,\n        \"startDate\": startDate,\n        \"endDate\": endDate,\n        \"city\": advertisement.city,\n        \"price\": advertisement.price,\n        \"add\": result.add,\n        \"remove\": result.remove\n      }).$promise.then(\n        function (response) {\n          if (response.errCode === 0) {\n            console.log('保存草稿成功');\n            console.log(response);\n            // $('#successModal').modal('show');\n            $state.go('app.advert.edit', {advertId: response.id});\n            NoticeSrv.success('保存草稿成功');\n          }\n\n        }, function (error) {\n          console.log('保存草稿失败');\n          console.log(error);\n        });\n    };\n\n    //审核提交\n    $scope.submitApply = function() {\n      console.log($scope.advertisement);\n      if (!$scope.advertisement || !$scope.advertisement.title\n        || !$scope.advertisement.content || !$scope.advertisement.catalog\n        || !$scope.advertisement.city || !$scope.advertisement.startDate || !$scope.advertisement.endDate) {\n        console.log('输入检查');\n\n        return;\n      }\n\n      AdvertisementSrv.submitAdvertisementById().get({\n        \"id\": $scope.advertId\n      }).$promise.then(\n        function (response) {\n          if (response.errCode === 0) {\n            $scope.resultTitle = '提交成功';\n            $scope.resultDetail = '您的广告（编号为：'+$scope.advertId+'）已经提交至审核区，您可以在消息通知中查看审核结果，请耐心等待，谢谢！';\n            $('#successModal').modal('show');\n            console.log(response);\n          }\n          //  else {\n          //   $scope.thereIsError = true;\n          //   $scope.errMessage = '未知错误: '+response.errCode;\n          // }\n        }, function (error) {\n          $scope.thereIsError = true;\n          $scope.errMessage = '未知错误: '+error;\n          console.log('提交失败');\n          console.log(error);\n        });\n    };\n    \n    $('#successModal').on('hidden.bs.modal', function (e) {\n      $state.go('app.advert');\n    });\n\n    /**\n     * helper: 比较两个array并返回add和remove\n     * @param before\n     * @param after\n     */\n    var compareArray = function(before,after) {\n      var add = new Array;\n      var remove = new Array;\n      // 对于每个after,如果不存在于before中,则添加入add数组\n      after.forEach(function (aft) {\n        if(before.indexOf(aft) === -1) {\n          add.push(aft);\n        }\n      });\n      // 对于每个before,如果不存在于after中,则添加入remove\n      before.forEach(function (bef) {\n        if(after.indexOf(bef) === -1) {\n          remove.push(bef);\n        }\n      });\n      return {\n        add: add,\n        remove: remove\n      }\n    }\n  }\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('mad')\n    .controller('AdvertDetailCtrl', AdvertDetailCtrl);\n\n  function AdvertDetailCtrl($scope, $stateParams, AdvertisementSrv) {\n    $scope.advertId = $stateParams.advertId;\n        \n    AdvertisementSrv.getAdvertisementById().get({\n      advertId: $scope.advertId\n    }).$promise.then(function (response) {\n      if (0 === response.errCode) {\n        console.log('advertDetail');\n        console.log(response.advertisement);\n        $scope.advertisement = AdvertisementSrv.parseAdvertisement(response.advertisement);\n        \n         AdvertisementSrv.getDistrictsByCity().get({city: $scope.advertisement.city}).$promise.then(\n            function (response) {\n              if (response.errCode === 0) {\n                // Parse投放商圈\n                var districts = response.broadcastLocation;\n                var districtStr = '';\n                $scope.advertisement.broadcastLocation.forEach(function (districtId) {\n                  for (var i = 0; i < districts.length; i += 1) {\n                    if (districts[i].id === districtId) {\n                      districtStr += (districts[i].name + ',');\n                      break;\n                    }\n                  }\n                });\n                districtStr = districtStr.substring(0, districtStr.length-1);\n                $scope.locations = districtStr;\n              }\n            }, function (error) {\n              console.log('失败');\n              console.log(error);\n            });\n    \n      }\n    }, function (error) {\n      console.log('get advert detail error');\n      console.log(error);\n    });\n    \n    \n   \n    \n  }\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('mad')\n    .controller('AccountRefundCtrl', AccountRefundCtrl);\n\n  function AccountRefundCtrl($scope, NoticeSrv, AdvertiserSrv) {\n\n    // 广告商账户信息展示\n    // TODO:广告商头像\n    AdvertiserSrv.getAccountDetails().get().$promise.then(function(response) {\n      if (response.errCode === 0) {\n        $scope.alipay = response.advertiser.alipay;\n        $scope.email = response.advertiser.email;\n        $scope.name = response.advertiser.name;\n        $scope.balance = response.advertiser.balance;\n      }\n    });\n\n    // 显示余额\n    $scope.getBalance = function getBalance() {\n      $('#balance-btn').hide();\n      $('#balance-label').show();\n    };\n\n    function getRefunds() {\n      $scope.rowCollection = [];\n      AdvertiserSrv.getRefundHistory().get().$promise.then(\n        function (response) {\n          var i = 0;\n          var state = '';\n          if (response.errCode === 0) {\n            console.log('退款记录')\n            console.log(response);\n            for (i = 0; i < response.refundHistory.length; i++) {\n              response.refundHistory[i].state = AdvertiserSrv.applyState[response.refundHistory[i].status];\n              $scope.rowCollection.push(response.refundHistory[i]);\n            }\n          }\n        }, function (error) {\n          console.log('退款记录Error');\n          console.log(error);\n          NoticeSrv.error('退款申请提交失败');\n        });\n    }\n    \n    getRefunds();\n    \n    \n    // 退款操作\n    $scope.refund = function (amount, account) {\n      if (!amount || !account) {\n        // $scope.thereIsError = true;\n        // $scope.errMessage = '';\n        NoticeSrv.notice('请输入完整信息');\n        return;\n      }\n\n      if (amount < 0) {\n        // $scope.thereIsError = true;\n        // $scope.errMessage = '';\n        NoticeSrv.notice('请输入合法退款金额');\n        return;\n      }\n\n      $scope.thereIsError = false;\n      AdvertiserSrv.refund().save({\n        refund: amount,\n        Alipay: account\n      }).$promise.then(\n        function (response) {\n          console.log(response);\n          if (0 == response.errCode) {\n            console.log('退款申请成功');\n            // $('#successModal').modal('show');\n            NoticeSrv.success('退款申请提交成功');\n            getRefunds();\n          } \n        }, function (error) {\n          console.log('退款失败');\n          console.log(error);\n          // $scope.thereIsError = true;\n          // $scope.errMessage = '未知错误:' + error;\n          NoticeSrv.error('退款申请提交失败');\n        }\n      );\n    }\n  }\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('mad')\n    .controller('AccountRechargeCtrl', AccountRechargeCtrl);\n\n  function AccountRechargeCtrl($scope, NoticeSrv, AdvertiserSrv) {\n\n    $scope.checkbox = {\n      trueValue : true\n    };\n\n    // 显示余额\n    $scope.getBalance = function getBalance() {\n      $('#balance-btn').hide();\n      $('#balance-label').show();\n    };\n\n    function getRecharges() {\n      $scope.rowCollection = [];\n\n      AdvertiserSrv.getRechargeHistory().get().$promise.then(\n        function (response) {\n          var i = 0;\n          var state = '';\n          if (response.errCode === 0) {\n            console.log('充值记录')\n            console.log(response);\n            for (i = 0; i < response.rechargeHistory.length; i++) {\n              response.rechargeHistory[i].state = AdvertiserSrv.applyState[response.rechargeHistory[i].status];\n              $scope.rowCollection.push(response.rechargeHistory[i]);\n            }\n          }\n        }, function (error) {\n          console.log('充值记录Error');\n          console.log(error);\n        });\n    }\n    getRecharges();\n\n    // 广告商账户信息展示\n    // TODO:广告商头像\n    AdvertiserSrv.getAccountDetails().get().$promise.then(function(response) {\n      if (response.errCode === 0) {\n        $scope.alipay = response.advertiser.alipay;\n        $scope.email = response.advertiser.email;\n        $scope.name = response.advertiser.name;\n        $scope.balance = response.advertiser.balance;\n      }\n    });\n\n    // 显示账户充值二维码\n    $scope.recharge = function (account, amount) {\n      if(!account || !amount) {\n        // $scope.thereIsError = true;\n        // $scope.errMessage = '请输入完整信息';\n        NoticeSrv.notice('请输入完整信息');\n      } else {\n        $scope.thereIsError = false;\n        // 根据amount显示modal图片\n        console.log(typeof amount);\n        if(typeof amount === \"string\") {\n          amount = parseInt(amount);\n          console.log(typeof amount);\n        }\n        switch (amount) {\n          case 50:\n            $scope.qrCodeImage = \"http://mad-10035512.file.myqcloud.com/50.jpg\";\n            break;\n          case 100:\n            $scope.qrCodeImage = \"http://mad-10035512.file.myqcloud.com/100.jpg\";\n            break;\n          case 200:\n            $scope.qrCodeImage = \"http://mad-10035512.file.myqcloud.com/200.jpg\";\n            break;\n          case 500:\n            $scope.qrCodeImage = \"http://mad-10035512.file.myqcloud.com/500.jpg\";\n            break;\n          default :\n        }\n        $('#qrCodeModal').modal('show');\n      }\n    };\n\n    // 充值申请\n    $scope.rechargeFinish = function(account, amount) {\n      if(typeof amount === \"string\") {\n        amount = parseInt(amount);\n        console.log(typeof amount);\n      }\n      AdvertiserSrv.recharge().save({\n        recharge: amount,\n        Alipay: account\n      }).$promise.then(\n        function (response) {\n          console.log(response);\n          if (0 == response.errCode) {\n            console.log('充值申请成功');\n            $('#qrCodeModal').modal('hide');\n            // $('#successModal').modal('show');\n            NoticeSrv.success('充值成功');\n            getRecharges();\n          }\n        }, function (error) {\n          console.log('充值失败');\n          console.log(error);\n          // $scope.thereIsError = true;\n          // $scope.errMessage = '未知错误:' + error;\n          NoticeSrv.error('充值失败');\n        });\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('mad')\n    .controller('AccountCheckCtrl', AccountCheckCtrl);\n\n    /** @ngInject */\n  function AccountCheckCtrl($scope, $state, $log, $qupload, $window, AdvertiserSrv, NoticeSrv) {\n\n    // 获取图片上传token\n    AdvertiserSrv.getUpToken().get().$promise.then(\n      function (response) {\n        if (response.errCode === 0) {\n          $window.localStorage['upToken'] = response.uptoken;\n          // console.log('uptoken:  ' + $window.localStorage['upToken']);\n        }\n      }).catch(function (error) {\n        NoticeSrv.error('未知错误');\n      });\n\n\n    // 上传图片\n    $scope.selectFiles = [];\n      console.log($window.localStorage['upToken']);\n  \t\tvar start = function (index) {\n  \t\t\t$scope.selectFiles[index].progress = {\n  \t\t\t\tp: 0\n  \t\t\t};\n  \t\t\t$scope.selectFiles[index].upload = $qupload.upload({\n  \t\t\t\tkey: $scope.selectFiles[index].file.name.split('.')[0],\n  \t\t\t\tfile: $scope.selectFiles[index].file,\n          token: $window.localStorage['upToken']\n  \t\t\t});\n  \t\t\t$scope.selectFiles[index].upload.then(function (response) {\n  \t\t\t\t$log.info(response);\n          $scope.upload = {\n            result: '上传成功',\n            picUrl: 'http://o7epbv9gm.bkt.clouddn.com/' + response.key,\n            isSuccess: true\n          }\n  \t\t\t}, function (response) {\n  \t\t\t\t$log.info(response);\n          $scope.upload = {\n            result: '上传失败',\n            isSuccess: false\n          }\n  \t\t\t}, function (evt) {\n  \t\t\t\t$scope.selectFiles[index].progress.p = Math.floor(100 * evt.loaded / evt.totalSize);\n  \t\t\t});\n  \t\t};\n\n  \t\t$scope.abort = function (index) {\n  \t\t\t$scope.selectFiles[index].upload.abort();\n  \t\t\t$scope.selectFiles.splice(index, 1);\n  \t\t};\n\n  \t\t$scope.onFileSelect = function ($files) {\n  \t\t\tvar offsetx = $scope.selectFiles.length;\n  \t\t\tfor (var i = 0; i < $files.length; i++) {\n  \t\t\t\t$scope.selectFiles[i + offsetx] = {\n  \t\t\t\t\tfile: $files[i]\n  \t\t\t\t};\n  \t\t\t\tstart(i + offsetx);\n  \t\t\t}\n  \t\t}\n\n\n    AdvertiserSrv.getCheckDetail().get().$promise.then(\n      function (response) {\n\n        if (response.errCode === 0) {\n          if (response.detail) {\n            // console.log(response.detail);\n            // 有验证信息，把数据填到页面上，disabled掉提交按钮\n            var detail = AdvertiserSrv.parseCheckInfo(response.detail);\n            console.log(detail);\n\n            $scope.checkStatus = {\n              'unsubmitted': false\n            };\n\n            if (detail.status === '100') {\n              $scope.checkStatus.submitted = false;\n              $scope.checkStatus.completedCheck = true;\n            } else {\n              $scope.checkStatus.submitted = true;\n              $scope.checkStatus.completedCheck = false;\n            }\n\n\n            $scope.detail = {\n              companyType: detail.type,\n              licenseType: detail.licenseType,\n              companyName:detail.companyName,\n              licenseCode:detail.licenseCode,\n              companyLocationProvince: detail.companyLocationProvince,\n              companyLocationDistrict: detail.companyLocationDistrict,\n              accomodation:detail.accomodation,\n              businessScope:detail.businessScope,\n              businessPeriod: detail.periodDate,\n              periodIsLong: detail.periodIsLong,\n              organizationCode: detail.organizationCode,\n              legalPersonName: detail.legalPerson.name,\n              legalPersonLocation: detail.legalPerson.location,\n              legalPersonId: detail.legalPerson.id,\n              legalPersonValidDate: detail.legalPerson.idValidDate,\n              legalPersonIdIsLong: detail.legalPerson.iflongterm,\n              legalPersonIflegalperson: detail.legalPerson.iflegalperson,\n              contactEmail: detail.contactEmail,\n              licenseImageUrl: detail.licenseImageUrl\n            };\n          } else {\n            $scope.checkStatus = {\n              'unsubmitted': true\n            };\n          }\n        }\n      },function (error) {\n        console.log(error);\n      });\n\n\n    $scope.submit = function () {\n      // 输入检查\n      if (!$scope.detail || !checkInfoValid($scope.detail)) {\n        // console.log('输入检查');\n        // console.log($scope.detail);\n        NoticeSrv.notice('请输入合法信息');\n        return;\n      }\n\n      // 格式化数据\n      var detail = AdvertiserSrv.formatCheckInfo($scope.detail);\n      // console.log(detail);\n\n      AdvertiserSrv.checkInfo().save({\n        \"detail\": {\n            \"type\": detail.companyType,\n            \"licenseType\": detail.licenseType,\n            \"companyName\": detail.companyName,\n            \"licenseCode\": detail.licenseCode,\n            \"licenseImageUrl\": $scope.upload.picUrl,\n            \"location\": detail.companyLocationProvince + ',' + detail.companyLocationDistrict,\n            \"accomodation\": detail.accomodation,\n            \"businessScope\": detail.businessScope,\n            \"businessPeriod\": detail.businessPeriodStr,\n            \"periodIsLong\": detail.periodIsLong,\n            \"organizationCode\": detail.organizationCode,\n            \"legalPerson\": {\n                \"name\": detail.legalPersonName,\n                \"location\": detail.legalPersonLocation,\n                \"id\": detail.legalPersonId,\n                \"validDate\": detail.legalPersonValidDateStr,\n                \"iflongterm\": detail.legalPersonIdIsLong,\n                \"iflegalperson\": detail.legalPersonIflegalperson\n            },\n            \"contactEmail\": detail.contactEmail\n        }\n      }).$promise.then(\n        function (response) {\n          if (response.errCode === 0) {\n            // console.log('提交checkInfo成功');\n            // console.log(response);\n            NoticeSrv.success('提交验证信息成功');\n            $state.go('app.account.check', {reload: true});\n          }\n        }, function (error) {\n          // console.log('提交checkInfo失败');\n          // console.log(error);\n        });\n    }\n  }\n\n  function checkInfoValid(detail) {\n    if (detail.accomodation && detail.businessScope\n      && detail.companyLocationDistrict\n      && detail.companyLocationProvince && detail.companyName\n      && detail.companyType && detail.contactEmail\n      && detail.legalPersonId && detail.legalPersonIflegalperson\n      && detail.legalPersonLocation && detail.legalPersonName\n      && detail.licenseCode\n      && detail.licenseType && detail.organizationCode) {\n        if ((detail.businessPeriod || detail.periodIsLong) && (detail.legalPersonValidDate || detail.legalPersonIdIsLong)) {\n\n          // 不能日期和长期都填\n          if (detail.businessPeriod && detail.periodIsLong) {\n            return false;\n          }\n          if (detail.legalPersonValidDate && detail.legalPersonIdIsLong) {\n            return false;\n          }\n          return true;\n        }\n    }\n    return false;\n  }\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('mad')\n    .controller('AccountCtrl', AccountCtrl);\n\n  /** @ngInject */\n  function AccountCtrl($scope, $state, NoticeSrv, AdvertiserSrv) {\n    angular.module('tabsDemoDynamicHeight', ['ngMaterial']);\n    //获取账户信息\n    AdvertiserSrv.getAccountDetails().get().$promise.then(function(response) {\n      if (response.errCode === 0) {\n        $scope.alipay = response.advertiser.alipay;\n        $scope.email = response.advertiser.email;\n        $scope.name = response.advertiser.name;\n        var status = response.advertiser.status;\n        if (status === \"010\") { //未审核\n          $scope.notVerified = true;\n          $scope.isPassed = false;\n          $scope.notPassed = false;\n        } else if (status === \"100\") {\n          $scope.notVerified = false;\n          $scope.isPassed = true;\n          $scope.notPassed = false;\n        } else {\n          $scope.notVerified = false;\n          $scope.isPassed = false;\n          $scope.notPassed = true;\n        }\n      }\n    }, function (error) {\n      NoticeSrv.error('未能获取用户信息');\n      console.log(error);\n    });\n    //修改支付宝的接口\n    $scope.changeAlipay = function (alipay) {\n      //验证输入有效性\n      if(!alipay) {\n        $scope.thereIsError = true;\n        $scope.errMessage = '请输入完整信息';\n        return;\n      }\n      if(alipay === $scope.alipay) {\n        $scope.thereIsError = true;\n        $scope.errMessage = '输入的支付宝账号与现在账号相同';\n        return;\n      }\n      //输入有效\n      $scope.thereIsError = false;\n      //发送请求\n      AdvertiserSrv.changeAlipay().save({\n        Alipay: alipay\n      }).$promise.then(\n        function (response) {\n          console.log(response);\n          if (0 === response.errCode) {\n            $scope.resultDetail = \"您的支付宝账户名称更改成功\";\n            $('#successModal').modal('show');\n            $scope.alipay = alipay;\n          }\n          // else {\n          //   // 错误处理\n          //   $scope.thereIsError = true;\n          //   $scope.errMessage = '未知错误:' + response.errCode;\n          // }\n        }, function (error) {\n          NoticeSrv.error('未知错误');\n\n          // $scope.thereIsError = true;\n          // $scope.errMessage = '未知错误:' + error;\n        }\n      );\n    };\n    //修改密码接口\n    $scope.changePassword = function(oldPwd,newPwd,confirmPwd) {\n      //验证输入有效性\n      if(newPwd.length < 8) {\n        $scope.newPwdError = true;\n        $scope.newErrMsg = '密码至少要8位';\n        return;\n      }\n\n      $scope.newPwdError = false;\n\n      if(!oldPwd || !newPwd || !confirmPwd) {\n        $scope.confirmPwdError = true;\n        $scope.confirmErrMsg = '请输入完整信息';\n        return;\n      }\n\n      if(confirmPwd !== newPwd) {\n        $scope.confirmPwdError = true;\n        $scope.confirmErrMsg = '再次输入的密码不正确，请重新输入';\n        return;\n      }\n      if(newPwd === oldPwd) {\n        $scope.confirmPwdError = true;\n        $scope.confirmErrMsg = '密码没有改变，请重新输入';\n        return;\n      }\n      //输入有效\n      $scope.confirmPwdError = false;\n\n      //发送请求\n      var oldPassSHA256 = sha256(oldPwd);\n      var newPassSHA256 = sha256(newPwd);\n\n      AdvertiserSrv.changePassword().save({\n        oldPwd: oldPassSHA256,\n        newPwd: newPassSHA256\n      }).$promise.then(\n        function (response) {\n          console.log(response);\n          if (0 === response.errCode) {\n            $scope.oldPwdError = false;\n            $scope.resultDetail = \"您的密码修改成功\";\n            $('#successModal').modal('show');\n\n          } else if (305 === response.errCode) {\n            $scope.oldPwdError = true;\n            $scope.oldErrMsg = '旧密码错误，请重新输入';\n          }\n          // else {\n          //   // 错误处理\n          //   if (305 == response.errCode) {\n              // $scope.oldPwdError = true;\n              // $scope.oldErrMsg = '旧密码错误，请重新输入';\n          //   } else {\n          //     $scope.confirmPwdError = true;\n          //     $scope.confirmErrMsg = '未知错误:' + response.errCode;\n          //   }\n          // }\n        }, function (error) {\n          NoticeSrv.error('未知错误');\n          // $scope.confirmPwdError = true;\n          // $scope.confirmErrMsg = '未知错误:' + error;\n        });\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('mad')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('mad')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $urlRouterProvider.otherwise('/');\n\n    $stateProvider\n      .state('app', {\n        url: '/',\n        views: {\n            'header': {\n                templateUrl: 'app/components/navbar-advert/navbar-advert.html',\n                controller: 'HeaderCtrl'\n            },\n            'content': {\n                templateUrl: 'app/main/main.html',\n                controller: 'MainCtrl'\n            },\n            'footer': {\n              templateUrl: 'app/components/footer-advert/footer-advert.html',\n              controller: 'FooterCtrl'\n            }\n        }\n      })\n      .state('app.advert', {\n        url: 'advert',\n        views: {\n            'content@': {\n                templateUrl: 'app/advertisment/advertisment.html',\n                controller: 'AdvertCtrl'\n            }\n        }\n      })\n      .state('app.advert.edit', {\n        url: '/edit/:advertId',\n        views: {\n            'content@': {\n                templateUrl: 'app/advert-edit/advert-edit.html',\n                controller: 'AdvertEditCtrl'\n            }\n        }\n      })\n      .state('app.advert.detail', {\n        url: '/detail/:advertId',\n        views: {\n            'content@': {\n                templateUrl: 'app/advert-detail/advert-detail.html',\n                controller: 'AdvertDetailCtrl'\n            }\n        }\n      })\n      .state('app.account', {\n          url: 'account',\n          views: {\n              'content@': {\n                  templateUrl: 'app/account/account.html',\n                  controller: 'AccountCtrl'\n              }\n          }\n      })\n      .state('app.account.recharge', {\n          url: '/recharge',\n          views: {\n              'content@': {\n                  templateUrl: 'app/account-recharge/account-recharge.html',\n                  controller: 'AccountRechargeCtrl'\n              }\n          }\n      })\n      .state('app.account.refund', {\n          url: '/refund',\n          views: {\n              'content@': {\n                  templateUrl: 'app/account-refund/account-refund.html',\n                  controller: 'AccountRefundCtrl'\n              }\n          }\n      })\n      .state('app.account.check', {\n          url: '/check',\n          views: {\n              'content@': {\n                  templateUrl: 'app/account-check/account-check.html',\n                  controller: 'AccountCheckCtrl'\n              }\n          }\n      })\n      .state('app.statistics', {\n          url: 'statistics',\n          views: {\n              'content@': {\n                  templateUrl: 'app/statistics/statistics.html',\n                  controller: 'AdvertSatisticsCtrl'\n              }\n          }\n      })\n      .state('app.statistics.advertis', {\n          url: '/advertis',\n          views: {\n              'content@': {\n                  templateUrl: 'app/statistics-advertis/statistics-advertis.html',\n                  controller: 'SatisticsAdvertMapCtrl'\n              }\n          }\n      })\n      .state('app.statistics.detail', {\n          url: '/detail/:advertId',\n          views: {\n              'content@': {\n                  templateUrl: 'app/statistics-detail/statistics-detail.html',\n                  controller: 'SatisticsDetailCtrl'\n              }\n          }\n      })\n      .state('app.notification', {\n          url: 'notification',\n          views: {\n              'content@': {\n                  templateUrl: 'app/notification/notification.html',\n                  controller: 'NotificationCtrl'\n              }\n          }\n      })\n      .state('app.pact', {\n          url: 'pact',\n          views: {\n              'content@': {\n                  templateUrl: 'app/pact/pact.html'\n              }\n          }\n      });\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('mad')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('mad')\n    .config(config);\n\n  /** @ngInject */\n  function config($httpProvider, $logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n    $httpProvider.interceptors.push('myInterceptor');\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n  angular.module('mad').value('baseURL', 'http://121.42.57.59:4000/advertiser');\n  // 测试\n  // angular.module('mad').value('baseURL', 'http://localhost:4000/advertiser');\n})();\n\nangular.module(\"mad\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/account/account.html\",\"<div class=\\\"container\\\"><div class=\\\"text-center\\\"><h1>个人账号中心</h1><hr></div><div class=\\\"col-md-offset-1 col-md-10\\\"><div class=\\\"row\\\"><div class=\\\"col-md-3 col-sm-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-body text-center\\\"><div class=\\\"row\\\"><div class=\\\"col-md-8 col-md-offset-2 col-xs-6 col-xs-offset-3\\\"><img src=\\\"assets/images/avatar.jpg\\\" class=\\\"img-responsive img-circle\\\"></div></div><h4>{{name}}</h4><p>{{email}}</p><span class=\\\"label label-success\\\" ng-show=\\\"isPassed\\\">已通过审核</span><div ng-show=\\\"notVerified\\\"><span class=\\\"label label-warning\\\">未审核</span> <button ui-sref=\\\"app.account.check\\\" class=\\\"btn btn-info btn-xs\\\">审核</button></div><div ng-show=\\\"notPassed\\\"><span class=\\\"label label-danger\\\">未通过审核</span> <button ui-sref=\\\"app.account.check\\\" class=\\\"btn btn-info btn-xs\\\">再次审核</button></div></div></div></div><div class=\\\"col-md-9 col-sm-7 tab-content\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-body xmd-body\\\"><h4>修改密码</h4><hr style=\\\"margin-top: 15px;\\\"><form class=\\\"form-horizontal\\\"><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">旧密码</label><div class=\\\"col-sm-10\\\"><input type=\\\"password\\\" class=\\\"form-control\\\" ng-model=\\\"oldPwd\\\"> <span class=\\\"text-red\\\" ng-show=\\\"oldPwdError\\\">{{oldErrMsg}}</span></div></div><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">新密码</label><div class=\\\"col-sm-10\\\"><input type=\\\"password\\\" class=\\\"form-control\\\" ng-model=\\\"newPwd\\\"> <span class=\\\"text-red\\\" ng-show=\\\"newPwdError\\\">{{newErrMsg}}</span></div></div><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">再次输入新密码</label><div class=\\\"col-sm-10\\\"><input type=\\\"password\\\" class=\\\"form-control\\\" ng-model=\\\"confirmPwd\\\"> <span class=\\\"text-red\\\" ng-show=\\\"confirmPwdError\\\">{{confirmErrMsg}}</span></div></div><div class=\\\"form-group\\\"><div class=\\\"col-sm-offset-2 col-sm-10\\\"><button type=\\\"submit\\\" class=\\\"btn btn-info\\\" ng-click=\\\"changePassword(oldPwd,newPwd,confirmPwd)\\\">修改密码</button></div></div></form><br><h4>修改支付宝帐号</h4><hr style=\\\"margin-top: 15px;\\\"><form class=\\\"form-horizontal\\\"><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">支付宝账号</label><div class=\\\"col-sm-10\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"{{alipay}}\\\" ng-model=\\\"currentAlipay\\\"> <span class=\\\"text-red\\\" ng-show=\\\"thereIsError\\\">{{errMessage}}</span></div></div><div class=\\\"form-group\\\"><div class=\\\"col-sm-offset-2 col-sm-10\\\"><button type=\\\"submit\\\" class=\\\"btn btn-warning\\\" ng-click=\\\"changeAlipay(currentAlipay)\\\">修改支付宝帐号</button></div></div></form><br></div></div></div></div></div></div><div class=\\\"modal fade bs-example-modal-sm\\\" id=\\\"successModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"myModalLabel2\\\"><div class=\\\"modal-dialog\\\" role=\\\"document\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h4 class=\\\"modal-title\\\" id=\\\"myModalLabel2\\\">修改成功</h4></div><div class=\\\"modal-body\\\">{{resultDetail}}</div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">关闭</button></div></div></div></div>\");\n$templateCache.put(\"app/account-check/account-check.html\",\"<div class=\\\"container\\\"><div class=\\\"text-center\\\" ng-show=\\\"checkStatus.unsubmitted\\\"><h1>广告商认证</h1><p>您需要通过认证才可以发表广告</p><hr></div><div class=\\\"text-center\\\" ng-show=\\\"checkStatus.submitted\\\"><h1>广告商认证</h1><h3>您的审核信息已提交，请不要重复提交审核信息</h3><hr></div><div class=\\\"text-center\\\" ng-show=\\\"checkStatus.completedCheck\\\"><h1>广告商认证</h1><h3>您的审核信息已验证成功，请不要重复提交审核信息</h3><hr></div><div class=\\\"col-md-offset-2 col-sm-8 col-sm-offset-1 col-sm-10\\\"><form class=\\\"form-horizontal\\\" name=\\\"checkInfo\\\"><h4>单位类型</h4><hr style=\\\"margin-top:10px;\\\"><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">选择单位类型</label><div class=\\\"col-sm-10\\\"><div class=\\\"col-sm-4 col-xs-6\\\"><label><input type=\\\"radio\\\" name=\\\"company-type\\\" ng-model=\\\"detail.companyType\\\" value=\\\"企业\\\"> 企业</label></div><div class=\\\"col-sm-4 col-xs-6\\\"><label><input type=\\\"radio\\\" name=\\\"company-type\\\" ng-model=\\\"detail.companyType\\\" value=\\\"事业单位\\\"> 事业单位</label></div><div class=\\\"col-sm-4 col-xs-6\\\"><label><input type=\\\"radio\\\" name=\\\"company-type\\\" ng-model=\\\"detail.companyType\\\" value=\\\"民办非企业单位\\\"> 民办非企业单位</label></div><div class=\\\"col-sm-4 col-xs-6\\\"><label><input type=\\\"radio\\\" name=\\\"company-type\\\" ng-model=\\\"detail.companyType\\\" value=\\\"个体工商户\\\"> 个体工商户</label></div><div class=\\\"col-sm-4 col-xs-6\\\"><label><input type=\\\"radio\\\" name=\\\"company-type\\\" ng-model=\\\"detail.companyType\\\" value=\\\"社会团体\\\"> 社会团体</label></div><div class=\\\"col-sm-4 col-xs-6\\\"><label><input type=\\\"radio\\\" name=\\\"company-type\\\" ng-model=\\\"detail.companyType\\\" value=\\\"党政及国家机关\\\"> 党政及国家机关</label></div></div></div><div class=\\\"form-group\\\"><div class=\\\"col-sm-3 col-sm-offset-3 text-center\\\"><img src=\\\"http://mad-10035512.file.myqcloud.com/license.JPG\\\" height=\\\"150px\\\"> <label>普通营业执照</label></div><div class=\\\"col-sm-3 col-sm-offset-1 text-center\\\"><img src=\\\"http://mad-10035512.file.myqcloud.com/marginLicense.jpg\\\" height=\\\"150px\\\"> <label>多证合一营业执照</label></div></div><h4>企业信息</h4><hr style=\\\"margin-top:10px;\\\"><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">证件类型</label><div class=\\\"col-sm-10\\\"><div class=\\\"radio\\\"><label><input type=\\\"radio\\\" name=\\\"license-type\\\" ng-model=\\\"detail.licenseType\\\" value=\\\"普通营业执照\\\"> 普通营业执照（存在独立的组织机构代码证）</label></div><div class=\\\"radio\\\"><label><input type=\\\"radio\\\" name=\\\"license-type\\\" ng-model=\\\"detail.licenseType\\\" value=\\\"多证合一营业执照\\\"> 多证合一营业执照（不存在独立的组织机构代码证）</label></div></div></div><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">企业名称</label><div class=\\\"col-sm-10\\\"><input class=\\\"form-control\\\" ng-model=\\\"detail.companyName\\\" placeholder=\\\"企业全称，与营业执照上一致\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">注册号</label><div class=\\\"col-sm-10\\\"><input class=\\\"form-control\\\" ng-model=\\\"detail.licenseCode\\\" placeholder=\\\"如：111112222233333\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">单位所在地</label><div class=\\\"col-sm-5\\\"><select class=\\\"form-control\\\" ng-model=\\\"detail.companyLocationProvince\\\"><option>请选择</option><option>上海</option><option>江苏</option></select></div><div class=\\\"col-sm-5\\\"><select class=\\\"form-control\\\" ng-model=\\\"detail.companyLocationDistrict\\\"><option>请选择</option><option>黄浦区</option><option>嘉定区</option></select></div></div><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">住所</label><div class=\\\"col-sm-10\\\"><input class=\\\"form-control\\\" ng-model=\\\"detail.accomodation\\\" placeholder=\\\"\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">经营范围</label><div class=\\\"col-sm-10\\\"><input class=\\\"form-control\\\" ng-model=\\\"detail.businessScope\\\" placeholder=\\\"\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">营业期限</label><div class=\\\"col-sm-3\\\"><input class=\\\"form-control\\\" type=\\\"date\\\" ng-model=\\\"detail.businessPeriod\\\"></div><div class=\\\"col-sm-7\\\"><div class=\\\"checkbox\\\"><label><input type=\\\"checkbox\\\" ng-model=\\\"detail.periodIsLong\\\">长期</label></div></div></div><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">组织机构代码</label><div class=\\\"col-sm-10\\\"><input class=\\\"form-control\\\" ng-model=\\\"detail.organizationCode\\\" placeholder=\\\"如：00001111-1\\\"></div></div><br><h4>法定代表人信息</h4><hr style=\\\"margin-top:10px;\\\"><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">法定代表人归属地</label><div class=\\\"col-sm-10\\\"><select class=\\\"form-control\\\" ng-model=\\\"detail.legalPersonLocation\\\"><option value=\\\"中国大陆\\\">中国大陆</option><option value=\\\"香港\\\">香港</option><option value=\\\"澳门\\\">澳门</option><option value=\\\"台湾\\\">台湾</option><option value=\\\"海外\\\">海外</option></select></div></div><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">法定代表人姓名</label><div class=\\\"col-sm-10\\\"><input class=\\\"form-control\\\" ng-model=\\\"detail.legalPersonName\\\" placeholder=\\\"\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">身份证号</label><div class=\\\"col-sm-10\\\"><input class=\\\"form-control\\\" ng-model=\\\"detail.legalPersonId\\\" placeholder=\\\"\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">证件有效期</label><div class=\\\"col-sm-3\\\"><input class=\\\"form-control\\\" type=\\\"date\\\" ng-model=\\\"detail.legalPersonValidDate\\\"></div><div class=\\\"col-sm-7\\\"><div class=\\\"checkbox\\\"><label><input type=\\\"checkbox\\\" ng-model=\\\"detail.legalPersonIdIsLong\\\">长期</label></div></div></div><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">填写人身份</label><div class=\\\"col-sm-10\\\"><div class=\\\"col-xs-6 radio\\\"><label><input type=\\\"radio\\\" name=\\\"fill-person\\\" ng-model=\\\"detail.legalPersonIflegalperson\\\" value=\\\"true\\\">我是法定代表人</label></div><div class=\\\"col-xs-6 radio\\\"><label><input type=\\\"radio\\\" name=\\\"fill-person\\\" ng-model=\\\"detail.legalPersonIflegalperson\\\" value=\\\"false\\\">我是代理人</label></div></div></div><br><h4>联系方式</h4><hr style=\\\"margin-top:10px;\\\"><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">联系人邮箱</label><div class=\\\"col-sm-10\\\"><input class=\\\"form-control\\\" ng-model=\\\"detail.contactEmail\\\" placeholder=\\\"验证结果将通过邮件发送至该邮箱\\\"></div></div><h4>上传营业执照</h4><hr style=\\\"margin-top:10px;\\\"><div></div><img src=\\\"{{detail.licenseImageUrl}}\\\" class=\\\"img-rounded center-block\\\" style=\\\"width:60%;margin-bottom:20px\\\" alt=\\\"\\\"><div class=\\\"widget-body\\\" ng-show=\\\"!detail.licenseImageUrl\\\"><form class=\\\"form-horizontal no-margin\\\"><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-2 control-label\\\">上传图片</label><div class=\\\"col-sm-10\\\"><button ng-file-select=\\\"onFileSelect($files)\\\" class=\\\"btn btn-large btn-primary btn-upload\\\" data-multiple=\\\"true\\\" title=\\\"select file\\\" onclick=\\\"this.value = null\\\" ng-disabled=\\\"detail.licenseImageUrl\\\">点击此处选择图片</button><ol><li ng-repeat=\\\"(k,v) in selectFiles\\\">{{v.file.name}} - {{v.progress.p}}% <button ng-click=\\\"abort(k)\\\">x</button></li></ol><label>{{upload.result}}</label> <a href=\\\"{{upload.picUrl}}\\\" ng-show=\\\"upload.isSuccess\\\">点击查看</a></div></div></form></div><hr style=\\\"margin-top:10px;\\\"><div class=\\\"text-center\\\"><button class=\\\"btn btn-primary\\\" ng-disabled=\\\"!canSubmit\\\" ng-click=\\\"submit()\\\">提交申请</button></div></form></div></div>\");\n$templateCache.put(\"app/account-refund/account-refund.html\",\"<div class=\\\"container\\\"><div class=\\\"container jx-container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-offset-2 col-md-8\\\"><h2 class=\\\"text-center\\\">账户退款</h2><p class=\\\"text-center\\\">您可以将已充值的金额提现</p><hr><div class=\\\"row\\\"><div class=\\\"panel panel-success\\\"><div class=\\\"panel-heading\\\"><h3 class=\\\"panel-title text-center\\\">退款</h3></div><div class=\\\"panel-body\\\"><div class=\\\"col-sm-9 recharge-part\\\"><form class=\\\"form-horizontal\\\"><div class=\\\"form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-3 control-label\\\">退款金额</label><div class=\\\"col-sm-8\\\"><input type=\\\"number\\\" class=\\\"form-control\\\" placeholder=\\\"请输入整数，单位为元\\\" ng-model=\\\"amount\\\"></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\" for=\\\"\\\">退款账户</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"请输入支付宝账户\\\" ng-model=\\\"account\\\"> <span class=\\\"text-red\\\" ng-show=\\\"thereIsError\\\">{{errMessage}}</span></div></div><div><button type=\\\"submit\\\" class=\\\"btn btn-success center-block btn-fluid\\\" ng-click=\\\"refund(amount, account)\\\">申请退款</button></div></form></div><div class=\\\"col-sm-3\\\"><div class=\\\"ht-user-info row\\\"><div class=\\\"col-sm-12 text-center\\\"><h4 for=\\\"\\\">{{name}}</h4><p><small>{{email}}</small></p><button class=\\\"btn btn-primary\\\" id=\\\"balance-btn\\\" ng-click=\\\"getBalance()\\\">查看账户余额</button><p id=\\\"balance-label\\\" hidden=\\\"\\\"><b>余额：</b>{{balance}}</p></div></div></div></div></div></div><div class=\\\"row\\\"><h3 class=\\\"ht-charge-title\\\">退款记录</h3><p class=\\\"text-center\\\">查看您的历史退款记录</p><hr style=\\\"margin-top: 15px;\\\"></div><div class=\\\"row\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-body\\\"><table class=\\\"table table-hover\\\" st-table=\\\"rowCollection\\\"><thead><tr><th>退款金额（元）</th><th>退款账户</th><th>退款时间</th><th>退款状态</th></tr></thead><tbody><tr ng-repeat=\\\"row in rowCollection\\\"><td>{{ row.amount }}</td><td>{{ row.account }}</td><td>{{ row.time }}</td><td>{{ row.state }}</td></tr></tbody></table></div></div></div></div></div></div></div>\");\n$templateCache.put(\"app/account-recharge/account-recharge.html\",\"<div class=\\\"container\\\"><div class=\\\"container jx-container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-offset-2 col-md-8\\\"><h2 class=\\\"text-center\\\">账户充值</h2><p class=\\\"text-center\\\">为确保您的广告正常播放，请经常查看余额或充值</p><hr><div class=\\\"row\\\"><div class=\\\"panel panel-success\\\"><div class=\\\"panel-heading\\\"><h3 class=\\\"panel-title text-center\\\">充值</h3></div><div class=\\\"panel-body\\\"><div class=\\\"col-sm-9 recharge-part\\\"><form class=\\\"form-horizontal\\\"><div class=\\\"form-group\\\"><label for=\\\"singleSelect\\\" class=\\\"col-sm-3 control-label\\\">充值金额</label><div class=\\\"col-sm-8\\\"><select name=\\\"singleSelect\\\" id=\\\"singleSelect\\\" class=\\\"form-control\\\" ng-model=\\\"amount\\\"><option value=\\\"\\\">---请选择---</option><option value=\\\"50\\\">50</option><option value=\\\"100\\\">100</option><option value=\\\"200\\\">200</option><option value=\\\"500\\\">500</option></select></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\">支付宝帐号</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"输入与转账相符的支付宝账户\\\" ng-model=\\\"account\\\"> <span class=\\\"text-red\\\" ng-show=\\\"thereIsError\\\">{{errMessage}}</span></div></div><div class=\\\"form-group\\\"><div class=\\\"col-sm-offset-1 col-sm-10\\\"><div class=\\\"checkbox\\\"><label><input type=\\\"checkbox\\\" ng-model=\\\"checkbox.trueValue\\\">已阅读并同意<a type=\\\"button\\\" data-toggle=\\\"modal\\\" data-target=\\\"#pactModal\\\">广告发布协议</a></label></div></div></div><div><button type=\\\"submit\\\" class=\\\"btn btn-success center-block btn-fluid\\\" ng-click=\\\"recharge(account, amount)\\\">充值</button></div></form></div><br><div class=\\\"col-sm-3\\\"><div class=\\\"ht-user-info row\\\"><div class=\\\"col-sm-12 text-center\\\"><h4 for=\\\"\\\">{{name}}</h4><p><small>{{email}}</small></p><button class=\\\"btn btn-primary\\\" id=\\\"balance-btn\\\" ng-click=\\\"getBalance()\\\">查看账户余额</button><p id=\\\"balance-label\\\" hidden=\\\"\\\"><b>余额：</b>{{balance}}</p></div></div></div></div></div></div><div class=\\\"row\\\"><h3 class=\\\"ht-charge-title\\\">充值记录</h3><p class=\\\"text-center\\\">查看您的历史充值记录</p><hr style=\\\"margin-top: 15px;\\\"></div><div class=\\\"row\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-body\\\"><table class=\\\"table table-hover\\\" st-table=\\\"rowCollection\\\"><thead><tr><th>充值金额（元）</th><th>充值账户</th><th>充值时间</th><th>充值状态</th></tr></thead><tbody><tr ng-repeat=\\\"row in rowCollection\\\"><td>{{ row.amount }}</td><td>{{ row.account }}</td><td>{{ row.time }}</td><td>{{ row.state }}</td></tr></tbody></table></div></div></div></div></div></div></div><div class=\\\"modal fade bs-example-modal-sm\\\" id=\\\"qrCodeModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"myModalLabel\\\"><div class=\\\"modal-dialog\\\" role=\\\"document\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h4 class=\\\"modal-title\\\" id=\\\"myModalLabel\\\">充值</h4></div><div class=\\\"modal-body\\\"><div class=\\\"text-center\\\"><img src=\\\"{{qrCodeImage}}\\\" class=\\\"img-responsive qrcode-img\\\"> <button class=\\\"btn btn-success\\\" ng-click=\\\"rechargeFinish(account, amount)\\\">转账成功后点击这里</button></div></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">关闭</button></div></div></div></div><div class=\\\"modal fade bs-example-modal\\\" id=\\\"pactModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"myModalLabel2\\\"><div class=\\\"modal-dialog modal-lg\\\" role=\\\"document\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h4 class=\\\"modal-title\\\" id=\\\"myModalLabel2\\\">车载广告服务协议</h4></div><div class=\\\"modal-body\\\"><h4>甲方:广告投放方</h4><h4>乙方:MAD移动广告投放平台</h4><p>双方本着友好协商、共同发展的原则，由乙方在网站，为甲方提供网络广告服务。</p><h4>一、服务内容</h4><ol><li>广告类型：本条所指广告内容是指甲方拟在乙方公司内所有广告载体上发布的有关甲方业务的信息，广告形式为静态文字。文字长最长不超过60字。</li><li>乙方将在乙方公司内符合投放条件的车载广告播放装置上发布甲方的广告内容</li></ol><h4>二、甲方的权利义务</h4><ol><li>甲方所要宣传的内容如有变动必须向乙方提交审核，以便乙方能及时调整更新广告信息。</li><li>甲方有权根据本合同第一条所要求的服务内容及标准，检查乙方提供的广告服务质量，如乙方提供的服务质量不符合本合同第一条的规定，甲方有权要求乙方在规定时间内做出补充和修正。</li><li>甲方发布的广告内容必须符合中国法律法规的规定，不得委托乙方发布国家明令禁止的广告内容。</li><li>甲方必须保证所发布广告的真实性、有效性，并独立承担责任。</li><li>甲方必须依据本合同规定，按时足额向乙方支付广告服务款项。</li></ol><h4>三、乙方的权利义务</h4><ol><li>乙方必须严格遵守中华人民共和国广告法及相关适用法律的相关规定及要求发布广告；</li><li>乙方必须按本合同规定第一条规定的服务内容及标准向甲方提供广告服务；</li><li>乙方有权要求甲方按其规定提供营业执照、资质证明等相关证明材料，甲方拒不提供的，乙方有权拒绝为其发布广告。</li><li>乙方一旦发现甲方提供的广告存在虚假成分，有权立即单方面撤除广告，并通知甲方澄清事实。由此造成的损失由甲方承担。</li><li>乙方有权要求甲方按时足额支付广告服务费用；</li></ol><h4>四、违约责任</h4><ol><li>双方中任何一方违反本合同的规定，均必须承担相应的法律责任，赔偿对方因此而造成的经济损失。</li><li>如乙方未能在本合同规定时间内，为甲方提供广告服务，每延迟一天，乙方须减收甲方广告服务费用总额的1%的作为补偿，如延迟时间超过一个月，甲方有权要求终止合同，乙方将向甲方退回全部预付款。</li><li>如甲方未能在本合同规定时间内，向乙方支付预付款及余款，每延迟一天，甲方须向乙方支付广告服务费用总额1%的赔偿金，如延迟时间超过一个月时间，乙方有权终止合同，并有权要求甲方赔偿广告服务费用总额双倍的经济赔偿金。</li><li>由于甲方提供广告中存在虚假成分，或因此引发第三方法律诉讼，要求经济赔偿等，甲方必须独立承担全部损失，并赔偿由此给乙方造成的一切名誉和经济损失。</li></ol><h4>五、服务费用</h4><ol><li>服务付费：单条广告价格根据乙方所投放广告自动计算得出，在广告投放时广告费用自动从乙方账户中扣除；</li><li>支付方式：乙方在投放广告前需向账户中充值足够金额以投放广告，所充值金额会自动兑换为等值MAD币。</li></ol><h4>六、知识产权</h4><ol><li>在本合同执行过程中而产生的广告作品著作权归制作方所有，即由甲方设计制作的广告作品著作权归甲方所有，由甲方委托乙方设计制作的广告作品著作权归乙方所有。</li></ol><h4>七、合同终止</h4><ol><li>如甲方不能提供广告相关商品或服务的资质证明、产品说明书或政府主管部门的审批文件，或提供的上述材料中存在虚假成分，或因此第三方的法律诉讼、经济索赔要求等情况，乙方有权终止本合同，且不承担任何责任；</li><li>如甲方未能按本合同规定时间向乙方支付广告服务费用，延迟时间超过一个月，乙方有权终止本合同；</li><li>在甲方完全履行本合同规定义务后，如乙方未能按本合同规定时间为甲方提供广告服务，延迟时间超过一个月，甲方有权终止本合同。</li></ol><h4>八、保密义务</h4><ol><li>双方为执行本协议提供给对方的任何技术产品或资料，除非提供方明确说明其为公知技术的外，均构成提供方的商业秘密；</li><li>双方同意不得使第三人接触或向第三人揭露上述商业秘密，也不得为本协议之外的任何其它目的利用该商业秘密。双方承诺，本保密义务延及其员工，任何一方员工违法本保密义务的，该方同样应承担全部法律责任。</li></ol><h4>九、免责条件</h4><ol><li>因战争、自然灾害等导致乙方服务器不能正常运行；</li><li>因政府行政行为导致乙方不能开放服务器；</li><li>因互联网灾难，中国、美国等互联网通讯提供商原因导致乙方服务器不能正常接入；</li><li>因乙方操作平台及应用软件原因导致乙方服务器临时性不能正常运行；</li><li>因乙方网站遭遇不法攻击导致服务器临时性不能正常运行。</li><li>基于以上原因，导致乙方网站不能正常运行，甲方认同属于正常现象，乙方不承担任何法律上和本合同规定以外的其它方式的责任。</li></ol><h4>十、争议解决</h4><ol><li>如双方在履行本合同过程中发生争议，经协商无法解决，任何一方均可向仲裁委员会提出仲裁，仲裁结果为最终结果，对双方都具有约束力。</li></ol><h4>十一、其他</h4><ol><li>甲方开始在乙方平台投放广告时该协议自动生效；</li><li>有效期至广告服务时间完成时为止。</li><li>本协议执行过程中，所有附件和补充协议等一经甲乙双方签字即成为本协议的有效组成部分 与本协议具有同等法律效力。</li></ol></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">关闭</button></div></div></div></div>\");\n$templateCache.put(\"app/advert-detail/advert-detail.html\",\"<div class=\\\"container\\\"><div><h1 class=\\\"text-center\\\" ng-bind=\\\"advertisement.title\\\">广告标题</h1><h4 class=\\\"text-center\\\">广告类别:{{advertisement.catalog}}</h4><hr></div><div class=\\\"col-md-offset-2 col-sm-8 col-sm-offset-1 col-sm-10\\\"><table class=\\\"table table-hover table-striped table-bordered\\\"><tbody><tr><th>广告内容</th><td ng-bind=\\\"advertisement.content\\\"></td></tr><tr><th>广告地点</th><td ng-bind=\\\"locations\\\"></td></tr><tr><th>广告发布时段</th><td>24小时</td></tr><tr><th>广告播放开始日期</th><td ng-bind=\\\"advertisement.startDate\\\"></td></tr><tr><th>广告播放结束日期</th><td ng-bind=\\\"advertisement.endDate\\\"></td></tr><tr><th>广告单条费用</th><td>{{ advertisement.price }}&nbsp;MAD币</td></tr><tr><th>广告状态</th><td ng-bind=\\\"advertisement.state\\\"></td></tr></tbody></table></div></div><div class=\\\"text-center\\\"><button class=\\\"btn btn-primary text-right\\\" ui-sref=\\\"app.advert.edit({advertId: advertId})\\\" ng-disabled=\\\"advertisement.status === \\'001\\' || advertisement.status === \\'100\\'\\\">修改信息</button></div>\");\n$templateCache.put(\"app/advert-edit/advert-edit.html\",\"<div class=\\\"container jx-container\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-offset-2 col-sm-8\\\"><h2 class=\\\"text-center\\\" ng-bind=\\\"pageTitle\\\"></h2><p class=\\\"text-center\\\" ng-bind=\\\"pageDetail\\\"></p><hr><form class=\\\"form-horizontal panel-body\\\" role=\\\"form\\\" name=\\\"advertForm\\\" novalidate=\\\"novalidate\\\"><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\">广告编号：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"(不可修改)\\\" readonly=\\\"true\\\" ng-model=\\\"advertId\\\"></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\">广告标题：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"广告标题(不超过20字)\\\" name=\\\"title\\\" ng-model=\\\"advertisement.title\\\" required=\\\"\\\"> <span style=\\\"color:red\\\"><span ng-show=\\\"check.title.isEmpty\\\">广告名称是必须的。</span> <span ng-show=\\\"check.title.isTooLong\\\">广告标题不能超过20字</span></span></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\">广告内容：</label><div class=\\\"col-sm-9\\\"><textarea class=\\\"form-control\\\" placeholder=\\\"广告内容(不超过60字)\\\" rows=\\\"3\\\" name=\\\"content\\\" ng-model=\\\"advertisement.content\\\" ng-change=\\\"changeContent(advertisement.content)\\\" required=\\\"\\\"></textarea> <span style=\\\"color:red\\\"><span ng-show=\\\"check.content.isEmpty\\\">广告内容是必须的。</span> <span ng-show=\\\"check.content.isTooLong\\\">广告内容不能超过60字</span></span></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\">广告类别：</label><div class=\\\"col-sm-4\\\"><select class=\\\"form-control\\\" name=\\\"adType\\\" ng-model=\\\"advertisement.catalog\\\" ng-options=\\\"m.id as m.type for m in advertTypes\\\" ng-disabled=\\\"advertId !== null\\\"></select></div><div class=\\\"col-sm-4\\\" ng-hide=\\\"advertId === null\\\"><label style=\\\"font-size: 13px\\\">注意：广告类别不可修改</label></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\">面向城市：</label><div class=\\\"col-sm-4\\\"><select class=\\\"form-control\\\" name=\\\"adCity\\\" ng-model=\\\"advertisement.city\\\" ng-options=\\\"c.id as c.city for c in advertCities\\\"></select></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\">投放地点：</label><div class=\\\"col-sm-9\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3 col-xs-4 checkbox\\\" ng-repeat=\\\"district in districts\\\"><label><input type=\\\"checkbox\\\" ng-change=\\\"changeDistrict()\\\" ng-model=\\\"district.selected\\\">{{district.name}}</label></div></div><span style=\\\"color:red\\\" ng-show=\\\"check.district.isEmpty\\\">广告投放地点是必须的。</span></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\">开始播放日期：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control\\\" type=\\\"date\\\" name=\\\"startDate\\\" ng-model=\\\"advertisement.startDate\\\" required=\\\"\\\"> <span style=\\\"color:red\\\"><span ng-show=\\\"check.startDate.isEmpty\\\">广告开始时间是必须的。</span></span></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\">结束播放日期：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control\\\" type=\\\"date\\\" name=\\\"endDate\\\" ng-model=\\\"advertisement.endDate\\\" required=\\\"\\\"> <span style=\\\"color:red\\\"><span ng-show=\\\"check.endDate.isEmpty\\\">广告结束时间是必须的。</span> <span ng-show=\\\"check.endDate.earlyThanStart\\\">广告结束时间不能早于开始时间</span></span></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\">单条广告价格：</label><div class=\\\"col-sm-9\\\"><strong><p class=\\\"form-control-static\\\">{{ advertisement.price }} MAD币</p></strong></div></div><div class=\\\"row button-group\\\"><div class=\\\"col-xs-4\\\"><button type=\\\"button\\\" class=\\\"btn btn-danger btn-fluit\\\" ui-sref=\\\"app.advert\\\">取消</button></div><div class=\\\"col-xs-4\\\"><button type=\\\"button\\\" class=\\\"btn btn-success btn-fluit\\\" ng-click=\\\"submitApply()\\\" ng-disabled=\\\"advertId === null\\\">提交审核</button></div><div class=\\\"col-xs-4\\\"><button type=\\\"button\\\" class=\\\"btn btn-default btn-fluit\\\" ng-click=\\\"saveDraft()\\\">暂存草稿</button></div></div></form></div></div></div><div class=\\\"modal fade bs-example-modal-sm\\\" id=\\\"successModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"myModalLabel2\\\"><div class=\\\"modal-dialog\\\" role=\\\"document\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h4 class=\\\"modal-title\\\" id=\\\"myModalLabel2\\\">{{resultTitle}}</h4></div><div class=\\\"modal-body\\\">{{resultDetail}}</div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">关闭</button></div></div></div></div>\");\n$templateCache.put(\"app/advertisment/advertisment.html\",\"<div class=\\\"container jx-container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-offset-1 col-md-10\\\"><h1 class=\\\"text-center\\\">已发布广告</h1><p class=\\\"text-center\\\">您的已发布广告列表</p><hr></div><div class=\\\"col-md-offset-1 col-md-10 panel panel-default\\\"><div class=\\\"panel-body\\\"><table st-table=\\\"advertCollection\\\" st-safe-src=\\\"advertList\\\" class=\\\"table table-striped\\\"><thead><tr><th>广告编号</th><th>广告标题</th><th>广告状态</th><th>创建时间</th><th>查看广告详情</th><th>修改广告</th></tr></thead><tbody><tr ng-repeat=\\\"row in advertCollection\\\"><td>{{row.number }}</td><td>{{row.title}}</td><td class=\\\"{{row.stateClass}}\\\">{{row.state}}</td><td>{{row.createTime}}</td><td><button ui-sref=\\\"app.advert.detail({advertId: row.id})\\\" class=\\\"btn btn-success btn-sm\\\">查看详情</button></td><td><button class=\\\"btn btn-danger btn-sm\\\" ng-show=\\\"row.isDisableOff\\\" ng-click=\\\"removeAdvertisementById(row.id)\\\">下架</button> <button class=\\\"btn btn-primary btn-sm\\\" ng-show=\\\"row.canSubmit\\\" ng-click=\\\"submitAdvertisementById(row.id)\\\">提交审核</button></td></tr></tbody></table></div></div></div></div>\");\n$templateCache.put(\"app/advertisment/pagination.custom.html\",\"<div class=\\\"row\\\"><div class=\\\"col-xs-12 col-md-6\\\"><div class=\\\"table-summary\\\">共<span class=\\\"red\\\">{{totalItemCount}}</span>条数据， 每页<span class=\\\"red\\\">{{stItemsByPage}}</span>条， 共<span class=\\\"red\\\">{{numPages}}</span>页</div></div><div class=\\\"col-xs-12 col-md-6\\\"><nav class=\\\"pull-right\\\" ng-if=\\\"numPages &amp;&amp; pages.length >= 2\\\"><ul class=\\\"pagination\\\"><li><a ng-click=\\\"selectPage(1)\\\">首页</a></li><li><a ng-click=\\\"selectPage(currentPage - 1)\\\">&lt;</a></li><li ng-repeat=\\\"page in pages\\\" ng-class=\\\"{active: page==currentPage}\\\"><a ng-click=\\\"selectPage(page)\\\">{{page}}</a></li><li><a ng-click=\\\"selectPage(currentPage + 1)\\\">&gt;</a></li><li><a ng-click=\\\"selectPage(numPages)\\\">尾页</a></li></ul></nav></div></div>\");\n$templateCache.put(\"app/blank/blank.html\",\"\");\n$templateCache.put(\"app/main/main.html\",\"<div id=\\\"carousel\\\" class=\\\"carousel slide body\\\" data-ride=\\\"carousel\\\"><ol class=\\\"carousel-indicators\\\"><li data-target=\\\"#carousel\\\" data-slide-to=\\\"0\\\" class=\\\"active\\\"></li><li data-target=\\\"#carousel\\\" data-slide-to=\\\"1\\\"></li><li data-target=\\\"#carousel\\\" data-slide-to=\\\"2\\\"></li></ol><div class=\\\"carousel-inner\\\" role=\\\"listbox\\\"><div class=\\\"item active\\\"><img src=\\\"assets/images/carousel-1.png\\\"><div class=\\\"container\\\"><div class=\\\"carousel-caption\\\"><h1>您是车主</h1><p>我们为您提供了一种新的方式来赚钱，<br>仅仅依靠您的汽车播放一些广告，您就可以轻松愉快地收获利润。</p><p><button type=\\\"button\\\" class=\\\"btn btn-success\\\" data-toggle=\\\"modal\\\" data-target=\\\"#downloadModal\\\">下载app</button></p></div></div></div><div class=\\\"item\\\"><img src=\\\"assets/images/carousel-2.png\\\"><div class=\\\"container\\\"><div class=\\\"carousel-caption\\\"><h1>您是广告商</h1><p>我们希望通过汽车这类频繁移动的工具为您播放广告，您可以自由选择时间与地点，借助汽车作为媒介来收获利润。</p><p><button class=\\\"btn btn-success\\\">点击右上角立即注册</button></p></div></div></div><div class=\\\"item\\\"><img src=\\\"assets/images/carousel-3.png\\\"><div class=\\\"container\\\"><div class=\\\"carousel-caption\\\"><h1>若您希望合作</h1><p>请发邮件至mad_info@163.com商讨合作事宜。</p></div></div></div></div><a class=\\\"left carousel-control\\\" href=\\\"#carousel\\\" role=\\\"button\\\" data-slide=\\\"prev\\\"><span class=\\\"glyphicon glyphicon-chevron-left\\\" aria-hidden=\\\"true\\\"></span> <span class=\\\"sr-only\\\">Previous</span></a> <a class=\\\"right carousel-control\\\" href=\\\"#carousel\\\" role=\\\"button\\\" data-slide=\\\"next\\\"><span class=\\\"glyphicon glyphicon-chevron-right\\\" aria-hidden=\\\"true\\\"></span> <span class=\\\"sr-only\\\">Next</span></a></div><div class=\\\"container\\\"><h2 class=\\\"text-center\\\">用心投放每一单广告</h2><p class=\\\"text-center\\\">我们希望为您的每一单广告投放做担保，为更好地广告效益做努力</p><hr><div class=\\\"row\\\"><div class=\\\"col-md-4 col-md-offset-2 col-sm-6 text-center\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-body\\\"><div class=\\\"xmd-img-center\\\"><img src=\\\"assets/images/ico_01.png\\\" class=\\\"img-responsive\\\" width=\\\"100\\\"></div><h4>实名认证</h4><p>100%认证车主驾照、广告商营业执照</p></div></div></div><div class=\\\"col-md-4 col-sm-6 text-center\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-body\\\"><div class=\\\"xmd-img-center\\\"><img src=\\\"assets/images/ico_02.png\\\" class=\\\"img-responsive\\\" width=\\\"100\\\"></div><h4>收益保险</h4><p>车主与广告商信息安全，收益稳定</p></div></div></div></div><div class=\\\"row\\\"><div class=\\\"col-md-4 col-md-offset-2 col-sm-6 text-center\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-body\\\"><div class=\\\"xmd-img-center\\\"><img src=\\\"assets/images/ico_03.png\\\" class=\\\"img-responsive\\\" width=\\\"100\\\"></div><h4>线上支付</h4><p>无缝对接支付宝等在线支付平台</p></div></div></div><div class=\\\"col-md-4 col-sm-6 text-center\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-body\\\"><div class=\\\"xmd-img-center\\\"><img src=\\\"assets/images/ico_04.jpg\\\" class=\\\"img-responsive\\\" width=\\\"100\\\"></div><h4>提现便捷</h4><p>支持支付宝等提现方式</p></div></div></div></div><h2 class=\\\"text-center\\\">联系我们</h2><p class=\\\"text-center\\\">若您有任何疑问，欢迎通过邮件来联系我们</p><p class=\\\"text-center\\\">邮箱：mad_info@163.com</p></div><div class=\\\"modal fade\\\" id=\\\"downloadModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"myModalLabel\\\"><div class=\\\"modal-dialog\\\" role=\\\"document\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h4 class=\\\"modal-title\\\" id=\\\"myModalLabel\\\">下载App</h4></div><div class=\\\"modal-body\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><img style=\\\"width:200px; margin:10px auto;\\\" src=\\\"http://mad-10035512.file.myqcloud.com/liuApp.jpg\\\" class=\\\"img-responsive\\\" alt=\\\"二维码图片\\\"><p class=\\\"text-center\\\">流应用二维码</p></div><hr><div class=\\\"col-md-12\\\"><div style=\\\"width:250px; margin:10px auto\\\"><p class=\\\"text-center\\\"><a href=\\\"http://o8e8i11ed.bkt.clouddn.com/H5661AF68_0607165646.apk\\\">Android App连接</a></p></div></div></div></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">Close</button></div></div></div></div>\");\n$templateCache.put(\"app/pact/pact.html\",\"<div class=\\\"container\\\"><h1>车载广告服务协议</h1><h4>甲方:广告投放方</h4><h4>乙方:MAD移动广告投放平台</h4><p>双方本着友好协商、共同发展的原则，由乙方在网站，为甲方提供网络广告服务。</p><h4>一、服务内容</h4><ol><li>广告类型：本条所指广告内容是指甲方拟在乙方公司内所有广告载体上发布的有关甲方业务的信息，广告形式为静态文字。文字长最长不超过60字。</li><li>乙方将在乙方公司内符合投放条件的车载广告播放装置上发布甲方的广告内容</li></ol><h4>二、甲方的权利义务</h4><ol><li>甲方所要宣传的内容如有变动必须向乙方提交审核，以便乙方能及时调整更新广告信息。</li><li>甲方有权根据本合同第一条所要求的服务内容及标准，检查乙方提供的广告服务质量，如乙方提供的服务质量不符合本合同第一条的规定，甲方有权要求乙方在规定时间内做出补充和修正。</li><li>甲方发布的广告内容必须符合中国法律法规的规定，不得委托乙方发布国家明令禁止的广告内容。</li><li>甲方必须保证所发布广告的真实性、有效性，并独立承担责任。</li><li>甲方必须依据本合同规定，按时足额向乙方支付广告服务款项。</li></ol><h4>三、乙方的权利义务</h4><ol><li>乙方必须严格遵守中华人民共和国广告法及相关适用法律的相关规定及要求发布广告；</li><li>乙方必须按本合同规定第一条规定的服务内容及标准向甲方提供广告服务；</li><li>乙方有权要求甲方按其规定提供营业执照、资质证明等相关证明材料，甲方拒不提供的，乙方有权拒绝为其发布广告。</li><li>乙方一旦发现甲方提供的广告存在虚假成分，有权立即单方面撤除广告，并通知甲方澄清事实。由此造成的损失由甲方承担。</li><li>乙方有权要求甲方按时足额支付广告服务费用；</li></ol><h4>四、违约责任</h4><ol><li>双方中任何一方违反本合同的规定，均必须承担相应的法律责任，赔偿对方因此而造成的经济损失。</li><li>如乙方未能在本合同规定时间内，为甲方提供广告服务，每延迟一天，乙方须减收甲方广告服务费用总额的1%的作为补偿，如延迟时间超过一个月，甲方有权要求终止合同，乙方将向甲方退回全部预付款。</li><li>如甲方未能在本合同规定时间内，向乙方支付预付款及余款，每延迟一天，甲方须向乙方支付广告服务费用总额1%的赔偿金，如延迟时间超过一个月时间，乙方有权终止合同，并有权要求甲方赔偿广告服务费用总额双倍的经济赔偿金。</li><li>由于甲方提供广告中存在虚假成分，或因此引发第三方法律诉讼，要求经济赔偿等，甲方必须独立承担全部损失，并赔偿由此给乙方造成的一切名誉和经济损失。</li></ol><h4>五、服务费用</h4><ol><li>服务付费：单条广告价格根据乙方所投放广告自动计算得出，在广告投放时广告费用自动从乙方账户中扣除；</li><li>支付方式：乙方在投放广告前需向账户中充值足够金额以投放广告，所充值金额会自动兑换为等值MAD币。</li></ol><h4>六、知识产权</h4><ol><li>在本合同执行过程中而产生的广告作品著作权归制作方所有，即由甲方设计制作的广告作品著作权归甲方所有，由甲方委托乙方设计制作的广告作品著作权归乙方所有。</li></ol><h4>七、合同终止</h4><ol><li>如甲方不能提供广告相关商品或服务的资质证明、产品说明书或政府主管部门的审批文件，或提供的上述材料中存在虚假成分，或因此第三方的法律诉讼、经济索赔要求等情况，乙方有权终止本合同，且不承担任何责任；</li><li>如甲方未能按本合同规定时间向乙方支付广告服务费用，延迟时间超过一个月，乙方有权终止本合同；</li><li>在甲方完全履行本合同规定义务后，如乙方未能按本合同规定时间为甲方提供广告服务，延迟时间超过一个月，甲方有权终止本合同。</li></ol><h4>八、保密义务</h4><ol><li>双方为执行本协议提供给对方的任何技术产品或资料，除非提供方明确说明其为公知技术的外，均构成提供方的商业秘密；</li><li>双方同意不得使第三人接触或向第三人揭露上述商业秘密，也不得为本协议之外的任何其它目的利用该商业秘密。双方承诺，本保密义务延及其员工，任何一方员工违法本保密义务的，该方同样应承担全部法律责任。</li></ol><h4>九、免责条件</h4><ol><li>因战争、自然灾害等导致乙方服务器不能正常运行；</li><li>因政府行政行为导致乙方不能开放服务器；</li><li>因互联网灾难，中国、美国等互联网通讯提供商原因导致乙方服务器不能正常接入；</li><li>因乙方操作平台及应用软件原因导致乙方服务器临时性不能正常运行；</li><li>因乙方网站遭遇不法攻击导致服务器临时性不能正常运行。</li><li>基于以上原因，导致乙方网站不能正常运行，甲方认同属于正常现象，乙方不承担任何法律上和本合同规定以外的其它方式的责任。</li></ol><h4>十、争议解决</h4><ol><li>如双方在履行本合同过程中发生争议，经协商无法解决，任何一方均可向仲裁委员会提出仲裁，仲裁结果为最终结果，对双方都具有约束力。</li></ol><h4>十一、其他</h4><ol><li>甲方开始在乙方平台投放广告时该协议自动生效；</li><li>有效期至广告服务时间完成时为止。</li><li>本协议执行过程中，所有附件和补充协议等一经甲乙双方签字即成为本协议的有效组成部分 与本协议具有同等法律效力。</li></ol></div>\");\n$templateCache.put(\"app/notification/notification.html\",\"<div class=\\\"container\\\"><div class=\\\"col-md-offset-1 col-md-10\\\"><h1>消息列表</h1><hr><div class=\\\"panel panel-default\\\" ng-repeat=\\\"ntf in notificationContents\\\"><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-md-1 col-xm-2 col-xs-3\\\"><img alt=\\\"...\\\" src=\\\"assets/images/avatar.jpg\\\" class=\\\"img-responsive img-circle\\\"></div><div class=\\\"col-md-11 col-sm-10 col-xs-9\\\"><div class=\\\"row\\\"><div class=\\\"col-xs-6\\\"><h4 class=\\\"media-heading text-left\\\">系统消息</h4></div><div class=\\\"col-xs-6\\\"><p class=\\\"text-right\\\">{{ntf.date}}</p></div></div><p>{{ntf.content}}</p></div></div></div></div></div></div>\");\n$templateCache.put(\"app/statistics/statistics.html\",\"<div class=\\\"container\\\"><h1 class=\\\"text-center\\\">财务对账</h1><p class=\\\"text-center\\\">在这里核对您的支出信息</p><hr><div class=\\\"row row-margin\\\"><div class=\\\"col-xs-6 col-xs-3 col-xs-offset-3 col-md-2 col-md-offset-4\\\"><p class=\\\"lsr-p-position\\\">总支出: {{totalPay}} 元</p></div><div class=\\\"col-xs-6 col-md-3 col-md-2\\\"><p class=\\\"lsr-p-position\\\">总充值金额: {{totalTopUp}} 元</p></div></div><div class=\\\"panel panel-default\\\"><div class=\\\"panel-body\\\"><table st-table=\\\"advertCollection\\\" st-safe-src=\\\"advertList\\\" class=\\\"table table-hover\\\"><thead><tr><th>广告编号</th><th>广告标题</th><th>发布时间</th><th>次数统计</th><th>总花费(MAD币)</th><th>广告详情</th></tr></thead><tbody><tr ng-repeat=\\\"advert in advertCollection\\\"><td>{{ advert.id }}</td><td>{{ advert.title }}</td><td>{{ advert.startDate }}</td><td>{{ advert.broadcastSum }}</td><td>{{ advert.priceSum }}</td><td><button class=\\\"btn btn-sm btn-success\\\" ui-sref=\\\"app.statistics.detail({advertId: advert.id})\\\">查看详情</button></td></tr></tbody></table></div></div></div>\");\n$templateCache.put(\"app/statistics-advertis/statistics-advertis.html\",\"<div class=\\\"container jx-container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-offset-1 col-md-10\\\"><h1 class=\\\"text-center\\\">广告统计</h1><p class=\\\"text-center\\\">查看广告的支出统计和投放统计</p><hr></div><div class=\\\"col-md-offset-1 col-md-10\\\"><div id=\\\"chart1\\\"><h4 class=\\\"text-center\\\">广告商广告投放统计</h4><div id=\\\"chartdiv\\\" style=\\\"width: 100%; height: 500px;\\\"></div></div><div id=\\\"chart2\\\"><h4 class=\\\"text-center\\\">广告商广告支出统计</h4><div id=\\\"advertisment-chart\\\" style=\\\"width: 100%; height: 500px;\\\"></div></div></div></div></div>\");\n$templateCache.put(\"app/statistics-detail/statistics-detail.html\",\"<div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-offset-1 col-md-10\\\"><h1 class=\\\"text-center\\\">广告统计</h1><p class=\\\"text-center\\\">查看本条广告的支出统计</p><hr></div><div class=\\\"col-md-offset-1 col-md-10\\\"><div><h4 class=\\\"text-center\\\">广告商2015、2016年单条广告支出统计</h4><div id=\\\"chartdiv\\\" style=\\\"width: 100%; height: 500px;\\\"></div></div></div></div></div>\");\n$templateCache.put(\"app/components/footer-advert/footer-advert.html\",\"<hr><footer class=\\\"home-footer\\\"><div class=\\\"home-footer-text\\\"><p>地址：上海市嘉定区曹安公路4800号</p><p>&copy; 2016-2017 &middot; <a href=\\\"http://andyht.github.io/MAD_AdvertiserWeb/#/\\\">移动的广告MAD</a> &middot; All rights reserved.</p></div></footer>\");\n$templateCache.put(\"app/components/navbar-advert/navbar-advert.html\",\"<nav class=\\\"navbar navbar-inverse\\\"><div class=\\\"navbar-header\\\"><button type=\\\"button\\\" class=\\\"navbar-toggle collapsed\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbar\\\" aria-expanded=\\\"false\\\" aria-controls=\\\"navbar\\\"><span class=\\\"sr-only\\\">Toggle navigation</span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span></button> <a class=\\\"navbar-brand\\\" ui-sref=\\\"app\\\"></a></div><div class=\\\"navbar-collapse collapse nav-margin-left\\\" id=\\\"navbar\\\"><ul class=\\\"nav navbar-nav\\\" ng-if=\\\"isLogin\\\"><li class=\\\"\\\" ng-class=\\\"{\\'active\\': isMain}\\\"><a ui-sref=\\\"app\\\" ui-sref-opts=\\\"{reload: true}\\\">首页</a></li><li class=\\\"dropdown\\\" ng-class=\\\"{\\'active\\': isManage}\\\"><a class=\\\"dropdown-toggle\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">广告管理<b class=\\\"caret\\\"></b></a><ul class=\\\"dropdown-menu\\\"><li ng-class=\\\"{\\'active\\': isPush}\\\"><a ui-sref=\\\"app.advert.edit({advertId: null})\\\" ui-sref-opts=\\\"{reload: true}\\\">发布新广告</a></li><li ng-class=\\\"{\\'active\\': isList}\\\"><a ui-sref=\\\"app.advert\\\" ui-sref-opts=\\\"{reload: true}\\\">已发布广告</a></li></ul></li><li class=\\\"dropdown\\\" ng-class=\\\"{\\'active\\': isPay}\\\"><a class=\\\"dropdown-toggle\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">账户管理<b class=\\\"caret\\\"></b></a><ul class=\\\"dropdown-menu\\\"><li ng-class=\\\"{\\'active\\': isPut}\\\"><a ui-sref=\\\"app.account.recharge\\\" ui-sref-opts=\\\"{reload: true}\\\">账户充值</a></li><li ng-class=\\\"{\\'active\\': isBack}\\\"><a ui-sref=\\\"app.account.refund\\\" ui-sref-opts=\\\"{reload: true}\\\">账户退款</a></li><li ng-class=\\\"{\\'active\\': isConfirm}\\\"><a ui-sref=\\\"app.account.check\\\" ui-sref-opts=\\\"{reload: true}\\\">账户验证</a></li></ul></li><li class=\\\"dropdown\\\" ng-class=\\\"{active: isStatistics}\\\"><a class=\\\"dropdown-toggle\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">统计<b class=\\\"caret\\\"></b></a><ul class=\\\"dropdown-menu\\\"><li ng-class=\\\"{active: isAccSta}\\\"><a ui-sref=\\\"app.statistics\\\" ui-sref-opts=\\\"{reload: true}\\\">账务对账</a></li><li></li><li ng-class=\\\"{active: isAdSta}\\\"><a ui-sref=\\\"app.statistics.advertis\\\" ui-sref-opts=\\\"{reload: true}\\\">广告统计</a></li></ul></li></ul><div class=\\\"navbar-header navbar-right nav-margin-right\\\"><ul class=\\\"nav navbar-nav\\\" ng-if=\\\"!isLogin\\\"><button type=\\\"button\\\" class=\\\"btn btn-signup navbar-btn\\\" data-toggle=\\\"modal\\\" data-target=\\\"#signup\\\">注册</button> <button type=\\\"button\\\" class=\\\"btn btn-signin navbar-btn\\\" data-toggle=\\\"modal\\\" data-target=\\\"#login\\\">登录</button></ul><ul class=\\\"nav navbar-nav\\\" ng-if=\\\"isLogin\\\"><li class=\\\"navbar-link\\\" ng-class=\\\"{active: isAccount}\\\"><a ui-sref=\\\"app.account\\\" ui-sref-opts=\\\"{reload: true}\\\" ng-bind=\\\"name\\\"></a></li><li ng-class=\\\"{active: isMsg}\\\"><a ui-sref=\\\"app.notification\\\" class=\\\"navbar-link\\\" ui-sref-opts=\\\"{reload: true}\\\">消息管理</a></li><li><a ng-click=\\\"logout()\\\"><span class=\\\"glyphicon glyphicon-log-out\\\" aria-hidden=\\\"true\\\"></span></a></li></ul></div></div></nav><div id=\\\"signup\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"signModalLabel\\\"><div class=\\\"modal-dialog modal-lg\\\"><div class=\\\"modal-content xmd-modal-content\\\"><div class=\\\"xmd-content\\\"><div class=\\\"row\\\"><div class=\\\"col-md-offset-1 col-md-4 col-sm-5 col-xs-offset-1 col-xs-10 xmd-left-content\\\"><img src=\\\"assets/images/favicon.ico\\\" class=\\\"img-responsive\\\"> <img src=\\\"assets/images/mad.png\\\" class=\\\"img-responsive\\\"></div><div class=\\\"col-md-offset-1 col-md-6 col-sm-6 col-xs-12 xmd-right-content\\\"><div class=\\\"ht-input-box\\\"><form role=\\\"form\\\" class=\\\"xmd-form\\\"><div class=\\\"form-group\\\"><div class=\\\"input-group ht-input\\\"><span class=\\\"input-group-addon\\\"><img src=\\\"assets/images/nickname.png\\\"></span> <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"昵称\\\" aria-describedby=\\\"basic-addon2\\\" ng-model=\\\"nickname\\\"></div></div><div class=\\\"form-group\\\"><div class=\\\"input-group ht-input\\\"><span class=\\\"input-group-addon\\\"><img src=\\\"assets/images/email.png\\\"></span> <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"邮箱\\\" aria-describedby=\\\"basic-addon2\\\" ng-model=\\\"email\\\"></div></div><div class=\\\"form-group\\\"><div class=\\\"input-group ht-input\\\"><span class=\\\"input-group-addon\\\"><img src=\\\"assets/images/password.png\\\"></span> <input type=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"密码\\\" aria-describedby=\\\"basic-addon2\\\" ng-model=\\\"password\\\"></div></div><div class=\\\"form-group\\\"><div class=\\\"input-group ht-input\\\"><span class=\\\"input-group-addon\\\"><img src=\\\"assets/images/confirm.png\\\"></span> <input type=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"确认密码\\\" aria-describedby=\\\"basic-addon2\\\" ng-model=\\\"passConfirm\\\"></div></div><span class=\\\"help-block\\\" ng-show=\\\"thereIsError\\\">{{ errMessage }}</span><div class=\\\"form-group\\\"><button class=\\\"btn btn-warning btn-lg xmd-btn-register\\\" ng-click=\\\"register(nickname, email, password, passConfirm)\\\">注册</button></div></form></div></div></div></div></div></div></div><div id=\\\"login\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"loginModalLabel\\\"><div class=\\\"modal-dialog modal-lg\\\"><div class=\\\"modal-content xmd-modal-content\\\"><div class=\\\"xmd-content\\\"><div class=\\\"row\\\"><div class=\\\"col-md-offset-1 col-md-4 col-sm-5 col-xs-offset-1 col-xs-10 xmd-left-content\\\"><img src=\\\"assets/images/favicon.ico\\\" class=\\\"img-responsive\\\"> <img src=\\\"assets/images/mad.png\\\" class=\\\"img-responsive\\\"></div><div class=\\\"col-md-offset-1 col-md-6 col-sm-6 col-xs-12 xmd-right-content\\\"><div class=\\\"ht-input-box\\\"><form role=\\\"form\\\" class=\\\"xmd-form\\\"><div class=\\\"form-group\\\"><div class=\\\"input-group ht-input\\\"><span class=\\\"input-group-addon\\\"><img src=\\\"assets/images/email.png\\\"></span> <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"邮箱\\\" aria-describedby=\\\"basic-addon2\\\" ng-model=\\\"email\\\"></div></div><div class=\\\"form-group\\\"><div class=\\\"input-group ht-input\\\"><span class=\\\"input-group-addon\\\"><img src=\\\"assets/images/confirm.png\\\"></span> <input type=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"密码\\\" aria-describedby=\\\"basic-addon2\\\" ng-model=\\\"password\\\"></div><span class=\\\"help-block\\\" ng-show=\\\"thereIsError\\\">{{ errMessage }}</span></div><div class=\\\"form-group\\\"><button class=\\\"btn btn-warning btn-lg xmd-btn-register\\\" ng-click=\\\"login(email, password)\\\">登录</button></div></form></div></div></div></div></div></div></div>\");}]);"],"sourceRoot":"/source/"}