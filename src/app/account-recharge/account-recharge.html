<div class="container">
    <div class="container jx-container">
        <div class="row">
            <div class="col-md-offset-2 col-md-8">
                <h2 class="text-center">账户充值</h2>
                <p class="text-center">为确保您的广告正常播放，请经常查看余额或充值</p>
                <hr>
                <div class="row">
                    <div class="panel panel-success">
                        <div class="panel-heading">
                          <h3 class="panel-title text-center">充值</h3>
                        </div>
                        <div class="panel-body">
                            <div class="col-sm-9 recharge-part">
                                <form class="form-horizontal">
                                    <div class="form-group">
                                        <label for="singleSelect" class="col-sm-3 control-label">充值金额</label>
                                        <div class="col-sm-8">
                                            <select name="singleSelect" id="singleSelect" class="form-control" ng-model="amount">
                                                <option value="">---请选择---</option>
                                                <option value=50>50</option>
                                                <option value=100>100</option>
                                                <option value=200>200</option>
                                                <option value=500>500</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-sm-3 control-label">支付宝帐号</label>
                                      <div class="col-sm-8">
                                        <input type="text" class="form-control" placeholder="输入与转账相符的支付宝账户" ng-model="account">
                                        <span class="text-red" ng-show="thereIsError">{{errMessage}}</span>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-sm-offset-1 col-sm-10">
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" ng-model="checkbox.trueValue">已阅读并同意<a type="button" data-toggle="modal" data-target="#pactModal">广告发布协议</a>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <button type="submit" class="btn btn-success center-block btn-fluid" ng-click="recharge(account, amount)">充值</button>
                                    </div>
                                </form>
                            </div>
                          <br>
                            <div class="col-sm-3">
                                <div class="ht-user-info row">
                                  <div class="col-sm-12 text-center">
                                    <h4 for="">{{name}}</h4>
                                    <p><small>{{email}}</small></p>
                                    <button class="btn btn-primary" id="balance-btn" ng-click="getBalance()">查看账户余额</button>
                                    <p id="balance-label" hidden><b>余额：</b>{{balance}}</p>
                                  </div>

                                    <!--<div class="col-sm-6">-->
                                        <!--<img src="assets/images/avatar.jpg" alt="头像图片" class="img-responsive img-rounded">-->
                                    <!--</div>-->
                                    <!--<div class="col-sm-6">-->
                                        <!--<h4 for="">{{name}}</h4>-->
                                        <!--<p><small>{{email}}</small></p>-->
                                        <!--<button class="btn btn-primary" id="balance-btn" ng-click="getBalance()">查看账户余额</button>-->
                                        <!--<p id="balance-label" hidden><b>余额：</b>{{balance}}</p>-->
                                    <!--</div>-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <h3 class="ht-charge-title">充值记录</h3>
                    <p class="text-center">查看您的历史充值记录</p>
                    <hr style="margin-top: 15px;">
                </div>
              <!--TODO: search bar-->
                <div class="row">
                    <div class="panel panel-default">
                      <div class="panel-body">
                        <table class="table table-hover" st-table="rowCollection">
                          <thead>
                          <tr>
                            <th>充值金额（元）</th>
                            <th>充值账户</th>
                            <th>充值时间</th>
                            <th>充值状态</th>
                          </tr>
                          </thead>
                          <tbody>
                              <tr ng-repeat="row in rowCollection">
                                  <td>{{ row.amount }}</td>
                                  <td>{{ row.account }}</td>
                                  <td>{{ row.time }}</td>
                                  <td>{{ row.state }}</td>
                              </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade bs-example-modal-sm" id="qrCodeModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">充值</h4>
      </div>
      <div class="modal-body">
        <div class="text-center">
          <img src="{{qrCodeImage}}" class="img-responsive qrcode-img">
          <button class="btn btn-success" ng-click="rechargeFinish(account, amount)">转账成功后点击这里</button>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
      </div>
    </div>
  </div>
</div>

<!--<div class="modal fade bs-example-modal-sm" id="successModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel2">申请充值成功</h4>
      </div>
      <div class="modal-body">
        您申请的充值信息已提交，请随时关注消息通知！
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
      </div>
    </div>
  </div>
</div>-->

<div class="modal fade bs-example-modal" id="pactModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel2">车载广告服务协议</h4>
      </div>
      <div class="modal-body">
        <h4>甲方:广告投放方</h4>
        <h4>乙方:MAD移动广告投放平台</h4>
        <p>双方本着友好协商、共同发展的原则，由乙方在网站，为甲方提供网络广告服务。</p>

        <h4>一、服务内容</h4>
        <ol>
          <li>广告类型：本条所指广告内容是指甲方拟在乙方公司内所有广告载体上发布的有关甲方业务的信息，广告形式为静态文字。文字长最长不超过60字。</li>
          <li>乙方将在乙方公司内符合投放条件的车载广告播放装置上发布甲方的广告内容</li>
        </ol>

        <h4>二、甲方的权利义务</h4>
        <ol>
          <li>甲方所要宣传的内容如有变动必须向乙方提交审核，以便乙方能及时调整更新广告信息。</li>
          <li>甲方有权根据本合同第一条所要求的服务内容及标准，检查乙方提供的广告服务质量，如乙方提供的服务质量不符合本合同第一条的规定，甲方有权要求乙方在规定时间内做出补充和修正。</li>
          <li>甲方发布的广告内容必须符合中国法律法规的规定，不得委托乙方发布国家明令禁止的广告内容。</li>
          <li>甲方必须保证所发布广告的真实性、有效性，并独立承担责任。</li>
          <li>甲方必须依据本合同规定，按时足额向乙方支付广告服务款项。</li>
        </ol>

        <h4>三、乙方的权利义务</h4>
        <ol>
          <li>乙方必须严格遵守中华人民共和国广告法及相关适用法律的相关规定及要求发布广告；</li>
          <li>乙方必须按本合同规定第一条规定的服务内容及标准向甲方提供广告服务；</li>
          <li>乙方有权要求甲方按其规定提供营业执照、资质证明等相关证明材料，甲方拒不提供的，乙方有权拒绝为其发布广告。</li>
          <li>乙方一旦发现甲方提供的广告存在虚假成分，有权立即单方面撤除广告，并通知甲方澄清事实。由此造成的损失由甲方承担。</li>
          <li>乙方有权要求甲方按时足额支付广告服务费用；</li>
        </ol>

        <h4>四、违约责任</h4>
        <ol>
          <li>双方中任何一方违反本合同的规定，均必须承担相应的法律责任，赔偿对方因此而造成的经济损失。</li>
          <li>如乙方未能在本合同规定时间内，为甲方提供广告服务，每延迟一天，乙方须减收甲方广告服务费用总额的1%的作为补偿，如延迟时间超过一个月，甲方有权要求终止合同，乙方将向甲方退回全部预付款。</li>
          <li>如甲方未能在本合同规定时间内，向乙方支付预付款及余款，每延迟一天，甲方须向乙方支付广告服务费用总额1%的赔偿金，如延迟时间超过一个月时间，乙方有权终止合同，并有权要求甲方赔偿广告服务费用总额双倍的经济赔偿金。</li>
          <li>由于甲方提供广告中存在虚假成分，或因此引发第三方法律诉讼，要求经济赔偿等，甲方必须独立承担全部损失，并赔偿由此给乙方造成的一切名誉和经济损失。</li>
        </ol>

        <h4>五、服务费用</h4>
        <ol>
          <li>服务付费：单条广告价格根据乙方所投放广告自动计算得出，在广告投放时广告费用自动从乙方账户中扣除；</li>
          <li>支付方式：乙方在投放广告前需向账户中充值足够金额以投放广告，所充值金额会自动兑换为等值MAD币。</li>
        </ol>

        <h4>六、知识产权</h4>
        <ol>
          <li>在本合同执行过程中而产生的广告作品著作权归制作方所有，即由甲方设计制作的广告作品著作权归甲方所有，由甲方委托乙方设计制作的广告作品著作权归乙方所有。</li>
        </ol>


        <h4>七、合同终止</h4>
        <ol>
          <li>如甲方不能提供广告相关商品或服务的资质证明、产品说明书或政府主管部门的审批文件，或提供的上述材料中存在虚假成分，或因此第三方的法律诉讼、经济索赔要求等情况，乙方有权终止本合同，且不承担任何责任；</li>
          <li>如甲方未能按本合同规定时间向乙方支付广告服务费用，延迟时间超过一个月，乙方有权终止本合同；</li>
          <li>在甲方完全履行本合同规定义务后，如乙方未能按本合同规定时间为甲方提供广告服务，延迟时间超过一个月，甲方有权终止本合同。</li>
        </ol>

        <h4>八、保密义务</h4>
        <ol>
          <li>双方为执行本协议提供给对方的任何技术产品或资料，除非提供方明确说明其为公知技术的外，均构成提供方的商业秘密；</li>
          <li>双方同意不得使第三人接触或向第三人揭露上述商业秘密，也不得为本协议之外的任何其它目的利用该商业秘密。双方承诺，本保密义务延及其员工，任何一方员工违法本保密义务的，该方同样应承担全部法律责任。</li>
        </ol>

        <h4>九、免责条件</h4>
        <ol>
          <li>因战争、自然灾害等导致乙方服务器不能正常运行；</li>
          <li>因政府行政行为导致乙方不能开放服务器；</li>
          <li>因互联网灾难，中国、美国等互联网通讯提供商原因导致乙方服务器不能正常接入；</li>
          <li>因乙方操作平台及应用软件原因导致乙方服务器临时性不能正常运行；</li>
          <li>因乙方网站遭遇不法攻击导致服务器临时性不能正常运行。</li>
          <li>基于以上原因，导致乙方网站不能正常运行，甲方认同属于正常现象，乙方不承担任何法律上和本合同规定以外的其它方式的责任。</li>
        </ol>

        <h4>十、争议解决</h4>
        <ol>
          <li>如双方在履行本合同过程中发生争议，经协商无法解决，任何一方均可向仲裁委员会提出仲裁，仲裁结果为最终结果，对双方都具有约束力。</li>
        </ol>

        <h4>十一、其他</h4>
        <ol>
          <li>甲方开始在乙方平台投放广告时该协议自动生效；</li>
          <li>有效期至广告服务时间完成时为止。</li>
          <li>本协议执行过程中，所有附件和补充协议等一经甲乙双方签字即成为本协议的有效组成部分 与本协议具有同等法律效力。</li>
        </ol>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
      </div>
    </div>
  </div>
</div>
