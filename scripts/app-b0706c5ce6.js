!function(){"use strict";angular.module("mad",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ngMaterial","toastr","ngFileUpload"])}(),function(){"use strict";function e(){function e(e,t){e.isManage=!1,e.isPush=!1,e.isList=!1,e.isPay=!1,e.isPut=!1,e.isBack=!1,e.isStatistics=!1,e.isAccount=!1,e.isAdSta=!1;var a=t.path();console.log("path:"+a),"/advert/push"==a&&(e.isManage=!0,e.isPush=!0),"/advert"==a&&(e.isManage=!0,e.isList=!0),"/account/reacharge"==a&&(e.isPay=!0,e.isPut=!0),"/account/refund"==a&&(e.isPay=!0,e.isBack=!0),"/account/check"==a&&(e.isStatistics=!0,e.isAccount=!0),"/statistics"==a&&(e.isStatistics=!0,e.isAdSta=!0)}e.$inject=["$scope","$location"];var t={restrict:"E",templateUrl:"app/components/navbar-advert/navbar-advert.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("mad").directive("acmeNavbarAd",e)}(),function(){"use strict";function e(e,t,a,s,o,l,i){t.isMain=!1,t.isManage=!1,t.isPush=!1,t.isList=!1,t.isPay=!1,t.isPut=!1,t.isBack=!1,t.isConfirm=!1,t.isStatistics=!1,t.isAccSta=!1,t.isAdSta=!1,t.isMsg=!1,t.isAccount=!1,"/advert/push"==a.path()&&(t.isManage=!0,t.isPush=!0),"/advert"==a.path()&&(t.isManage=!0,t.isList=!0),"/account/recharge"==a.path()&&(t.isPay=!0,t.isPut=!0),"/account/refund"==a.path()&&(t.isPay=!0,t.isBack=!0),"/account/check"==a.path()&&(t.isPay=!0,t.isConfirm=!0),"/statistics"==a.path()&&(t.isStatistics=!0,t.isAccSta=!0),"/statistics/detail"==a.path()&&(t.isStatistics=!0,t.isAdSta=!0),"/account"==a.path()&&(t.isAccount=!0),"/notification"==a.path()&&(t.isMsg=!0),$("#signup").on("hidden.bs.modal",function(e){t.thereIsError=!1,t.errMessage="",console.log("hide signup")}),$("#login").on("hidden.bs.modal",function(e){t.thereIsError=!1,t.errMessage="",console.log("hide login")}),l.getToken()?(e.logined=!0,t.name=l.getName()):e.logined=!1,t.isLogin=e.logined,t.thereIsError=!1,t.register=function(e,a,s,l){if(!(e&&a&&s&&l))return t.thereIsError=!0,void(t.errMessage="请输入完整信息");if(s!==l)return t.thereIsError=!0,void(t.errMessage="两次输入密码不一致");if(-1===a.search(/^\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/))return t.thereIsError=!0,void(t.errMessage="请输入合法邮箱");t.thereIsError=!1;var n=sha256(s);o.register().save({username:e,email:a,password:n}).$promise.then(function(e){console.log(e),0===e.errCode&&(console.log("注册成功"),i.success("恭喜您注册成功，请您验证邮箱后登录"),$("#signup").modal("hide"))},function(e){console.log("注册失败"),console.log(e),t.thereIsError=!0,t.errMessage="未知错误"+e})},t.login=function(a,s){if(null==a||null==s)return t.thereIsError=!0,void(t.errMessage="请输入用户名和密码");if(-1===a.search(/^\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/))return t.thereIsError=!0,void(t.errMessage="请输入合法邮箱");var i=sha256(s);o.login().save({email:a,password:i}).$promise.then(function(a){console.log(a),0===a.errCode&&(console.log("登录成功"),l.setToken(a.token),l.setName(a.name),$("#login").modal("hide"),t.isLogin=!0,t.name=a.name,e.logined=!0)},function(e){console.log("登录失败"),console.log(e)})},t.logout=function(){l.setToken(""),t.isLogin=!1,e.logined=!1,s.go("app",{reload:!0})}}e.$inject=["$rootScope","$scope","$location","$state","AdvertiserSrv","TokenSrv","NoticeSrv"],angular.module("mad").controller("HeaderCtrl",e)}(),function(){"use strict";function e(){}angular.module("mad").controller("FooterCtrl",e)}(),function(){"use strict";function e(e,t,a){function s(){i.zoomToIndexes(l.length-250,l.length-100)}function o(){var e=[],t=new Date;t.setMinutes(t.getDate()-1e3);for(var a=0;500>a;a++){var s=new Date(t);s.setMinutes(s.getMinutes()+a);var o=Math.round(40*Math.random()+10+a+Math.random()*a/5);e.push({date:s,visits:o})}return e}e.advertId=t.advertId,a.getAdvertDetail().get({id:e.advertId}).$promise.then(function(e){0===e.errCode&&console.log(e.statistics)},function(e){console.log(e)});var l=o(),i=AmCharts.makeChart("chartdiv",{type:"serial",theme:"light",marginRight:80,dataProvider:l,valueAxes:[{position:"left",title:"广告支出"}],graphs:[{id:"g1",fillAlphas:.4,valueField:"visits",balloonText:"<div style='margin:5px; font-size:19px;'>投放:<b>[[value]]</b></div>"}],chartScrollbar:{graph:"g1",scrollbarHeight:80,backgroundAlpha:0,selectedBackgroundAlpha:.1,selectedBackgroundColor:"#888888",graphFillAlpha:0,graphLineAlpha:.5,selectedGraphFillAlpha:0,selectedGraphLineAlpha:1,autoGridCount:!0,color:"#AAAAAA"},chartCursor:{categoryBalloonDateFormat:"JJ:NN, DD MMMM",cursorPosition:"mouse"},categoryField:"date",categoryAxis:{minPeriod:"mm",parseDates:!0},"export":{enabled:!0}});i.addListener("dataUpdated",s),s()}e.$inject=["$scope","$stateParams","StatisticsSrv"],angular.module("mad").controller("SatisticsDetailCtrl",e)}(),function(){"use strict";function e(e,t){function a(){l.zoomToIndexes(l.dataProvider.length-40,l.dataProvider.length-1)}function s(){var e=[],t=new Date;t.setDate(t.getDate()-100);for(var a=0;100>a;a++){var s=new Date(t);s.setDate(s.getDate()+a);var o=Math.round(40*Math.random())+100,l=Math.round(80*Math.random())+500,i=Math.round(6e3*Math.random());e.push({date:s,visits:o,value:o,hits:l,views:i})}return e}function a(){l.zoomToIndexes(l.dataProvider.length-20,l.dataProvider.length-1)}t.getStatisticsData().get().$promise.then(function(e){0===e.errCode&&console.log(e.advertisement)},function(e){console.log(e)});var o=s(),l=AmCharts.makeChart("chartdiv",{type:"serial",theme:"light",marginRight:40,marginLeft:40,autoMarginOffset:20,mouseWheelZoomEnabled:!0,dataDateFormat:"YYYY-MM-DD",valueAxes:[{id:"v1",axisAlpha:0,position:"left",ignoreAxisWidth:!0}],balloon:{borderThickness:1,shadowAlpha:0},graphs:[{id:"g1",balloon:{drop:!0,adjustBorderColor:!1,color:"#ffffff"},bullet:"round",bulletBorderAlpha:1,bulletColor:"#FFFFFF",bulletSize:5,hideBulletsCount:50,lineThickness:2,title:"advertisment1",useLineColorForBulletBorder:!0,valueField:"value",balloonText:"<span style='font-size:18px;'>[[value]]</span>"},{id:"g2",balloon:{drop:!0,adjustBorderColor:!1,color:"#ffffff"},bullet:"round",bulletBorderAlpha:1,bulletColor:"#FFFFFF",bulletSize:5,hideBulletsCount:50,lineThickness:2,title:"advertisment2",useLineColorForBulletBorder:!0,valueField:"hits",balloonText:"<span style='font-size:18px;'>[[value]]</span>"},{id:"g3",balloon:{drop:!0,adjustBorderColor:!1,color:"#ffffff"},bullet:"round",bulletBorderAlpha:1,bulletColor:"#FFFFFF",bulletSize:5,hideBulletsCount:50,lineThickness:2,title:"advertisment2",useLineColorForBulletBorder:!0,valueField:"views",balloonText:"<span style='font-size:18px;'>[[value]]</span>"}],chartScrollbar:{graph:"g1",oppositeAxis:!1,offset:30,scrollbarHeight:80,backgroundAlpha:0,selectedBackgroundAlpha:.1,selectedBackgroundColor:"#888888",graphFillAlpha:0,graphLineAlpha:.5,selectedGraphFillAlpha:0,selectedGraphLineAlpha:1,autoGridCount:!0,color:"#AAAAAA"},chartCursor:{pan:!0,valueLineEnabled:!0,valueLineBalloonEnabled:!0,cursorAlpha:1,cursorColor:"#258cbb",limitToGraph:"g1",valueLineAlpha:.2},valueScrollbar:{oppositeAxis:!1,offset:50,scrollbarHeight:10},categoryField:"date",categoryAxis:{parseDates:!0,dashLength:1,minorGridEnabled:!0},"export":{enabled:!0},dataProvider:o});l.addListener("rendered",a),a();var l=AmCharts.makeChart("advertisment-chart",{type:"serial",theme:"light",legend:{useGraphSettings:!0},dataProvider:o,valueAxes:[{id:"v1",axisColor:"#FF6600",axisThickness:2,gridAlpha:0,axisAlpha:1,position:"left"},{id:"v2",axisColor:"#FCD202",axisThickness:2,gridAlpha:0,axisAlpha:1,position:"right"},{id:"v3",axisColor:"#B0DE09",axisThickness:2,gridAlpha:0,offset:50,axisAlpha:1,position:"left"}],graphs:[{valueAxis:"v1",lineColor:"#FF6600",bullet:"round",bulletBorderThickness:1,hideBulletsCount:30,title:"advertisment1",valueField:"visits",fillAlphas:0},{valueAxis:"v2",lineColor:"#FCD202",bullet:"square",bulletBorderThickness:1,hideBulletsCount:30,title:"advertisment2",valueField:"hits",fillAlphas:0},{valueAxis:"v3",lineColor:"#B0DE09",bullet:"triangleUp",bulletBorderThickness:1,hideBulletsCount:30,title:"advertisment3",valueField:"views",fillAlphas:0}],chartScrollbar:{},chartCursor:{cursorPosition:"mouse"},categoryField:"date",categoryAxis:{parseDates:!0,axisColor:"#DADADA",minorGridEnabled:!0},"export":{enabled:!0,position:"bottom-right"}});l.addListener("dataUpdated",a),a()}e.$inject=["$scope","StatisticsSrv"],angular.module("mad").controller("SatisticsAdvertMapCtrl",e)}(),function(){"use strict";function e(e,t){e.advertCollection=[],t.getAdvertisementStatistics().get().$promise.then(function(t){0===t.errCode&&(console.log(t.advertisement),e.advertCollection=t.advertisement)},function(e){console.log(e)})}e.$inject=["$scope","StatisticsSrv"],angular.module("mad").controller("AdvertSatisticsCtrl",e)}(),function(){"use strict";function e(e){return{token:"",name:"",setToken:function(t){this.token=t,e.put("token",t)},getToken:function(){return this.token||(this.token=e.get("token")),this.token},setName:function(t){this.name=t,e.put("name",t)},getName:function(){return this.name||(this.name=e.get("name")),this.name}}}e.$inject=["$cookies"],angular.module("mad").factory("TokenSrv",e)}(),function(){"use strict";function e(e,t){this.getAdvertisementStatistics=function(){return e(t+"/statistics/all")},this.getAdvertDetail=function(){return e(t+"/statistics/detail/:id",{id:"id"})},this.getStatisticsData=function(){return e(t+"/statistics/data")}}e.$inject=["$resource","baseURL"],angular.module("mad").service("StatisticsSrv",e)}(),function(){"use strict";function e(e,t,a){var s={};return s.timer=null,s.__alert__=function(s,o,l){var i=['<div class="notice fixed alert alert-dismissible ',s,'">','<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>',"<strong>",o,"</strong>",l,"</div>"].join("");angular.element(document).find(".notice")&&angular.element(document).find(".notice").remove(),this.timer&&t.cancel(this.timer),angular.element(document).find("body").append(e(i)(a)),this.timer=t(function(){angular.element(document).find(".notice").remove()},5e3)},s.success=function(e){this.__alert__("alert-success","成功: ",e)},s.error=function(e){this.__alert__("alert-danger","错误: ",e)},s.notice=function(e){this.__alert__("alert-info","提示: ",e)},s}e.$inject=["$compile","$timeout","$rootScope"],angular.module("mad").factory("NoticeSrv",e)}(),function(){"use strict";function e(e,t,a,s){var o={request:function(o){-1!==arguments[0].url.indexOf(s)&&(("GET"===arguments[0].method||"DELETE"===arguments[0].method||"OPTIONS"===arguments[0].method)&&(arguments[0].params=arguments[0].params||{},arguments[0].params.token=a.getToken()),("POST"===arguments[0].method||"PUT"===arguments[0].method)&&(arguments[0].data=arguments[0].data||{},arguments[0].data.token=a.getToken()));var l=t.get("$state");return e.logined||"\\"===l.current.url||"^"===l.current.url||t.get("$state").go("app"),a.getToken()||(window.location.href="#/"),o},response:function(e){if(101===e.data.errCode){console.log("errCode:"+e.data.errCode),t.get("NoticeSrv").notice(t.get("ErrorSrv").getError(e.data.errCode+"")),a.setToken("");t.get("$state");t.get("$state").go("app")}return e.data.errCode&&0!==e.data.errCode&&(t.get("NoticeSrv").error(t.get("ErrorSrv").getError(e.data.errCode+"")),console.log("errCode:"+e.data.errCode)),e}};return o}e.$inject=["$rootScope","$injector","TokenSrv","baseURL"],angular.module("mad").factory("myInterceptor",e)}(),function(){"use strict";function e(){var e,t;return e={101:"令牌不存在或已经过期, 请重新登陆",102:"用户名或密码错误",103:"该用户邮箱未验证",104:"该用户邮箱已被注册",105:"该用户手机号已被注册",106:"该用户手机号未验证",107:"邮箱验证码过期或错误，验证失败，需要重新注册",108:"参数不正确",109:"",111:"",112:"",113:"",201:"广告不存在",202:"广告类别错误",203:"广告标题不能为空",204:"投放地点错误",205:"广告起始日期不能大于结束日期",206:"广告状态错误",207:"广告上传失败",208:"广告下架失败",209:"发布广告失败",210:"保存草稿太频繁",211:"",301:"金额必须大于0",302:"验证信息不完整",303:"图片上传失败",304:"退款金额大于余额",305:"旧密码不对",306:"行政区映射修改失败",307:"",308:"",999:"未知错误"},t=function(t){return e[t]},{getError:t}}angular.module("mad").factory("ErrorSrv",e)}(),function(){"use strict";function e(e,t){this.applyState={"01":"申请等待处理","00":"申请被拒绝",11:"申请通过"},this.register=function(){return e(t+"/signup")},this.login=function(){return e(t+"/login")},this.checkInfo=function(){return e(t+"/account/check")},this.formatCheckInfo=function(e){if(e.businessPeriodIsLong)e.businessPeriod="长期";else{var t=moment(e.businessPeriod);e.businessPeriodStr=t.format("YYYY-MM-DD HH:mm:ss")}return e.legalPersonIdIsLong?e.legalPersonValidDateStr="长期":(t=moment(e.legalPersonValidDate),e.legalPersonValidDateStr=t.format("YYYY-MM-DD HH:mm:ss")),e},this.parseCheckInfo=function(e){e.companyLocationProvince=e.location.split(",")[0],e.companyLocationDistrict=e.location.split(",")[1];var t;return e.legalPerson.iflongterm||(t=moment(e.businessPeriod),e.periodDate=t.toDate()),e.periodIsLong||(t=moment(e.legalPerson.validDate),e.legalPerson.idValidDate=t.toDate()),e},this.getAccountDetails=function(){return e(t+"/account/detail")},this.getMessages=function(){return e(t+"/message")},this.recharge=function(){return e(t+"/account/recharge")},this.refund=function(){return e(t+"/account/refund")},this.getRechargeHistory=function(){return e(t+"/account/recharge/all")},this.getRefundHistory=function(){return e(t+"/account/refund/all")},this.changePassword=function(){return e(t+"/account/changePwd")},this.changeAlipay=function(){return e(t+"/account/changeAlipay")},this.getCheckDetail=function(){return e(t+"/account/check/detail")}}e.$inject=["$resource","baseURL"],angular.module("mad").service("AdvertiserSrv",e)}(),function(){"use strict";function e(e,t){this.advertTypes=[{id:"other",type:"其他"},{id:"accommodation",type:"食宿"},{id:"commodity",type:"商品"},{id:"education",type:"教育"},{id:"entertainment",type:"影视娱乐"},{id:"recruit",type:"招聘"},{id:"service",type:"服务"},{id:"social",type:"社交"},{id:"tenancy",type:"租赁"}],this.types={other:"其他",accommodation:"食宿",commodity:"商品",education:"教育",entertainment:"影视娱乐",recruit:"招聘",service:"服务",social:"社交",tenancy:"租赁"},this.advertCities=[{id:"Shanghai",city:"上海"}],this.getReleaseAdvertisement=function(){return e(t+"/advertisement/list/all")},this.saveDraftAdvertisement=function(){return e(t+"/advertisement/save")},this.getAdvertisementById=function(){return e(t+"/advertisement/:advertId",{advertId:"advertId"})},this.submitAdvertisementById=function(){return e(t+"/advertisement/release")},this.getDistrictsByCity=function(){return e(t+"/advertisement/district/all")},this.removeAdvertisementById=function(){return e(t+"/advertisement/remove")},this.parseAdvertisement=function(e,t){e.number=t;var a="未知";return e.catalog=this.types[e.catalog],"001"===e.status?(a="正常投放",e.isDisableOff=!0,e.stateClass="xmd-passed"):"010"===e.status?(a="草稿",e.canSubmit=!0,e.isDisableModify=!0,e.stateClass="xmd-draft"):"100"===e.status?(a="待审核",e.isDisableCancel=!0,e.stateClass="xmd-notSubmitted",e.canCancel=!0):"000"===e.status?(a="审核未通过",e.isDisableModify=!0,e.stateClass="xmd-notPassed"):"101"===e.status&&(a="广告被下架",addEventListener.isDisableModify=!0,e.stateClass="xmd-removed"),e.state=a,e},this.formatAdvertisement=function(e){e.city="Shanghai";var t=moment(e.startDate).toDate(),a=moment(e.endDate).toDate();return e.startDate=t,e.endDate=a,e},this.parseDate=function(e){var t=moment(e);return t.format("YYYY-MM-DD HH:mm:ss")}}e.$inject=["$resource","baseURL"],angular.module("mad").service("AdvertisementSrv",e)}(),function(){"use strict";function e(e,t){t.getMessages().get().$promise.then(function(t){0===t.errCode&&(console.log(t.messages),e.notificationContents=t.messages)})}e.$inject=["$scope","AdvertiserSrv"],angular.module("mad").controller("NotificationCtrl",e)}(),function(){"use strict";function e(){}angular.module("mad").controller("MainCtrl",e)}(),function(){"use strict";function e(e,t,a){var s=0;e.advertList=[],e.itemsByPage=10,e.advertCollection=[];var o=function(){t.getReleaseAdvertisement().get().$promise.then(function(o){if(0===o.errCode){for(s=0;s<o.advertisement.length;s+=1){var l=o.advertisement[s];console.log("advert:"),console.log(l),e.advertList.push(t.parseAdvertisement(l,s))}e.advertCollection=[].concat(e.advertList),a.success("获取广告列表成功")}},function(e){console.log("获取广告列表失败"),a.error("获取广告列表失败")}),e.advertCollection=[].concat(e.advertList)};o(),e.removeAdvertisementById=function(s){return console.log("row id:"),console.log(s),null==s?void a.notice("广告ID有误"):(e.thereIsError=!1,void t.removeAdvertisementById().save({id:s}).$promise.then(function(e){console.log(e),0==e.errCode?(a.success("广告下架成功"),o()):a.notice("未知错误:"+e.errCode)},function(e){a.notice("未知错误:"+e)}))},e.submitAdvertisementById=function(s){return null==s?void a.notice("广告ID有误"):(e.thereIsError=!1,void t.submitAdvertisementById().get({id:s}).$promise.then(function(e){console.log(e),0==e.errCode?(a.success("广告提交审核成功"),o()):a.notice("未知错误:"+e.errCode)},function(e){a.notice("未知错误:"+e)}))}}e.$inject=["$scope","AdvertisementSrv","NoticeSrv"],angular.module("mad").controller("AdvertCtrl",e)}(),function(){"use strict";function e(e,t,a,s,o){function l(e){var t,a=0,s=e.split(" ");return s.forEach(function(e){-1!==e.search(/[\u4e00-\u9fa5]/g)?(t=e.split(""),a+=t.length):a+=1}),a}function i(e){var t=0;return e.forEach(function(e){e.selected&&(t+=1)}),t}function n(e,t){var a=e/t;return a.toFixed(2)}e.advertTypes=o.advertTypes,e.advertCities=o.advertCities;var r=[];""!==t.advertId?(e.pageTitle="修改广告",e.pageDetail="",e.advertId=t.advertId,o.getAdvertisementById().get({advertId:e.advertId}).$promise.then(function(t){0===t.errCode&&(e.advertisement=o.formatAdvertisement(t.advertisement),console.log(e.advertisement.city),o.getDistrictsByCity().get({city:e.advertisement.city}).$promise.then(function(t){if(0===t.errCode){var a=t.broadcastLocation,s=e.advertisement.broadcastLocation;r=e.advertisement.broadcastLocation,a.forEach(function(e){-1===s.indexOf(e.id)?e.selected=!1:e.selected=!0}),e.districts=a}},function(e){console.log("失败"),console.log(e)}))},function(e){console.log("get advert detail error"),console.log(e)})):(e.pageTitle="新增广告",e.pageDetail="所有信息都必填",e.advertId=null,e.advertisement={city:"Shanghai",catalog:"other",price:"0"},o.getDistrictsByCity().get({city:e.advertisement.city}).$promise.then(function(t){if(0===t.errCode){var a=t.broadcastLocation;e.advertisement.broadcastLocation=[],a.forEach(function(t){t.selected=!0,e.advertisement.broadcastLocation.push(t.id),r.push(t.id)}),e.districts=a}},function(e){console.log("失败"),console.log(e)})),e.changeContent=function(t){if(t){var a=l(t),s=i(e.districts);e.advertisement.price=n(a,s),console.log(e.advertisement.price)}},e.changeDistrict=function(){var t=i(e.districts);if(0!==t&&e.advertisement.content){var a=l(e.advertisement.content);e.advertisement.price=n(a,t)}else e.advertisement.price=0;console.log(e.advertisement.price)},e.saveDraft=function(){var t=[];if(e.districts.forEach(function(e){e.selected&&t.push(e.id)}),r=e.advertisement.broadcastLocation,!(e.advertisement&&e.advertisement.title&&e.advertisement.content&&e.advertisement.catalog&&e.advertisement.city&&e.advertisement.startDate&&e.advertisement.endDate))return console.log("输入检查"),void s.notice("请输入完整信息");var l=e.advertisement,i=o.parseDate(e.advertisement.startDate),n=o.parseDate(e.advertisement.endDate),d=c(r,t);l.price=parseFloat(l.price),o.saveDraftAdvertisement().save({id:e.advertId,title:l.title,content:l.content,catalog:l.catalog,broadcastLocation:t,startDate:i,endDate:n,city:l.city,price:l.price,add:d.add,remove:d.remove}).$promise.then(function(e){0===e.errCode&&(console.log("保存草稿成功"),console.log(e),a.go("app.advert.edit",{advertId:e.id}),s.success("保存草稿成功"))},function(e){console.log("保存草稿失败"),console.log(e)})},e.submitApply=function(){return console.log(e.advertisement),e.advertisement&&e.advertisement.title&&e.advertisement.content&&e.advertisement.catalog&&e.advertisement.city&&e.advertisement.startDate&&e.advertisement.endDate?void o.submitAdvertisementById().get({id:e.advertId}).$promise.then(function(t){0===t.errCode&&(e.resultTitle="提交成功",e.resultDetail="您的广告（编号为："+e.advertId+"）已经提交至审核区，您可以在消息通知中查看审核结果，请耐心等待，谢谢！",$("#successModal").modal("show"),console.log(t))},function(t){e.thereIsError=!0,e.errMessage="未知错误: "+t,console.log("提交失败"),console.log(t)}):void console.log("输入检查")},$("#successModal").on("hidden.bs.modal",function(e){a.go("app.advert")});var c=function(e,t){var a=new Array,s=new Array;return t.forEach(function(t){-1===e.indexOf(t)&&a.push(t)}),e.forEach(function(e){-1===t.indexOf(e)&&s.push(e)}),{add:a,remove:s}}}e.$inject=["$scope","$stateParams","$state","NoticeSrv","AdvertisementSrv"],angular.module("mad").controller("AdvertEditCtrl",e)}(),function(){"use strict";function e(e,t,a){e.advertId=t.advertId,a.getAdvertisementById().get({advertId:e.advertId}).$promise.then(function(t){0===t.errCode&&(console.log("advertDetail"),console.log(t.advertisement),e.advertisement=a.parseAdvertisement(t.advertisement),a.getDistrictsByCity().get({city:e.advertisement.city}).$promise.then(function(t){if(0===t.errCode){var a=t.broadcastLocation,s="";e.advertisement.broadcastLocation.forEach(function(e){for(var t=0;t<a.length;t+=1)if(a[t].id===e){s+=a[t].name+",";break}}),s=s.substring(0,s.length-1),e.locations=s}},function(e){console.log("失败"),console.log(e)}))},function(e){console.log("get advert detail error"),console.log(e)})}e.$inject=["$scope","$stateParams","AdvertisementSrv"],angular.module("mad").controller("AdvertDetailCtrl",e)}(),function(){"use strict";function e(e,t,a){function s(){e.rowCollection=[],a.getRefundHistory().get().$promise.then(function(t){var s=0;if(0===t.errCode)for(console.log("退款记录"),console.log(t),s=0;s<t.refundHistory.length;s++)t.refundHistory[s].state=a.applyState[t.refundHistory[s].status],e.rowCollection.push(t.refundHistory[s])},function(e){console.log("退款记录Error"),console.log(e),t.error("退款申请提交失败")})}a.getAccountDetails().get().$promise.then(function(t){0===t.errCode&&(e.alipay=t.advertiser.alipay,e.email=t.advertiser.email,e.name=t.advertiser.name,e.balance=t.advertiser.balance)}),e.getBalance=function(){$("#balance-btn").hide(),$("#balance-label").show()},s(),e.refund=function(o,l){return o&&l?0>o?void t.notice("请输入合法退款金额"):(e.thereIsError=!1,void a.refund().save({refund:o,Alipay:l}).$promise.then(function(e){console.log(e),0==e.errCode&&(console.log("退款申请成功"),t.success("退款申请提交成功"),s())},function(e){console.log("退款失败"),console.log(e),t.error("退款申请提交失败")})):void t.notice("请输入完整信息")}}e.$inject=["$scope","NoticeSrv","AdvertiserSrv"],angular.module("mad").controller("AccountRefundCtrl",e)}(),function(){"use strict";function e(e,a,s,o){s.getCheckDetail().get().$promise.then(function(t){if(0===t.errCode)if(t.detail){var a=s.parseCheckInfo(t.detail);console.log(a),e.detail={companyType:a.type,licenseType:a.licenseType,companyName:a.companyName,licenseCode:a.licenseCode,companyLocationProvince:a.companyLocationProvince,companyLocationDistrict:a.companyLocationDistrict,accomodation:a.accomodation,businessScope:a.businessScope,businessPeriod:a.periodDate,periodIsLong:a.periodIsLong,organizationCode:a.organizationCode,legalPersonName:a.legalPerson.name,legalPersonLocation:a.legalPerson.location,legalPersonId:a.legalPerson.id,legalPersonValidDate:a.legalPerson.idValidDate,legalPersonIdIsLong:a.legalPerson.iflongterm,legalPersonIflegalperson:a.legalPerson.iflegalperson,contactEmail:a.contactEmail},e.canSubmit=!1}else e.canSubmit=!0},function(e){console.log(e)}),e.submit=function(){if(!e.detail||!t(e.detail))return console.log("输入检查"),console.log(e.detail),void o.notice("请输入合法信息");var l=s.formatCheckInfo(e.detail);console.log(l),s.checkInfo().save({detail:{type:l.companyType,licenseType:l.licenseType,companyName:l.companyName,licenseCode:l.licenseCode,licenseImageUrl:"http://img.jdzj.com/UserDocument/2013b/wuxibangyao/Picture/201372694821.jpg",location:l.companyLocationProvince+","+l.companyLocationDistrict,accomodation:l.accomodation,businessScope:l.businessScope,businessPeriod:l.businessPeriodStr,periodIsLong:l.periodIsLong,organizationCode:l.organizationCode,legalPerson:{name:l.legalPersonName,location:l.legalPersonLocation,id:l.legalPersonId,validDate:l.legalPersonValidDateStr,iflongterm:l.legalPersonIdIsLong,iflegalperson:l.legalPersonIflegalperson},contactEmail:l.contactEmail}}).$promise.then(function(e){0===e.errCode&&(console.log("提交checkInfo成功"),console.log(e),o.success("提交验证信息成功"),a.go("app.account.check",{reload:!0}))},function(e){console.log("提交checkInfo失败"),console.log(e)})}}function t(e){return e.accomodation&&e.businessScope&&e.companyLocationDistrict&&e.companyLocationProvince&&e.companyName&&e.companyType&&e.contactEmail&&e.legalPersonId&&e.legalPersonIflegalperson&&e.legalPersonLocation&&e.legalPersonName&&e.licenseCode&&e.licenseType&&e.organizationCode&&(e.businessPeriod||e.periodIsLong)&&(e.legalPersonValidDate||e.legalPersonIdIsLong)?e.businessPeriod&&e.periodIsLong?!1:e.legalPersonValidDate&&e.legalPersonIdIsLong?!1:!0:!1}e.$inject=["$scope","$state","AdvertiserSrv","NoticeSrv"],angular.module("mad").controller("AccountCheckCtrl",e)}(),function(){"use strict";function e(e,t,a){function s(){e.rowCollection=[],a.getRechargeHistory().get().$promise.then(function(t){var s=0;if(0===t.errCode)for(console.log("充值记录"),console.log(t),s=0;s<t.rechargeHistory.length;s++)t.rechargeHistory[s].state=a.applyState[t.rechargeHistory[s].status],e.rowCollection.push(t.rechargeHistory[s])},function(e){console.log("充值记录Error"),console.log(e)})}e.checkbox={trueValue:!0},e.getBalance=function(){$("#balance-btn").hide(),$("#balance-label").show()},s(),a.getAccountDetails().get().$promise.then(function(t){0===t.errCode&&(e.alipay=t.advertiser.alipay,e.email=t.advertiser.email,e.name=t.advertiser.name,e.balance=t.advertiser.balance)}),e.recharge=function(a,s){if(a&&s){switch(e.thereIsError=!1,console.log(typeof s),"string"==typeof s&&(s=parseInt(s),console.log(typeof s)),s){case 50:e.qrCodeImage="http://mad-10035512.file.myqcloud.com/50.jpg";break;case 100:e.qrCodeImage="http://mad-10035512.file.myqcloud.com/100.jpg";break;case 200:e.qrCodeImage="http://mad-10035512.file.myqcloud.com/200.jpg";break;case 500:e.qrCodeImage="http://mad-10035512.file.myqcloud.com/500.jpg"}$("#qrCodeModal").modal("show")}else t.notice("请输入完整信息")},e.rechargeFinish=function(e,o){"string"==typeof o&&(o=parseInt(o),console.log(typeof o)),a.recharge().save({recharge:o,Alipay:e}).$promise.then(function(e){console.log(e),0==e.errCode&&(console.log("充值申请成功"),t.success("充值成功"),s())},function(e){console.log("充值失败"),console.log(e),t.error("充值失败")})}}e.$inject=["$scope","NoticeSrv","AdvertiserSrv"],angular.module("mad").controller("AccountRechargeCtrl",e)}(),function(){"use strict";function e(e,t){angular.module("tabsDemoDynamicHeight",["ngMaterial"]),t.getAccountDetails().get().$promise.then(function(t){if(0===t.errCode){e.alipay=t.advertiser.alipay,e.email=t.advertiser.email,e.name=t.advertiser.name;var a=t.advertiser.status;"010"===a?(e.notVerified=!0,e.isPassed=!1,e.notPassed=!1):"100"===a?(e.notVerified=!1,e.isPassed=!0,e.notPassed=!1):(e.notVerified=!1,e.isPassed=!1,e.notPassed=!0)}}),e.changeAlipay=function(a){return null==a?(e.thereIsError=!0,void(e.errMessage="请输入完整信息")):a==e.alipay?(e.thereIsError=!0,void(e.errMessage="密码没有改变")):(e.thereIsError=!1,void t.changeAlipay().save({Alipay:a}).$promise.then(function(t){console.log(t),0==t.errCode?(e.resultDetail="您的支付宝账户名称更改成功",$("#successModal").modal("show")):(e.thereIsError=!0,e.errMessage="未知错误:"+t.errCode)},function(t){console.log("退款失败"),console.log(t),e.thereIsError=!0,e.errMessage="未知错误:"+t}))},e.changePassword=function(a,s,o){if(null==a||null==s||null==o)return e.confirmPwdError=!0,void(e.confirmErrMsg="请输入完整信息");if(s.length<8)return e.newPwdError=!0,void(e.newErrMsg="密码必须大于等于8位");if(o!=s)return e.newPwdError=!1,e.confirmPwdError=!0,void(e.confirmErrMsg="再次输入的密码不正确，请重新输入");e.confirmPwdError=!1,e.newPwdError=!1;var l=sha256(a),i=sha256(s);t.changePassword().save({oldPwd:l,newPwd:i}).$promise.then(function(t){console.log(t),0==t.errCode?(e.oldPwdError=!1,e.resultDetail="您的密码修改成功",$("#successModal").modal("show")):305==t.errCode?(e.oldPwdError=!0,e.oldErrMsg="旧密码错误，请重新输入"):(e.confirmPwdError=!0,e.confirmErrMsg="未知错误:"+t.errCode)},function(t){e.confirmPwdError=!0,e.confirmErrMsg="未知错误:"+t})}}e.$inject=["$scope","AdvertiserSrv"],angular.module("mad").controller("AccountCtrl",e)}(),function(){"use strict";function e(e){e.debug("runBlock end")}e.$inject=["$log"],angular.module("mad").run(e)}(),function(){"use strict";function e(e,t){t.otherwise("/"),e.state("app",{url:"/",views:{header:{templateUrl:"app/components/navbar-advert/navbar-advert.html",controller:"HeaderCtrl"},content:{templateUrl:"app/main/main.html",controller:"MainCtrl"},footer:{templateUrl:"app/components/footer-advert/footer-advert.html",controller:"FooterCtrl"}}}).state("app.advert",{url:"advert",views:{"content@":{templateUrl:"app/advertisment/advertisment.html",controller:"AdvertCtrl"}}}).state("app.advert.edit",{url:"/edit/:advertId",views:{"content@":{templateUrl:"app/advert-edit/advert-edit.html",controller:"AdvertEditCtrl"}}}).state("app.advert.detail",{url:"/detail/:advertId",views:{"content@":{templateUrl:"app/advert-detail/advert-detail.html",controller:"AdvertDetailCtrl"}}}).state("app.account",{url:"account",views:{"content@":{templateUrl:"app/account/account.html",controller:"AccountCtrl"}}}).state("app.account.recharge",{url:"/recharge",views:{"content@":{templateUrl:"app/account-recharge/account-recharge.html",controller:"AccountRechargeCtrl"}}}).state("app.account.refund",{url:"/refund",views:{"content@":{templateUrl:"app/account-refund/account-refund.html",controller:"AccountRefundCtrl"}}}).state("app.account.check",{url:"/check",views:{"content@":{templateUrl:"app/account-check/account-check.html",controller:"AccountCheckCtrl"}}}).state("app.statistics",{url:"statistics",views:{"content@":{templateUrl:"app/statistics/statistics.html",controller:"AdvertSatisticsCtrl"}}}).state("app.statistics.advertis",{url:"/advertis",views:{"content@":{templateUrl:"app/statistics-advertis/statistics-advertis.html",controller:"SatisticsAdvertMapCtrl"}}}).state("app.statistics.detail",{url:"/detail/:advertId",views:{"content@":{templateUrl:"app/statistics-detail/statistics-detail.html",controller:"SatisticsDetailCtrl"}}}).state("app.notification",{url:"notification",views:{"content@":{templateUrl:"app/notification/notification.html",controller:"NotificationCtrl"}}})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("mad").config(e)}(),function(){"use strict";angular.module("mad").constant("malarkey",malarkey).constant("moment",moment)}(),function(){"use strict";function e(e,t,a){t.debugEnabled(!0),e.interceptors.push("myInterceptor"),a.allowHtml=!0,a.timeOut=3e3,a.positionClass="toast-top-right",a.preventDuplicates=!0,a.progressBar=!0}e.$inject=["$httpProvider","$logProvider","toastrConfig"],angular.module("mad").config(e),angular.module("mad").value("baseURL","http://121.42.57.59:4000/advertiser")}(),angular.module("mad").run(["$templateCache",function(e){e.put("app/account/account.html",'<div class="container"><div class="text-center"><h1>个人账号中心</h1><hr></div><div class="col-md-offset-1 col-md-10"><div class="row"><div class="col-md-3 col-sm-5"><div class="panel panel-default"><div class="panel-body text-center"><div class="row"><div class="col-md-8 col-md-offset-2 col-xs-6 col-xs-offset-3"><img src="assets/images/avatar.jpg" class="img-responsive img-circle"></div></div><h4>{{name}}</h4><p>{{email}}</p><span class="label label-success" ng-show="isPassed">已通过审核</span><div ng-show="notVerified"><span class="label label-warning">未审核</span> <button ui-sref="app.account.check" class="btn btn-info btn-xs">审核</button></div><div ng-show="notPassed"><span class="label label-danger">未通过审核</span> <button ui-sref="app.account.check" class="btn btn-info btn-xs">再次审核</button></div></div></div></div><div class="col-md-9 col-sm-7 tab-content"><div class="panel panel-default"><div class="panel-body xmd-body"><h4>修改密码</h4><hr style="margin-top: 15px;"><form class="form-horizontal"><div class="form-group"><label for="" class="col-sm-2 control-label">旧密码</label><div class="col-sm-10"><input type="password" class="form-control" ng-model="oldPwd"> <span class="text-red" ng-show="oldPwdError">{{oldErrMsg}}</span></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">新密码</label><div class="col-sm-10"><input type="password" class="form-control" ng-model="newPwd"> <span class="text-red" ng-show="newPwdError">{{newErrMsg}}</span></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">再次输入新密码</label><div class="col-sm-10"><input type="password" class="form-control" ng-model="confirmPwd"> <span class="text-red" ng-show="confirmPwdError">{{confirmErrMsg}}</span></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-10"><button type="submit" class="btn btn-info" ng-click="changePassword(oldPwd,newPwd,confirmPwd)">修改密码</button></div></div></form><br><h4>修改支付宝帐号</h4><hr style="margin-top: 15px;"><form class="form-horizontal"><div class="form-group"><label for="" class="col-sm-2 control-label">支付宝账号</label><div class="col-sm-10"><input type="text" class="form-control" placeholder="{{alipay}}" ng-model="currentAlipay"> <span class="text-red" ng-show="thereIsError">{{errMessage}}</span></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-10"><button type="submit" class="btn btn-warning" ng-click="changeAlipay(currentAlipay)">修改支付宝帐号</button></div></div></form><br></div></div></div></div></div></div><div class="modal fade bs-example-modal-sm" id="successModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel2">修改成功</h4></div><div class="modal-body">{{resultDetail}}</div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">关闭</button></div></div></div></div>'),
e.put("app/account-recharge/account-recharge.html",'<div class="container"><div class="container jx-container"><div class="row"><div class="col-md-offset-2 col-md-8"><h2 class="text-center">账户充值</h2><p class="text-center">为确保您的广告正常播放，请经常查看余额或充值</p><hr><div class="row"><div class="panel panel-success"><div class="panel-heading"><h3 class="panel-title text-center">充值</h3></div><div class="panel-body"><div class="col-sm-7 recharge-part"><form class="form-horizontal"><div class="form-group"><label for="singleSelect" class="col-sm-3 control-label">充值金额</label><div class="col-sm-8"><select name="singleSelect" id="singleSelect" class="form-control" ng-model="amount"><option value="">---请选择---</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="500">500</option></select></div></div><div class="form-group"><label class="col-sm-3 control-label">支付宝帐号</label><div class="col-sm-8"><input type="text" class="form-control" placeholder="输入与转账相符的支付宝账户" ng-model="account"> <span class="text-red" ng-show="thereIsError">{{errMessage}}</span></div></div><div class="form-group"><div class="col-sm-offset-1 col-sm-10"><div class="checkbox"><label><input type="checkbox" ng-model="checkbox.trueValue">已阅读并同意<a href="">广告发布协议</a></label></div></div></div><div><button type="submit" class="btn btn-success center-block btn-fluid" ng-click="recharge(account, amount)">充值</button></div></form></div><div class="col-sm-5"><div class="ht-user-info row"><div class="col-sm-6"><img src="assets/images/avatar.jpg" alt="头像图片" class="img-responsive img-rounded"></div><div class="col-sm-6"><h3 for="">{{name}}<br><small>{{email}}</small></h3><button class="btn btn-primary" id="balance-btn" ng-click="getBalance()">查看账户余额</button><p id="balance-label" hidden=""><b>余额：</b>{{balance}}</p></div></div></div></div></div></div><div class="row"><h3 class="ht-charge-title">充值记录</h3><p class="text-center">查看您的历史充值记录</p><hr style="margin-top: 15px;"></div><div class="row"><div class="panel panel-default"><div class="panel-body"><table class="table table-hover" st-table="rowCollection"><thead><tr><th>充值金额（元）</th><th>充值账户</th><th>充值时间</th><th>充值状态</th></tr></thead><tbody><tr ng-repeat="row in rowCollection"><td>{{ row.amount }}</td><td>{{ row.account }}</td><td>{{ row.time }}</td><td>{{ row.state }}</td></tr></tbody></table></div></div></div></div></div></div></div><div class="modal fade bs-example-modal-sm" id="qrCodeModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel">充值</h4></div><div class="modal-body"><div class="text-center"><img src="{{qrCodeImage}}" class="img-responsive qrcode-img"> <button class="btn btn-success" ng-click="rechargeFinish(account, amount)">转账成功后点击这里</button></div></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">关闭</button></div></div></div></div>'),e.put("app/account-check/account-check.html",'<div class="container"><div class="text-center" ng-show="canSubmit"><h1>广告商认证</h1><p>您需要通过认证才可以发表广告</p><hr></div><div class="text-center" ng-hide="canSubmit"><h1>广告商认证</h1><h3>您的审核信息已提交，请不要重复提交审核信息</h3><hr></div><div class="col-md-offset-2 col-sm-8 col-sm-offset-1 col-sm-10"><form class="form-horizontal" name="checkInfo"><h4>单位类型</h4><hr style="margin-top:10px;"><div class="form-group"><label for="" class="col-sm-2 control-label">选择单位类型</label><div class="col-sm-10"><div class="col-sm-4 col-xs-6"><label><input type="radio" name="company-type" ng-model="detail.companyType" value="企业"> 企业</label></div><div class="col-sm-4 col-xs-6"><label><input type="radio" name="company-type" ng-model="detail.companyType" value="事业单位"> 事业单位</label></div><div class="col-sm-4 col-xs-6"><label><input type="radio" name="company-type" ng-model="detail.companyType" value="民办非企业单位"> 民办非企业单位</label></div><div class="col-sm-4 col-xs-6"><label><input type="radio" name="company-type" ng-model="detail.companyType" value="个体工商户"> 个体工商户</label></div><div class="col-sm-4 col-xs-6"><label><input type="radio" name="company-type" ng-model="detail.companyType" value="社会团体"> 社会团体</label></div><div class="col-sm-4 col-xs-6"><label><input type="radio" name="company-type" ng-model="detail.companyType" value="党政及国家机关"> 党政及国家机关</label></div></div></div><div class="form-group"><div class="col-sm-3 col-sm-offset-3 text-center"><img src="assets/images/avatar.jpg" width="150px"> <label>普通营业执照</label></div><div class="col-sm-3 col-sm-offset-1 text-center"><img src="assets/images/avatar.jpg" width="150px"> <label>多证合一营业执照</label></div></div><h4>企业信息</h4><hr style="margin-top:10px;"><div class="form-group"><label for="" class="col-sm-2 control-label">证件类型</label><div class="col-sm-10"><div class="radio"><label><input type="radio" name="license-type" ng-model="detail.licenseType" value="普通营业执照"> 普通营业执照（存在独立的组织机构代码证）</label></div><div class="radio"><label><input type="radio" name="license-type" ng-model="detail.licenseType" value="多证合一营业执照"> 多证合一营业执照（不存在独立的组织机构代码证）</label></div></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">企业名称</label><div class="col-sm-10"><input class="form-control" ng-model="detail.companyName" placeholder="企业全称，与营业执照上一致"></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">注册号</label><div class="col-sm-10"><input class="form-control" ng-model="detail.licenseCode" placeholder="如：111112222233333"></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">单位所在地</label><div class="col-sm-5"><select class="form-control" ng-model="detail.companyLocationProvince"><option>请选择</option><option>上海</option><option>江苏</option></select></div><div class="col-sm-5"><select class="form-control" ng-model="detail.companyLocationDistrict"><option>请选择</option><option>黄浦区</option><option>嘉定区</option></select></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">住所</label><div class="col-sm-10"><input class="form-control" ng-model="detail.accomodation" placeholder=""></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">经营范围</label><div class="col-sm-10"><input class="form-control" ng-model="detail.businessScope" placeholder=""></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">营业期限</label><div class="col-sm-3"><input class="form-control" type="date" ng-model="detail.businessPeriod"></div><div class="col-sm-7"><div class="checkbox"><label><input type="checkbox" ng-model="detail.periodIsLong">长期</label></div></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">组织机构代码</label><div class="col-sm-10"><input class="form-control" ng-model="detail.organizationCode" placeholder="如：00001111-1"></div></div><br><h4>法定代表人信息</h4><hr style="margin-top:10px;"><div class="form-group"><label for="" class="col-sm-2 control-label">法定代表人归属地</label><div class="col-sm-10"><select class="form-control" ng-model="detail.legalPersonLocation"><option value="中国大陆">中国大陆</option><option value="香港">香港</option><option value="澳门">澳门</option><option value="台湾">台湾</option><option value="海外">海外</option></select></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">法定代表人姓名</label><div class="col-sm-10"><input class="form-control" ng-model="detail.legalPersonName" placeholder=""></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">身份证号</label><div class="col-sm-10"><input class="form-control" ng-model="detail.legalPersonId" placeholder=""></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">证件有效期</label><div class="col-sm-3"><input class="form-control" type="date" ng-model="detail.legalPersonValidDate"></div><div class="col-sm-7"><div class="checkbox"><label><input type="checkbox" ng-model="detail.legalPersonIdIsLong">长期</label></div></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">填写人身份</label><div class="col-sm-10"><div class="col-xs-6 radio"><label><input type="radio" name="fill-person" ng-model="detail.legalPersonIflegalperson" value="true">我是法定代表人</label></div><div class="col-xs-6 radio"><label><input type="radio" name="fill-person" ng-model="detail.legalPersonIflegalperson" value="false">我是代理人</label></div></div></div><br><h4>联系方式</h4><hr style="margin-top:10px;"><div class="form-group"><label for="" class="col-sm-2 control-label">联系人邮箱</label><div class="col-sm-10"><input class="form-control" ng-model="detail.contactEmail" placeholder="验证结果将通过邮件发送至该邮箱"></div></div><h4>上传营业执照</h4><hr style="margin-top:10px;"><hr style="margin-top:10px;"><div class="text-center"><button class="btn btn-primary" ng-disabled="!canSubmit" ng-click="submit()">提交申请</button></div></form></div></div>'),e.put("app/account-refund/account-refund.html",'<div class="container"><div class="container jx-container"><div class="row"><div class="col-md-offset-2 col-md-8"><h2 class="text-center">账户退款</h2><p class="text-center">您可以将已充值的金额提现</p><hr><div class="row"><div class="panel panel-success"><div class="panel-heading"><h3 class="panel-title text-center">退款</h3></div><div class="panel-body"><div class="col-sm-7 recharge-part"><form class="form-horizontal"><div class="form-group"><label for="" class="col-sm-3 control-label">退款金额</label><div class="col-sm-8"><input type="number" class="form-control" placeholder="请输入整数，单位为元" ng-model="amount"></div></div><div class="form-group"><label class="col-sm-3 control-label" for="">退款账户</label><div class="col-sm-8"><input type="text" class="form-control" placeholder="请输入支付宝账户" ng-model="account"> <span class="text-red" ng-show="thereIsError">{{errMessage}}</span></div></div><div><button type="submit" class="btn btn-success center-block btn-fluid" ng-click="refund(amount, account)">申请退款</button></div></form></div><div class="col-sm-5"><div class="ht-user-info row"><div class="col-sm-6"><img src="assets/images/avatar.jpg" alt="头像图片" class="img-responsive img-rounded"></div><div class="col-sm-6"><h3 for="">{{name}}<br><small>{{email}}</small></h3><button class="btn btn-primary" id="balance-btn" ng-click="getBalance()">查看账户余额</button><p id="balance-label" hidden=""><b>余额：</b>{{balance}}</p></div></div></div></div></div></div><div class="row"><h3 class="ht-charge-title">退款记录</h3><p class="text-center">查看您的历史退款记录</p><hr style="margin-top: 15px;"></div><div class="row"><div class="panel panel-default"><div class="panel-body"><table class="table table-hover" st-table="rowCollection"><thead><tr><th>退款金额（元）</th><th>退款账户</th><th>退款时间</th><th>退款状态</th></tr></thead><tbody><tr ng-repeat="row in rowCollection"><td>{{ row.amount }}</td><td>{{ row.account }}</td><td>{{ row.time }}</td><td>{{ row.state }}</td></tr></tbody></table></div></div></div></div></div></div></div>'),e.put("app/advert-detail/advert-detail.html",'<div class="container"><div><h1 class="text-center" ng-bind="advertisement.title">广告标题</h1><h4 class="text-center">广告类别:{{advertisement.catalog}}</h4><hr></div><div class="col-md-offset-2 col-sm-8 col-sm-offset-1 col-sm-10"><table class="table table-hover table-striped table-bordered"><tbody><tr><th>广告内容</th><td ng-bind="advertisement.content"></td></tr><tr><th>广告地点</th><td ng-bind="locations"></td></tr><tr><th>广告发布时段</th><td>24小时</td></tr><tr><th>广告播放开始日期</th><td ng-bind="advertisement.startDate"></td></tr><tr><th>广告播放结束日期</th><td ng-bind="advertisement.endDate"></td></tr><tr><th>广告单条费用</th><td>{{ advertisement.price }}&nbsp;MAD币</td></tr><tr><th>广告状态</th><td ng-bind="advertisement.state"></td></tr></tbody></table></div></div><div class="text-center"><button class="btn btn-primary text-right" ui-sref="app.advert.edit({advertId: advertId})" ng-disabled="advertisement.status === \'100\'">修改信息</button></div>'),e.put("app/advert-edit/advert-edit.html",'<div class="container jx-container"><div class="row"><div class="col-sm-offset-2 col-sm-8"><h2 class="text-center" ng-bind="pageTitle"></h2><p class="text-center" ng-bind="pageDetail"></p><hr><form class="form-horizontal panel-body" role="form" name="form" novalidate="novalidate"><div class="form-group"><fieldset class="col-sm-3 text-left">广告编号：</fieldset><div class="col-sm-9"><input type="text" class="form-control" placeholder="(不可修改)" readonly="true" ng-model="advertId"></div></div><div class="form-group"><fieldset class="col-sm-3 text-left">广告标题：</fieldset><div class="col-sm-9"><input type="text" class="form-control" placeholder="广告标题(不超过20字)" name="title" ng-maxlength="20" ng-model="advertisement.title" required=""></div></div><div class="form-group"><fieldset class="col-sm-3 text-left">广告内容：</fieldset><div class="col-sm-9"><textarea class="form-control" placeholder="广告内容(不超过200字)" rows="3" name="content" ng-maxlength="200" ng-model="advertisement.content" ng-change="changeContent(advertisement.content)" required=""></textarea></div></div><div class="form-group"><fieldset class="col-sm-3 text-left">广告类别：</fieldset><div class="col-sm-4"><select class="form-control" name="adType" ng-model="advertisement.catalog" ng-options="m.id as m.type for m in advertTypes" ng-disabled="advertId !== null"></select></div><div class="col-sm-4" ng-hide="advertId === null"><label style="font-size: 13px">注意：广告类别不可修改</label></div></div><div class="form-group"><fieldset class="col-sm-3 text-left">面向城市：</fieldset><div class="col-sm-4"><select class="form-control" name="adCity" ng-model="advertisement.city" ng-options="c.id as c.city for c in advertCities"></select></div></div><div class="form-group"><fieldset class="col-sm-3 text-left">投放地点：</fieldset><div class="col-sm-9"><div class="row"><div class="col-sm-3 col-xs-4 checkbox" ng-repeat="district in districts"><label><input type="checkbox" ng-change="changeDistrict()" ng-model="district.selected">{{district.name}}</label></div></div></div></div><div class="form-group"><fieldset class="col-sm-3 text-left">开始播放日期：</fieldset><div class="col-sm-9"><input class="form-control" type="date" ng-model="advertisement.startDate" required=""></div></div><div class="form-group"><fieldset class="col-sm-3 text-left">结束播放日期：</fieldset><div class="col-sm-9"><input class="form-control" type="date" ng-model="advertisement.endDate" required=""></div></div><div class="form-group"><fieldset class="col-sm-3 text-left">单条广告价格：</fieldset><div class="col-sm-9"><label>{{ advertisement.price }} MAD币</label></div></div><div class="row button-group"><div class="col-xs-4"><button type="button" class="btn btn-danger btn-fluit" ui-sref="app.advert">取消</button></div><div class="col-xs-4"><button type="button" class="btn btn-success btn-fluit" ng-click="submitApply()" ng-disabled="advertId === null">提交审核</button></div><div class="col-xs-4"><button type="button" class="btn btn-default btn-fluit" ng-click="saveDraft()">暂存草稿</button></div></div></form></div></div></div><div class="modal fade bs-example-modal-sm" id="successModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel2">{{resultTitle}}</h4></div><div class="modal-body">{{resultDetail}}</div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">关闭</button></div></div></div></div>'),e.put("app/advertisment/advertisment.html",'<div class="container jx-container"><div class="row"><div class="col-md-offset-1 col-md-10"><h1 class="text-center">已发布广告</h1><p class="text-center">您的已发布广告列表</p><hr></div><div class="col-md-offset-1 col-md-10 panel panel-default"><div class="panel-body"><table st-table="advertCollection" st-safe-src="advertList" class="table table-striped"><thead><tr><th>广告编号</th><th>广告标题</th><th>广告状态</th><th>创建时间</th><th>查看广告详情</th><th>修改广告</th></tr></thead><tbody><tr ng-repeat="row in advertCollection"><td>{{row.number }}</td><td>{{row.title}}</td><td class="{{row.stateClass}}">{{row.state}}</td><td>{{row.createTime}}</td><td><button ui-sref="app.advert.detail({advertId: row.id})" class="btn btn-success btn-sm">查看详情</button></td><td><button class="btn btn-danger btn-sm" ng-show="row.isDisableOff" ng-click="removeAdvertisementById(row.id)">下架</button> <button class="btn btn-primary btn-sm" ng-show="row.canSubmit" ng-click="submitAdvertisementById(row.id)">提交审核</button></td></tr></tbody></table></div></div></div></div>'),e.put("app/advertisment/pagination.custom.html",'<div class="row"><div class="col-xs-12 col-md-6"><div class="table-summary">共<span class="red">{{totalItemCount}}</span>条数据， 每页<span class="red">{{stItemsByPage}}</span>条， 共<span class="red">{{numPages}}</span>页</div></div><div class="col-xs-12 col-md-6"><nav class="pull-right" ng-if="numPages &amp;&amp; pages.length >= 2"><ul class="pagination"><li><a ng-click="selectPage(1)">首页</a></li><li><a ng-click="selectPage(currentPage - 1)">&lt;</a></li><li ng-repeat="page in pages" ng-class="{active: page==currentPage}"><a ng-click="selectPage(page)">{{page}}</a></li><li><a ng-click="selectPage(currentPage + 1)">&gt;</a></li><li><a ng-click="selectPage(numPages)">尾页</a></li></ul></nav></div></div>'),e.put("app/blank/blank.html",""),e.put("app/main/main.html",'<div id="carousel" class="carousel slide body" data-ride="carousel"><ol class="carousel-indicators"><li data-target="#carousel" data-slide-to="0" class="active"></li><li data-target="#carousel" data-slide-to="1"></li><li data-target="#carousel" data-slide-to="2"></li></ol><div class="carousel-inner" role="listbox"><div class="item active"><img src="assets/images/carousel-1.png"><div class="container"><div class="carousel-caption"><h1>您是车主</h1><p>我们为您提供了一种新的方式来赚钱，<br>仅仅依靠您的汽车播放一些广告，您就可以轻松愉快地收获利润。</p><p><button class="btn btn-success">下载app</button></p></div></div></div><div class="item"><img src="assets/images/carousel-2.png"><div class="container"><div class="carousel-caption"><h1>您是广告商</h1><p>我们希望通过汽车这类频繁移动的工具为您播放广告，您可以自由选择时间与地点，借助汽车作为媒介来收获利润。</p><p><button class="btn btn-success">立即注册</button></p></div></div></div><div class="item"><img src="assets/images/carousel-3.png"><div class="container"><div class="carousel-caption"><h1>若您希望合作</h1><p>请发邮件至mad_info@163.com商讨合作事宜。</p></div></div></div></div><a class="left carousel-control" href="#carousel" role="button" data-slide="prev"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span></a> <a class="right carousel-control" href="#carousel" role="button" data-slide="next"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span></a></div><div class="container"><h2 class="text-center">用心投放每一单广告</h2><p class="text-center">我们希望为您的每一单广告投放做担保，为更好地广告效益做努力</p><hr><div class="row"><div class="col-md-4 col-md-offset-2 col-sm-6 text-center"><div class="panel panel-default"><div class="panel-body"><div class="xmd-img-center"><img src="assets/images/ico_01.png" class="img-responsive" width="100"></div><h4>实名认证</h4><p>100%认证车主驾照、广告商营业执照</p></div></div></div><div class="col-md-4 col-sm-6 text-center"><div class="panel panel-default"><div class="panel-body"><div class="xmd-img-center"><img src="assets/images/ico_02.png" class="img-responsive" width="100"></div><h4>收益保险</h4><p>车主与广告商信息安全，收益稳定</p></div></div></div></div><div class="row"><div class="col-md-4 col-md-offset-2 col-sm-6 text-center"><div class="panel panel-default"><div class="panel-body"><div class="xmd-img-center"><img src="assets/images/ico_03.png" class="img-responsive" width="100"></div><h4>线上支付</h4><p>无缝对接支付宝等在线支付平台</p></div></div></div><div class="col-md-4 col-sm-6 text-center"><div class="panel panel-default"><div class="panel-body"><div class="xmd-img-center"><img src="assets/images/ico_04.jpg" class="img-responsive" width="100"></div><h4>提现便捷</h4><p>支持支付宝等提现方式</p></div></div></div></div><h2 class="text-center">联系我们</h2><p class="text-center">若您有任何疑问，欢迎通过邮件来联系我们</p><hr><div class="col-md-6 col-md-offset-3 col-sm-offset-2 col-sm-8"><form><div class="form-group"><label>邮件主题</label> <input type="text" class="form-control" placeholder="请输入邮件主题..."></div><div class="form-group"><label>邮件内容</label> <textarea type="text" class="form-control" id="exampleInputPassword1" placeholder="请输入邮件内容..."></textarea></div><button type="submit" class="btn btn-info" style="width:100%;">Submit</button></form></div></div>'),e.put("app/notification/notification.html",'<div class="container"><div class="col-md-offset-1 col-md-10"><h1>消息列表</h1><hr><div class="panel panel-default" ng-repeat="ntf in notificationContents"><div class="panel-body"><div class="row"><div class="col-md-1 col-xm-2 col-xs-3"><img alt="..." src="assets/images/avatar.jpg" class="img-responsive img-circle"></div><div class="col-md-11 col-sm-10 col-xs-9"><div class="row"><div class="col-xs-6"><h4 class="media-heading text-left">系统消息</h4></div><div class="col-xs-6"><p class="text-right">{{ntf.date}}</p></div></div><p>{{ntf.content}}</p></div></div></div></div></div></div>'),e.put("app/statistics/statistics.html",'<div class="container"><h1 class="text-center">财务对账</h1><p class="text-center">在这里核对您的支出信息</p><hr><div class="row row-margin"><div class="col-xs-6 col-xs-3 col-xs-offset-3 col-md-2 col-md-offset-4"><p class="lsr-p-position">总支出: {{totalPay}} 元</p></div><div class="col-xs-6 col-md-3 col-md-2"><p class="lsr-p-position">总充值金额: {{totalTopUp}} 元</p></div></div><div class="panel panel-default"><div class="panel-body"><table st-table="advertCollection" st-safe-src="advertList" class="table table-hover"><thead><tr><th>广告编号</th><th>广告标题</th><th>发布时间</th><th>次数统计</th><th>总花费(元)</th><th>广告详情</th></tr></thead><tbody><tr ng-repeat="advert in advertCollection"><td>{{ advert.id }}</td><td>{{ advert.title }}</td><td>{{ advert.startDate }}</td><td>{{ advert.broadcastSum }}</td><td>{{ advert.priceSum }}</td><td><button class="btn btn-sm btn-success" ui-sref="app.statistics.detail({advertId: advert.id})">查看详情</button></td></tr></tbody></table></div></div></div>'),e.put("app/statistics-advertis/statistics-advertis.html",'<div class="container jx-container"><div class="row"><div class="col-md-offset-1 col-md-10"><h1 class="text-center">广告统计</h1><p class="text-center">查看广告的支出统计和投放统计</p><hr></div><div class="col-md-offset-1 col-md-10"><div id="chart1"><h4 class="text-center">广告商2015、2016年支出统计</h4><div id="chartdiv" style="width: 100%; height: 500px;"></div></div><div id="chart2"><h4 class="text-center">广告商2015、2016年季广告投放情况</h4><div id="advertisment-chart" style="width: 100%; height: 500px;"></div></div></div></div></div>'),e.put("app/statistics-detail/statistics-detail.html",'<div class="container"><div class="row"><div class="col-md-offset-1 col-md-10"><h1 class="text-center">广告统计</h1><p class="text-center">查看本条广告的支出统计</p><hr></div><div class="col-md-offset-1 col-md-10"><div><h4 class="text-center">广告商2015、2016年单条广告支出统计</h4><div id="chartdiv" style="width: 100%; height: 500px;"></div></div></div></div></div>'),e.put("app/components/footer-advert/footer-advert.html",'<hr><footer class="home-footer"><div class="home-footer-text"><p>地址：上海市嘉定区曹安公路4800号</p><p>&copy; 2016-2017 &middot; <a href="http://andyht.github.io/MAD_AdvertiserWeb/#/">移动的广告MAD</a> &middot; All rights reserved.</p></div></footer>'),e.put("app/components/navbar-advert/navbar-advert.html",'<nav class="navbar navbar-inverse"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" ui-sref="app"></a></div><div class="navbar-collapse collapse nav-margin-left" id="navbar"><ul class="nav navbar-nav" ng-if="isLogin"><li class="" ng-class="{\'active\': isMain}"><a ui-sref="app" ui-sref-opts="{reload: true}">首页</a></li><li class="dropdown" ng-class="{\'active\': isManage}"><a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">广告管理<b class="caret"></b></a><ul class="dropdown-menu"><li ng-class="{\'active\': isPush}"><a ui-sref="app.advert.edit({advertId: null})" ui-sref-opts="{reload: true}">发布新广告</a></li><li ng-class="{\'active\': isList}"><a ui-sref="app.advert" ui-sref-opts="{reload: true}">已发布广告</a></li></ul></li><li class="dropdown" ng-class="{\'active\': isPay}"><a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">账户管理<b class="caret"></b></a><ul class="dropdown-menu"><li ng-class="{\'active\': isPut}"><a ui-sref="app.account.recharge" ui-sref-opts="{reload: true}">账户充值</a></li><li ng-class="{\'active\': isBack}"><a ui-sref="app.account.refund" ui-sref-opts="{reload: true}">账户退款</a></li><li ng-class="{\'active\': isConfirm}"><a ui-sref="app.account.check" ui-sref-opts="{reload: true}">账户验证</a></li></ul></li><li class="dropdown" ng-class="{active: isStatistics}"><a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">统计<b class="caret"></b></a><ul class="dropdown-menu"><li ng-class="{active: isAccSta}"><a ui-sref="app.statistics" ui-sref-opts="{reload: true}">账务对账</a></li><li></li><li ng-class="{active: isAdSta}"><a ui-sref="app.statistics.advertis" ui-sref-opts="{reload: true}">广告统计</a></li></ul></li></ul><div class="navbar-header navbar-right nav-margin-right"><ul class="nav navbar-nav" ng-if="!isLogin"><button type="button" class="btn btn-signup navbar-btn" data-toggle="modal" data-target="#signup">注册</button> <button type="button" class="btn btn-signin navbar-btn" data-toggle="modal" data-target="#login">登录</button></ul><ul class="nav navbar-nav" ng-if="isLogin"><li class="navbar-link" ng-class="{active: isAccount}"><a ui-sref="app.account" ui-sref-opts="{reload: true}" ng-bind="name"></a></li><li ng-class="{active: isMsg}"><a ui-sref="app.notification" class="navbar-link" ui-sref-opts="{reload: true}">消息管理</a></li><li><a ng-click="logout()"><span class="glyphicon glyphicon-log-out" aria-hidden="true"></span></a></li></ul></div></div></nav><div id="signup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="signModalLabel"><div class="modal-dialog modal-lg"><div class="modal-content xmd-modal-content"><div class="xmd-content"><div class="row"><div class="col-md-offset-1 col-md-4 col-sm-5 col-xs-offset-1 col-xs-10 xmd-left-content"><img src="assets/images/favicon.ico" class="img-responsive"> <img src="assets/images/mad.png" class="img-responsive"></div><div class="col-md-offset-1 col-md-6 col-sm-6 col-xs-12 xmd-right-content"><div class="ht-input-box"><form role="form" class="xmd-form"><div class="form-group"><div class="input-group ht-input"><span class="input-group-addon"><img src="assets/images/nickname.png"></span> <input type="text" class="form-control" placeholder="昵称" aria-describedby="basic-addon2" ng-model="nickname"></div></div><div class="form-group"><div class="input-group ht-input"><span class="input-group-addon"><img src="assets/images/email.png"></span> <input type="text" class="form-control" placeholder="邮箱" aria-describedby="basic-addon2" ng-model="email"></div></div><div class="form-group"><div class="input-group ht-input"><span class="input-group-addon"><img src="assets/images/password.png"></span> <input type="password" class="form-control" placeholder="密码" aria-describedby="basic-addon2" ng-model="password"></div></div><div class="form-group"><div class="input-group ht-input"><span class="input-group-addon"><img src="assets/images/confirm.png"></span> <input type="password" class="form-control" placeholder="确认密码" aria-describedby="basic-addon2" ng-model="passConfirm"></div></div><span class="help-block" ng-show="thereIsError">{{ errMessage }}</span><div class="form-group"><button class="btn btn-warning btn-lg xmd-btn-register" ng-click="register(nickname, email, password, passConfirm)">注册</button></div></form></div></div></div></div></div></div></div><div id="login" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel"><div class="modal-dialog modal-lg"><div class="modal-content xmd-modal-content"><div class="xmd-content"><div class="row"><div class="col-md-offset-1 col-md-4 col-sm-5 col-xs-offset-1 col-xs-10 xmd-left-content"><img src="assets/images/favicon.ico" class="img-responsive"> <img src="assets/images/mad.png" class="img-responsive"></div><div class="col-md-offset-1 col-md-6 col-sm-6 col-xs-12 xmd-right-content"><div class="ht-input-box"><form role="form" class="xmd-form"><div class="form-group"><div class="input-group ht-input"><span class="input-group-addon"><img src="assets/images/email.png"></span> <input type="text" class="form-control" placeholder="邮箱" aria-describedby="basic-addon2" ng-model="email"></div></div><div class="form-group"><div class="input-group ht-input"><span class="input-group-addon"><img src="assets/images/confirm.png"></span> <input type="password" class="form-control" placeholder="密码" aria-describedby="basic-addon2" ng-model="password"></div><span class="help-block" ng-show="thereIsError">{{ errMessage }}</span></div><div class="form-group"><button class="btn btn-warning btn-lg xmd-btn-register" ng-click="login(email, password)">登录</button></div></form></div></div></div></div></div></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-b0706c5ce6.js.map
