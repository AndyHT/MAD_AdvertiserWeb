!function(){"use strict";angular.module("mad",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ngMaterial","toastr","ngFileUpload","angularQFileUpload"])}(),function(){"use strict";function e(){function e(e,t){e.isManage=!1,e.isPush=!1,e.isList=!1,e.isPay=!1,e.isPut=!1,e.isBack=!1,e.isStatistics=!1,e.isAccount=!1,e.isAdSta=!1;var a=t.path();console.log("path:"+a),"/advert/push"==a&&(e.isManage=!0,e.isPush=!0),"/advert"==a&&(e.isManage=!0,e.isList=!0),"/account/reacharge"==a&&(e.isPay=!0,e.isPut=!0),"/account/refund"==a&&(e.isPay=!0,e.isBack=!0),"/account/check"==a&&(e.isStatistics=!0,e.isAccount=!0),"/statistics"==a&&(e.isStatistics=!0,e.isAdSta=!0)}e.$inject=["$scope","$location"];var t={restrict:"E",templateUrl:"app/components/navbar-advert/navbar-advert.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("mad").directive("acmeNavbarAd",e)}(),function(){"use strict";function e(e,t,a,s,o,l,i){t.isMain=!1,t.isManage=!1,t.isPush=!1,t.isList=!1,t.isPay=!1,t.isPut=!1,t.isBack=!1,t.isConfirm=!1,t.isStatistics=!1,t.isAccSta=!1,t.isAdSta=!1,t.isMsg=!1,t.isAccount=!1,"/advert/push"==a.path()&&(t.isManage=!0,t.isPush=!0),"/advert"==a.path()&&(t.isManage=!0,t.isList=!0),"/account/recharge"==a.path()&&(t.isPay=!0,t.isPut=!0),"/account/refund"==a.path()&&(t.isPay=!0,t.isBack=!0),"/account/check"==a.path()&&(t.isPay=!0,t.isConfirm=!0),"/statistics"==a.path()&&(t.isStatistics=!0,t.isAccSta=!0),"/statistics/detail"==a.path()&&(t.isStatistics=!0,t.isAdSta=!0),"/account"==a.path()&&(t.isAccount=!0),"/notification"==a.path()&&(t.isMsg=!0),$("#signup").on("hide.bs.modal",function(e){t.thereIsError=!1,t.errMessage="",console.log("hide signup")}),$("#login").on("hide.bs.modal",function(e){t.thereIsError=!1,t.errMessage="",console.log("hide login")}),l.getToken()?(e.logined=!0,t.name=l.getName()):e.logined=!1,t.isLogin=e.logined,t.thereIsError=!1,t.register=function(e,a,s,l){if(!(e&&a&&s&&l))return t.thereIsError=!0,void(t.errMessage="请输入完整信息");if(s.length<8)return t.thereIsError=!0,void(t.errMessage="密码至少要8位");if(s!==l)return t.thereIsError=!0,void(t.errMessage="两次输入密码不一致");if(-1===a.search(/^\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/))return t.thereIsError=!0,void(t.errMessage="请输入合法邮箱");t.thereIsError=!1;var n=sha256(s);o.register().save({username:e,email:a,password:n}).$promise.then(function(e){console.log(e),0===e.errCode&&(console.log("注册成功"),i.success("恭喜您注册成功，请您验证邮箱后登录"),$("#signup").modal("hide"))},function(e){console.log("注册失败"),console.log(e),t.thereIsError=!0,t.errMessage="未知错误"+e})},t.login=function(a,s){if(t.thereIsError=!1,!a||!s)return t.thereIsError=!0,void(t.errMessage="请输入用户名和密码");if(-1===a.search(/^\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/))return t.thereIsError=!0,void(t.errMessage="请输入合法邮箱");var i=sha256(s);o.login().save({email:a,password:i}).$promise.then(function(a){console.log(a.errCode),0===a.errCode&&(console.log("登录成功"),l.setToken(a.token),l.setName(a.name),$("#login").modal("hide"),t.isLogin=!0,t.name=a.name,e.logined=!0)},function(e){console.log("登录失败"),console.log(e)})},t.logout=function(){l.setToken(""),t.isLogin=!1,e.logined=!1,s.go("app",{reload:!0})}}e.$inject=["$rootScope","$scope","$location","$state","AdvertiserSrv","TokenSrv","NoticeSrv"],angular.module("mad").controller("HeaderCtrl",e)}(),function(){"use strict";function e(){}angular.module("mad").controller("FooterCtrl",e)}(),function(){"use strict";function e(e,t,a){e.advertId=t.advertId,a.getAdvertDetail().get({id:e.advertId}).$promise.then(function(e){if(0===e.errCode){console.log("statistics data:"),console.log(e.statistics),e.statistics.forEach(function(e){e.date=moment(e.date).toDate()});e.statistics,AmCharts.makeChart("chartdiv",{type:"serial",theme:"light",marginRight:80,dataProvider:e.statistics,valueAxes:[{position:"left",title:"广告投放"}],graphs:[{id:"g1",fillAlphas:.4,valueField:"totalBroadcast",balloonText:"<div style='margin:5px; font-size:19px;'>投放:<b>[[value]]</b></div>"}],chartScrollbar:{graph:"g1",scrollbarHeight:80,backgroundAlpha:0,selectedBackgroundAlpha:.1,selectedBackgroundColor:"#888888",graphFillAlpha:0,graphLineAlpha:.5,selectedGraphFillAlpha:0,selectedGraphLineAlpha:1,autoGridCount:!0,color:"#AAAAAA"},chartCursor:{categoryBalloonDateFormat:"DD MMMM",cursorPosition:"mouse"},categoryField:"date",categoryAxis:{minPeriod:"mm",parseDates:!0},"export":{enabled:!0}})}},function(e){console.log(e)})}e.$inject=["$scope","$stateParams","StatisticsSrv"],angular.module("mad").controller("SatisticsDetailCtrl",e)}(),function(){"use strict";function e(e,t){function a(e,t){var a;for(a=0;a<e.length;a+=1)if(e[a].date.getTime()===t.getTime())return a}function s(e){var t,s,o,l=[],i=0,n=0;for(i=0;3>i;i+=1)for(s=e[i].data,n=0;n<s.length;n+=1)t=a(l,s[n].date),void 0===t?(o={date:s[n].date,advert1:0,advert2:0,advert3:0},0===i?o.advert1=s[n].num:1===i?o.advert2=s[n].num:2===i&&(o.advert3=s[n].num),l.push(o)):0===i?l[t].advert1=s[n].num:1===i?l[t].advert2=s[n].num:2===i&&(l[t].advert3=s[n].num);return l.sort(function(e,t){return e.date.getTime()-t.date.getTime()}),l}t.getStatisticsData().get().$promise.then(function(e){if(0===e.errCode){var t,a=[],o=[],l=0,i=0;for(l=0;l<e.advertisement.length;l+=1)for(t=e.advertisement[l],a[l]={id:t.id,data:[],sum:0},o[l]={id:t.id,data:[],sum:0},i=0;i<t.statistics.length;i+=1)a[l].sum+=t.statistics[i].totalBroadcast,a[l].data.push({date:moment(t.statistics[i].date).toDate(),num:t.statistics[i].totalBroadcast}),o[l].sum+=t.statistics[i].totalPrice,o[l].data.push({date:moment(t.statistics[i].date).toDate(),num:t.statistics[i].totalPrice});a.sort(function(e,t){return t.sum-e.sum}),o.sort(function(e,t){return t.sum-e.sum});var n=[],r=[];if(a.length>2){var n=s(a);console.log("chart1Data"),console.log(n);AmCharts.makeChart("chartdiv",{type:"serial",theme:"light",marginRight:40,marginLeft:40,autoMarginOffset:20,mouseWheelZoomEnabled:!0,dataDateFormat:"YYYY-MM-DD",valueAxes:[{id:"v1",axisAlpha:0,position:"left",ignoreAxisWidth:!0}],balloon:{borderThickness:1,shadowAlpha:0},graphs:[{id:"g1",balloon:{drop:!0,adjustBorderColor:!1,color:"#ffffff"},bullet:"round",bulletBorderAlpha:1,bulletColor:"#FFFFFF",bulletSize:5,hideBulletsCount:50,lineThickness:2,title:a[0].id,useLineColorForBulletBorder:!0,valueField:"advert1",balloonText:"<span style='font-size:18px;'>[[value]]</span>"},{id:"g2",balloon:{drop:!0,adjustBorderColor:!1,color:"#ffffff"},bullet:"round",bulletBorderAlpha:1,bulletColor:"#FFFFFF",bulletSize:5,hideBulletsCount:50,lineThickness:2,title:"advertisment2",useLineColorForBulletBorder:!0,valueField:"advert2",balloonText:"<span style='font-size:18px;'>[[value]]</span>"},{id:"g3",balloon:{drop:!0,adjustBorderColor:!1,color:"#ffffff"},bullet:"round",bulletBorderAlpha:1,bulletColor:"#FFFFFF",bulletSize:5,hideBulletsCount:50,lineThickness:2,title:"advertisment3",useLineColorForBulletBorder:!0,valueField:"advert3",balloonText:"<span style='font-size:18px;'>[[value]]</span>"}],chartScrollbar:{graph:"g1",oppositeAxis:!1,offset:30,scrollbarHeight:80,backgroundAlpha:0,selectedBackgroundAlpha:.1,selectedBackgroundColor:"#888888",graphFillAlpha:0,graphLineAlpha:.5,selectedGraphFillAlpha:0,selectedGraphLineAlpha:1,autoGridCount:!0,color:"#AAAAAA"},chartCursor:{pan:!0,valueLineEnabled:!0,valueLineBalloonEnabled:!0,cursorAlpha:1,cursorColor:"#258cbb",limitToGraph:"g1",valueLineAlpha:.2},valueScrollbar:{oppositeAxis:!1,offset:50,scrollbarHeight:10},categoryField:"date",categoryAxis:{parseDates:!0,dashLength:1,minorGridEnabled:!0},"export":{enabled:!0},dataProvider:n})}if(o.length>2){var r=s(o);AmCharts.makeChart("advertisment-chart",{type:"serial",theme:"light",legend:{useGraphSettings:!0},dataProvider:r,valueAxes:[{id:"v1",axisColor:"#FF6600",axisThickness:2,gridAlpha:0,axisAlpha:1,position:"left"},{id:"v2",axisColor:"#FCD202",axisThickness:2,gridAlpha:0,axisAlpha:1,position:"right"},{id:"v3",axisColor:"#B0DE09",axisThickness:2,gridAlpha:0,offset:50,axisAlpha:1,position:"left"}],graphs:[{valueAxis:"v1",lineColor:"#FF6600",bullet:"round",bulletBorderThickness:1,hideBulletsCount:30,title:o[0].id,valueField:"advert1",fillAlphas:0},{valueAxis:"v2",lineColor:"#FCD202",bullet:"square",bulletBorderThickness:1,hideBulletsCount:30,title:o[1].id,valueField:"advert2",fillAlphas:0},{valueAxis:"v3",lineColor:"#B0DE09",bullet:"triangleUp",bulletBorderThickness:1,hideBulletsCount:30,title:o[2].id,valueField:"advert3",fillAlphas:0}],chartScrollbar:{},chartCursor:{cursorPosition:"mouse"},categoryField:"date",categoryAxis:{parseDates:!0,axisColor:"#DADADA",minorGridEnabled:!0},"export":{enabled:!0,position:"bottom-right"}})}}})["catch"](function(e){console.log(e)})}e.$inject=["$scope","StatisticsSrv"],angular.module("mad").controller("SatisticsAdvertMapCtrl",e)}(),function(){"use strict";function e(e,t){e.advertCollection=[],t.getAdvertisementStatistics().get().$promise.then(function(t){0===t.errCode&&(console.log(t.advertisement),e.advertCollection=t.advertisement)},function(e){console.log(e)})}e.$inject=["$scope","StatisticsSrv"],angular.module("mad").controller("AdvertSatisticsCtrl",e)}(),function(){"use strict";function e(e){return{token:"",name:"",setToken:function(t){this.token=t,e.put("token",t)},getToken:function(){return this.token||(this.token=e.get("token")),this.token},setName:function(t){this.name=t,e.put("name",t)},getName:function(){return this.name||(this.name=e.get("name")),this.name}}}e.$inject=["$cookies"],angular.module("mad").factory("TokenSrv",e)}(),function(){"use strict";function e(e,t){this.getAdvertisementStatistics=function(){return e(t+"/statistics/all")},this.getAdvertDetail=function(){return e(t+"/statistics/detail/:id",{id:"id"})},this.getStatisticsData=function(){return e(t+"/statistics/data")}}e.$inject=["$resource","baseURL"],angular.module("mad").service("StatisticsSrv",e)}(),function(){"use strict";function e(e,t,a){var s={};return s.timer=null,s.__alert__=function(s,o,l){var i=['<div class="notice fixed alert alert-dismissible ',s,'">','<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>',"<strong>",o,"</strong>",l,"</div>"].join("");angular.element(document).find(".notice")&&angular.element(document).find(".notice").remove(),this.timer&&t.cancel(this.timer),angular.element(document).find("body").append(e(i)(a)),this.timer=t(function(){angular.element(document).find(".notice").remove()},5e3)},s.success=function(e){this.__alert__("alert-success","成功: ",e)},s.error=function(e){this.__alert__("alert-danger","错误: ",e)},s.notice=function(e){this.__alert__("alert-info","提示: ",e)},s}e.$inject=["$compile","$timeout","$rootScope"],angular.module("mad").factory("NoticeSrv",e)}(),function(){"use strict";function e(e,t,a,s){var o={request:function(o){-1!==arguments[0].url.indexOf(s)&&(("GET"===arguments[0].method||"DELETE"===arguments[0].method||"OPTIONS"===arguments[0].method)&&(arguments[0].params=arguments[0].params||{},arguments[0].params.token=a.getToken()),("POST"===arguments[0].method||"PUT"===arguments[0].method)&&(arguments[0].data=arguments[0].data||{},arguments[0].data.token=a.getToken()));var l=t.get("$state");return e.logined||"\\"===l.current.url||"^"===l.current.url||t.get("$state").go("app",{reload:!0}),a.getToken()||window.location.replace("#/"),o},response:function(e){if(101===e.data.errCode){console.log("errCode:"+e.data.errCode),t.get("NoticeSrv").notice(t.get("ErrorSrv").getError(e.data.errCode+"")),a.setToken("");t.get("$state");t.get("$state").go("app")}return e.data.errCode&&0!==e.data.errCode&&(t.get("NoticeSrv").error(t.get("ErrorSrv").getError(e.data.errCode+"")),console.log("errCode:"+e.data.errCode)),e}};return o}e.$inject=["$rootScope","$injector","TokenSrv","baseURL"],angular.module("mad").factory("myInterceptor",e)}(),function(){"use strict";function e(){var e,t;return e={101:"令牌不存在或已经过期, 请重新登陆",102:"用户名或密码错误",103:"该用户邮箱未验证",104:"该用户邮箱已被注册",105:"该用户手机号已被注册",106:"该用户手机号未验证",107:"邮箱验证码过期或错误，验证失败，需要重新注册",108:"参数不正确",109:"",111:"",112:"",113:"",201:"广告不存在",202:"广告类别错误",203:"广告标题不能为空",204:"投放地点错误",205:"广告起始日期不能大于结束日期",206:"广告状态错误",207:"广告上传失败",208:"广告下架失败",209:"发布广告失败",210:"保存草稿太频繁",211:"",301:"金额必须大于0",302:"验证信息不完整",303:"图片上传失败",304:"退款金额大于余额",305:"旧密码不对",306:"行政区映射修改失败",307:"",308:"",999:"未知错误"},t=function(t){return e[t]},{getError:t}}angular.module("mad").factory("ErrorSrv",e)}(),function(){"use strict";function e(e,t){this.applyState={"01":"申请等待处理","00":"申请被拒绝",11:"申请通过"},this.register=function(){return e(t+"/signup")},this.login=function(){return e(t+"/login")},this.checkInfo=function(){return e(t+"/account/check")},this.formatCheckInfo=function(e){if(e.businessPeriodIsLong)e.businessPeriod="长期";else{var t=moment(e.businessPeriod);e.businessPeriodStr=t.format("YYYY-MM-DD HH:mm:ss")}return e.legalPersonIdIsLong?e.legalPersonValidDateStr="长期":(t=moment(e.legalPersonValidDate),e.legalPersonValidDateStr=t.format("YYYY-MM-DD HH:mm:ss")),e},this.parseCheckInfo=function(e){e.companyLocationProvince=e.location.split(",")[0],e.companyLocationDistrict=e.location.split(",")[1];var t;return e.legalPerson.iflongterm||(t=moment(e.businessPeriod),e.periodDate=t.toDate()),e.periodIsLong||(t=moment(e.legalPerson.validDate),e.legalPerson.idValidDate=t.toDate()),e},this.parseDateFromStr=function(e){var t=moment(e);return t.toDate()},this.formatDate=function(e){var t=moment(e);return t.format("YYYY-MM-DD HH:mm:ss")},this.getAccountDetails=function(){return e(t+"/account/detail")},this.getMessages=function(){return e(t+"/message")},this.recharge=function(){return e(t+"/account/recharge")},this.refund=function(){return e(t+"/account/refund")},this.getRechargeHistory=function(){return e(t+"/account/recharge/all")},this.getRefundHistory=function(){return e(t+"/account/refund/all")},this.changePassword=function(){return e(t+"/account/changePwd")},this.changeAlipay=function(){return e(t+"/account/changeAlipay")},this.getCheckDetail=function(){return e(t+"/account/check/detail")},this.getUpToken=function(){return e(t+"/account/check/uptoken")}}e.$inject=["$resource","baseURL"],angular.module("mad").service("AdvertiserSrv",e)}(),function(){"use strict";function e(e,t){this.advertTypes=[{id:"other",type:"其他"},{id:"accommodation",type:"食宿"},{id:"commodity",type:"商品"},{id:"education",type:"教育"},{id:"entertainment",type:"影视娱乐"},{id:"recruit",type:"招聘"},{id:"service",type:"服务"},{id:"social",type:"社交"},{id:"tenancy",type:"租赁"}],this.types={other:"其他",accommodation:"食宿",commodity:"商品",education:"教育",entertainment:"影视娱乐",recruit:"招聘",service:"服务",social:"社交",tenancy:"租赁"},this.advertCities=[{id:"Shanghai",city:"上海"}],this.getReleaseAdvertisement=function(){return e(t+"/advertisement/list/all")},this.saveDraftAdvertisement=function(){return e(t+"/advertisement/save")},this.getAdvertisementById=function(){return e(t+"/advertisement/:advertId",{advertId:"advertId"})},this.submitAdvertisementById=function(){return e(t+"/advertisement/release")},this.getDistrictsByCity=function(){return e(t+"/advertisement/district/all")},this.removeAdvertisementById=function(){return e(t+"/advertisement/remove")},this.parseAdvertisement=function(e,t){e.number=t;var a="未知";return e.catalog=this.types[e.catalog],"001"===e.status?(a="正常投放",e.isDisableOff=!0,e.stateClass="xmd-passed"):"010"===e.status?(a="草稿",e.canSubmit=!0,e.isDisableModify=!0,e.stateClass="xmd-draft"):"100"===e.status?(a="待审核",e.isDisableCancel=!0,e.stateClass="xmd-notSubmitted",e.canCancel=!0):"000"===e.status?(a="审核未通过",e.isDisableModify=!0,e.stateClass="xmd-notPassed"):"101"===e.status&&(a="广告被下架",addEventListener.isDisableModify=!0,e.stateClass="xmd-removed"),e.state=a,e},this.formatAdvertisement=function(e){e.city="Shanghai";var t=moment(e.startDate).toDate(),a=moment(e.endDate).toDate();return e.startDate=t,e.endDate=a,e},this.parseDate=function(e){var t=moment(e);return t.format("YYYY-MM-DD HH:mm:ss")}}e.$inject=["$resource","baseURL"],angular.module("mad").service("AdvertisementSrv",e)}(),function(){"use strict";function e(e,t){var a;t.getMessages().get().$promise.then(function(s){0===s.errCode&&(a=s.messages,a.forEach(function(e){e.date=t.parseDateFromStr(e.date)}),a.sort(function(e,t){return t.date.getTime()-e.date.getTime()}),a.forEach(function(e){e.date=t.formatDate(e.date)}),e.notificationContents=a)})}e.$inject=["$scope","AdvertiserSrv"],angular.module("mad").controller("NotificationCtrl",e)}(),function(){"use strict";function e(){}angular.module("mad").controller("MainCtrl",e)}(),function(){"use strict";function e(e,t,a,s){var o=0;e.advertList=[],e.itemsByPage=10,e.advertCollection=[],a.getReleaseAdvertisement().get().$promise.then(function(t){if(0===t.errCode){for(o=0;o<t.advertisement.length;o+=1){var s=t.advertisement[o];e.advertList.push(a.parseAdvertisement(s,o))}e.advertCollection=[].concat(e.advertList)}},function(e){console.log("获取广告列表失败"),s.error("获取广告列表失败")}),e.advertCollection=[].concat(e.advertList),e.removeAdvertisementById=function(e){a.removeAdvertisementById().save({id:e}).$promise.then(function(e){console.log(e.errMessage),0===e.errCode&&(s.success("广告下架成功"),t.reload("app.advert"))},function(e){s.notice("未知错误:"+e)})},e.submitAdvertisementById=function(o){return null==o?void s.notice("广告ID有误"):(e.thereIsError=!1,void a.submitAdvertisementById().get({id:o}).$promise.then(function(e){console.log(e),0==e.errCode?(s.success("广告提交审核成功"),t.reload("app.advert")):s.notice("未知错误:"+e.errCode)},function(e){s.notice("未知错误:"+e)}))}}e.$inject=["$scope","$state","AdvertisementSrv","NoticeSrv"],angular.module("mad").controller("AdvertCtrl",e)}(),function(){"use strict";function e(e,t,a,s,o){function l(e){var t,a=0,s=e.split(" ");return s.forEach(function(e){-1!==e.search(/[\u4e00-\u9fa5]/g)?(t=e.split(""),a+=t.length):a+=1}),a}function i(e){var t=0;return e.forEach(function(e){e.selected&&(t+=1)}),t}function n(e,t){var a=e/t;return a.toFixed(2)}e.advertTypes=o.advertTypes,e.advertCities=o.advertCities;var r=[];""!==t.advertId?(e.pageTitle="修改广告",e.pageDetail="",e.advertId=t.advertId,o.getAdvertisementById().get({advertId:e.advertId}).$promise.then(function(t){0===t.errCode&&(e.advertisement=o.formatAdvertisement(t.advertisement),console.log(e.advertisement.city),o.getDistrictsByCity().get({city:e.advertisement.city}).$promise.then(function(t){if(0===t.errCode){var a=t.broadcastLocation,s=e.advertisement.broadcastLocation;r=e.advertisement.broadcastLocation,a.forEach(function(e){-1===s.indexOf(e.id)?e.selected=!1:e.selected=!0}),e.districts=a}},function(e){console.log("失败"),console.log(e)}))},function(e){console.log("get advert detail error"),console.log(e)})):(e.pageTitle="新增广告",e.pageDetail="所有信息都必填",e.advertId=null,e.advertisement={city:"Shanghai",catalog:"other",price:"0"},o.getDistrictsByCity().get({city:e.advertisement.city}).$promise.then(function(t){if(0===t.errCode){var a=t.broadcastLocation;e.advertisement.broadcastLocation=[],a.forEach(function(t){t.selected=!0,e.advertisement.broadcastLocation.push(t.id),r.push(t.id)}),e.districts=a}},function(e){console.log("失败"),console.log(e)})),e.changeContent=function(t){if(t){var a=l(t),s=i(e.districts);e.advertisement.price=n(a,s),console.log(e.advertisement.price)}},e.changeDistrict=function(){var t=i(e.districts);if(0!==t&&e.advertisement.content){var a=l(e.advertisement.content);e.advertisement.price=n(a,t)}else e.advertisement.price=0;console.log(e.advertisement.price)},e.saveDraft=function(){e.check={title:{isEmpty:!1,isTooLong:!1},content:{isEmpty:!1,isTooLong:!1},district:{isEmpty:!1},startDate:{isEmpty:!1},endDate:{isEmpty:!1,earlyThanStart:!1}};var t=[];if(e.districts.forEach(function(e){e.selected&&t.push(e.id)}),!e.advertisement)return void(e.check={title:{isEmpty:!0,isTooLong:!0},content:{isEmpty:!0,isTooLong:!0},district:{isEmpty:!0},startDate:{isEmpty:!0},endDate:{isEmpty:!0,earlyThanStart:!0}});if(!e.advertisement.title)return void(e.check.title.isEmpty=!0);if(l(e.advertisement.title)>20)return void(e.check.title.isTooLong=!0);if(!e.advertisement.content)return void(e.check.content.isEmpty=!0);if(l(e.advertisement.content)>60)return void(e.check.content.isTooLong=!0);if(t.length<1)return void(e.check.district.isEmpty=!0);if(!e.advertisement.startDate)return void(e.check.startDate.isEmpty=!0);if(!e.advertisement.endDate)return void(e.check.endDate.isEmpty=!0);if(e.advertisement.startDate.getTime()>e.advertisement.endDate.getTime())return void(e.check.endDate.earlyThanStart=!0);r=e.advertisement.broadcastLocation;var i=e.advertisement,n=o.parseDate(e.advertisement.startDate),d=o.parseDate(e.advertisement.endDate),m=c(r,t);i.price=parseFloat(i.price),o.saveDraftAdvertisement().save({id:e.advertId,title:i.title,content:i.content,catalog:i.catalog,broadcastLocation:t,startDate:n,endDate:d,city:i.city,price:i.price,add:m.add,remove:m.remove}).$promise.then(function(e){0===e.errCode&&(console.log("保存草稿成功"),console.log(e),a.go("app.advert.edit",{advertId:e.id}),s.success("保存草稿成功"))},function(e){console.log("保存草稿失败"),console.log(e)})},e.submitApply=function(){return console.log(e.advertisement),e.advertisement&&e.advertisement.title&&e.advertisement.content&&e.advertisement.catalog&&e.advertisement.city&&e.advertisement.startDate&&e.advertisement.endDate?void o.submitAdvertisementById().get({id:e.advertId}).$promise.then(function(t){0===t.errCode&&(e.resultTitle="提交成功",e.resultDetail="您的广告（编号为："+e.advertId+"）已经提交至审核区，您可以在消息通知中查看审核结果，请耐心等待，谢谢！",$("#successModal").modal("show"),console.log(t))},function(t){e.thereIsError=!0,e.errMessage="未知错误: "+t,console.log("提交失败"),console.log(t)}):void console.log("输入检查")},$("#successModal").on("hidden.bs.modal",function(e){a.go("app.advert")});var c=function(e,t){var a=new Array,s=new Array;return t.forEach(function(t){-1===e.indexOf(t)&&a.push(t)}),e.forEach(function(e){-1===t.indexOf(e)&&s.push(e)}),{add:a,remove:s}}}e.$inject=["$scope","$stateParams","$state","NoticeSrv","AdvertisementSrv"],angular.module("mad").controller("AdvertEditCtrl",e)}(),function(){"use strict";function e(e,t,a){function s(){e.rowCollection=[],a.getRefundHistory().get().$promise.then(function(t){var s=0;if(0===t.errCode)for(console.log("退款记录"),console.log(t),s=0;s<t.refundHistory.length;s++)t.refundHistory[s].state=a.applyState[t.refundHistory[s].status],e.rowCollection.push(t.refundHistory[s])},function(e){console.log("退款记录Error"),console.log(e),t.error("退款申请提交失败")})}a.getAccountDetails().get().$promise.then(function(t){0===t.errCode&&(e.alipay=t.advertiser.alipay,e.email=t.advertiser.email,e.name=t.advertiser.name,e.balance=t.advertiser.balance)}),e.getBalance=function(){$("#balance-btn").hide(),$("#balance-label").show()},s(),e.refund=function(o,l){return o&&l?0>o?void t.notice("请输入合法退款金额"):(e.thereIsError=!1,void a.refund().save({refund:o,Alipay:l}).$promise.then(function(e){console.log(e),0==e.errCode&&(console.log("退款申请成功"),t.success("退款申请提交成功"),s())},function(e){console.log("退款失败"),console.log(e),t.error("退款申请提交失败")})):void t.notice("请输入完整信息")}}e.$inject=["$scope","NoticeSrv","AdvertiserSrv"],angular.module("mad").controller("AccountRefundCtrl",e)}(),function(){"use strict";function e(e,t,a){e.advertId=t.advertId,a.getAdvertisementById().get({advertId:e.advertId}).$promise.then(function(t){0===t.errCode&&(console.log("advertDetail"),console.log(t.advertisement),e.advertisement=a.parseAdvertisement(t.advertisement),a.getDistrictsByCity().get({city:e.advertisement.city}).$promise.then(function(t){if(0===t.errCode){var a=t.broadcastLocation,s="";e.advertisement.broadcastLocation.forEach(function(e){for(var t=0;t<a.length;t+=1)if(a[t].id===e){s+=a[t].name+",";break}}),s=s.substring(0,s.length-1),e.locations=s}},function(e){console.log("失败"),console.log(e)}))},function(e){console.log("get advert detail error"),console.log(e)})}e.$inject=["$scope","$stateParams","AdvertisementSrv"],angular.module("mad").controller("AdvertDetailCtrl",e)}(),function(){"use strict";function e(e,t,a){function s(){e.rowCollection=[],a.getRechargeHistory().get().$promise.then(function(t){var s=0;if(0===t.errCode)for(console.log("充值记录"),console.log(t),s=0;s<t.rechargeHistory.length;s++)t.rechargeHistory[s].state=a.applyState[t.rechargeHistory[s].status],e.rowCollection.push(t.rechargeHistory[s])},function(e){console.log("充值记录Error"),console.log(e)})}e.checkbox={trueValue:!0},e.getBalance=function(){$("#balance-btn").hide(),$("#balance-label").show()},s(),a.getAccountDetails().get().$promise.then(function(t){0===t.errCode&&(e.alipay=t.advertiser.alipay,e.email=t.advertiser.email,e.name=t.advertiser.name,e.balance=t.advertiser.balance)}),e.recharge=function(a,s){if(a&&s){switch(e.thereIsError=!1,console.log(typeof s),"string"==typeof s&&(s=parseInt(s),console.log(typeof s)),s){case 50:e.qrCodeImage="http://mad-10035512.file.myqcloud.com/50.jpg";break;case 100:e.qrCodeImage="http://mad-10035512.file.myqcloud.com/100.jpg";break;case 200:e.qrCodeImage="http://mad-10035512.file.myqcloud.com/200.jpg";break;case 500:e.qrCodeImage="http://mad-10035512.file.myqcloud.com/500.jpg"}$("#qrCodeModal").modal("show")}else t.notice("请输入完整信息")},e.rechargeFinish=function(e,o){"string"==typeof o&&(o=parseInt(o),console.log(typeof o)),a.recharge().save({recharge:o,Alipay:e}).$promise.then(function(e){console.log(e),0==e.errCode&&(console.log("充值申请成功"),$("#qrCodeModal").modal("hide"),t.success("充值成功"),s())},function(e){console.log("充值失败"),console.log(e),t.error("充值失败")})}}e.$inject=["$scope","NoticeSrv","AdvertiserSrv"],angular.module("mad").controller("AccountRechargeCtrl",e)}(),function(){"use strict";function e(e,a,s,o,l,i,n){i.getUpToken().get().$promise.then(function(e){0===e.errCode&&(l.localStorage.upToken=e.uptoken)})["catch"](function(e){n.error("未知错误")}),e.selectFiles=[],console.log(l.localStorage.upToken);var r=function(t){e.selectFiles[t].progress={p:0},e.selectFiles[t].upload=o.upload({key:e.selectFiles[t].file.name.split(".")[0],file:e.selectFiles[t].file,token:l.localStorage.upToken}),e.selectFiles[t].upload.then(function(t){s.info(t),e.upload={result:"上传成功",picUrl:"http://o7epbv9gm.bkt.clouddn.com/"+t.key,isSuccess:!0}},function(t){s.info(t),e.upload={result:"上传失败",isSuccess:!1}},function(a){e.selectFiles[t].progress.p=Math.floor(100*a.loaded/a.totalSize)})};e.abort=function(t){e.selectFiles[t].upload.abort(),e.selectFiles.splice(t,1)},e.onFileSelect=function(t){for(var a=e.selectFiles.length,s=0;s<t.length;s++)e.selectFiles[s+a]={file:t[s]},r(s+a)},i.getCheckDetail().get().$promise.then(function(t){if(0===t.errCode)if(t.detail){var a=i.parseCheckInfo(t.detail);console.log(a),e.checkStatus={unsubmitted:!1},"100"===a.status?(e.checkStatus.submitted=!1,e.checkStatus.completedCheck=!0):(e.checkStatus.submitted=!0,e.checkStatus.completedCheck=!1),e.detail={companyType:a.type,licenseType:a.licenseType,companyName:a.companyName,licenseCode:a.licenseCode,companyLocationProvince:a.companyLocationProvince,companyLocationDistrict:a.companyLocationDistrict,accomodation:a.accomodation,businessScope:a.businessScope,businessPeriod:a.periodDate,periodIsLong:a.periodIsLong,organizationCode:a.organizationCode,legalPersonName:a.legalPerson.name,legalPersonLocation:a.legalPerson.location,legalPersonId:a.legalPerson.id,legalPersonValidDate:a.legalPerson.idValidDate,legalPersonIdIsLong:a.legalPerson.iflongterm,legalPersonIflegalperson:a.legalPerson.iflegalperson,contactEmail:a.contactEmail,licenseImageUrl:a.licenseImageUrl}}else e.checkStatus={unsubmitted:!0}},function(e){console.log(e)}),e.submit=function(){if(!e.detail||!t(e.detail))return void n.notice("请输入合法信息");var s=i.formatCheckInfo(e.detail);i.checkInfo().save({detail:{type:s.companyType,licenseType:s.licenseType,companyName:s.companyName,licenseCode:s.licenseCode,licenseImageUrl:e.upload.picUrl,location:s.companyLocationProvince+","+s.companyLocationDistrict,accomodation:s.accomodation,businessScope:s.businessScope,businessPeriod:s.businessPeriodStr,periodIsLong:s.periodIsLong,organizationCode:s.organizationCode,legalPerson:{name:s.legalPersonName,location:s.legalPersonLocation,id:s.legalPersonId,validDate:s.legalPersonValidDateStr,iflongterm:s.legalPersonIdIsLong,iflegalperson:s.legalPersonIflegalperson},contactEmail:s.contactEmail}}).$promise.then(function(e){0===e.errCode&&(n.success("提交验证信息成功"),a.go("app.account.check",{reload:!0}))},function(e){})}}function t(e){return e.accomodation&&e.businessScope&&e.companyLocationDistrict&&e.companyLocationProvince&&e.companyName&&e.companyType&&e.contactEmail&&e.legalPersonId&&e.legalPersonIflegalperson&&e.legalPersonLocation&&e.legalPersonName&&e.licenseCode&&e.licenseType&&e.organizationCode&&(e.businessPeriod||e.periodIsLong)&&(e.legalPersonValidDate||e.legalPersonIdIsLong)?e.businessPeriod&&e.periodIsLong?!1:e.legalPersonValidDate&&e.legalPersonIdIsLong?!1:!0:!1}e.$inject=["$scope","$state","$log","$qupload","$window","AdvertiserSrv","NoticeSrv"],angular.module("mad").controller("AccountCheckCtrl",e)}(),function(){"use strict";function e(e,t,a,s){angular.module("tabsDemoDynamicHeight",["ngMaterial"]),s.getAccountDetails().get().$promise.then(function(t){if(0===t.errCode){e.alipay=t.advertiser.alipay,e.email=t.advertiser.email,e.name=t.advertiser.name;var a=t.advertiser.status;"010"===a?(e.notVerified=!0,e.isPassed=!1,e.notPassed=!1):"100"===a?(e.notVerified=!1,e.isPassed=!0,e.notPassed=!1):(e.notVerified=!1,e.isPassed=!1,e.notPassed=!0)}},function(e){a.error("未能获取用户信息"),console.log(e)}),e.changeAlipay=function(t){return t?t===e.alipay?(e.thereIsError=!0,void(e.errMessage="输入的支付宝账号与现在账号相同")):(e.thereIsError=!1,void s.changeAlipay().save({Alipay:t}).$promise.then(function(a){console.log(a),0===a.errCode&&(e.resultDetail="您的支付宝账户名称更改成功",$("#successModal").modal("show"),e.alipay=t)},function(e){a.error("未知错误")})):(e.thereIsError=!0,void(e.errMessage="请输入完整信息"))},e.changePassword=function(t,o,l){if(o.length<8)return e.newPwdError=!0,void(e.newErrMsg="密码至少要8位");if(e.newPwdError=!1,!t||!o||!l)return e.confirmPwdError=!0,void(e.confirmErrMsg="请输入完整信息");if(l!==o)return e.confirmPwdError=!0,void(e.confirmErrMsg="再次输入的密码不正确，请重新输入");if(o===t)return e.confirmPwdError=!0,void(e.confirmErrMsg="密码没有改变，请重新输入");e.confirmPwdError=!1;var i=sha256(t),n=sha256(o);s.changePassword().save({oldPwd:i,newPwd:n}).$promise.then(function(t){console.log(t),0===t.errCode?(e.oldPwdError=!1,e.resultDetail="您的密码修改成功",$("#successModal").modal("show")):305===t.errCode&&(e.oldPwdError=!0,e.oldErrMsg="旧密码错误，请重新输入")},function(e){a.error("未知错误")})}}e.$inject=["$scope","$state","NoticeSrv","AdvertiserSrv"],angular.module("mad").controller("AccountCtrl",e)}(),function(){"use strict";function e(e){e.debug("runBlock end")}e.$inject=["$log"],angular.module("mad").run(e)}(),function(){"use strict";function e(e,t){t.otherwise("/"),e.state("app",{url:"/",views:{header:{templateUrl:"app/components/navbar-advert/navbar-advert.html",controller:"HeaderCtrl"},content:{templateUrl:"app/main/main.html",controller:"MainCtrl"},footer:{templateUrl:"app/components/footer-advert/footer-advert.html",controller:"FooterCtrl"}}}).state("app.advert",{url:"advert",views:{"content@":{templateUrl:"app/advertisment/advertisment.html",controller:"AdvertCtrl"}}}).state("app.advert.edit",{url:"/edit/:advertId",views:{"content@":{templateUrl:"app/advert-edit/advert-edit.html",controller:"AdvertEditCtrl"}}}).state("app.advert.detail",{url:"/detail/:advertId",views:{"content@":{templateUrl:"app/advert-detail/advert-detail.html",controller:"AdvertDetailCtrl"}}}).state("app.account",{url:"account",views:{"content@":{templateUrl:"app/account/account.html",controller:"AccountCtrl"}}}).state("app.account.recharge",{url:"/recharge",views:{"content@":{templateUrl:"app/account-recharge/account-recharge.html",controller:"AccountRechargeCtrl"}}}).state("app.account.refund",{url:"/refund",views:{"content@":{templateUrl:"app/account-refund/account-refund.html",controller:"AccountRefundCtrl"}}}).state("app.account.check",{url:"/check",views:{"content@":{templateUrl:"app/account-check/account-check.html",
controller:"AccountCheckCtrl"}}}).state("app.statistics",{url:"statistics",views:{"content@":{templateUrl:"app/statistics/statistics.html",controller:"AdvertSatisticsCtrl"}}}).state("app.statistics.advertis",{url:"/advertis",views:{"content@":{templateUrl:"app/statistics-advertis/statistics-advertis.html",controller:"SatisticsAdvertMapCtrl"}}}).state("app.statistics.detail",{url:"/detail/:advertId",views:{"content@":{templateUrl:"app/statistics-detail/statistics-detail.html",controller:"SatisticsDetailCtrl"}}}).state("app.notification",{url:"notification",views:{"content@":{templateUrl:"app/notification/notification.html",controller:"NotificationCtrl"}}}).state("app.pact",{url:"pact",views:{"content@":{templateUrl:"app/pact/pact.html"}}})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("mad").config(e)}(),function(){"use strict";angular.module("mad").constant("malarkey",malarkey).constant("moment",moment)}(),function(){"use strict";function e(e,t,a){t.debugEnabled(!0),e.interceptors.push("myInterceptor"),a.allowHtml=!0,a.timeOut=3e3,a.positionClass="toast-top-right",a.preventDuplicates=!0,a.progressBar=!0}e.$inject=["$httpProvider","$logProvider","toastrConfig"],angular.module("mad").config(e),angular.module("mad").value("baseURL","http://121.42.57.59:4000/advertiser")}(),angular.module("mad").run(["$templateCache",function(e){e.put("app/account/account.html",'<div class="container"><div class="text-center"><h1>个人账号中心</h1><hr></div><div class="col-md-offset-1 col-md-10"><div class="row"><div class="col-md-3 col-sm-5"><div class="panel panel-default"><div class="panel-body text-center"><div class="row"><div class="col-md-8 col-md-offset-2 col-xs-6 col-xs-offset-3"><img src="assets/images/avatar.jpg" class="img-responsive img-circle"></div></div><h4>{{name}}</h4><p>{{email}}</p><span class="label label-success" ng-show="isPassed">已通过审核</span><div ng-show="notVerified"><span class="label label-warning">未审核</span> <button ui-sref="app.account.check" class="btn btn-info btn-xs">审核</button></div><div ng-show="notPassed"><span class="label label-danger">未通过审核</span> <button ui-sref="app.account.check" class="btn btn-info btn-xs">再次审核</button></div></div></div></div><div class="col-md-9 col-sm-7 tab-content"><div class="panel panel-default"><div class="panel-body xmd-body"><h4>修改密码</h4><hr style="margin-top: 15px;"><form class="form-horizontal"><div class="form-group"><label for="" class="col-sm-2 control-label">旧密码</label><div class="col-sm-10"><input type="password" class="form-control" ng-model="oldPwd"> <span class="text-red" ng-show="oldPwdError">{{oldErrMsg}}</span></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">新密码</label><div class="col-sm-10"><input type="password" class="form-control" ng-model="newPwd"> <span class="text-red" ng-show="newPwdError">{{newErrMsg}}</span></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">再次输入新密码</label><div class="col-sm-10"><input type="password" class="form-control" ng-model="confirmPwd"> <span class="text-red" ng-show="confirmPwdError">{{confirmErrMsg}}</span></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-10"><button type="submit" class="btn btn-info" ng-click="changePassword(oldPwd,newPwd,confirmPwd)">修改密码</button></div></div></form><br><h4>修改支付宝帐号</h4><hr style="margin-top: 15px;"><form class="form-horizontal"><div class="form-group"><label for="" class="col-sm-2 control-label">支付宝账号</label><div class="col-sm-10"><input type="text" class="form-control" placeholder="{{alipay}}" ng-model="currentAlipay"> <span class="text-red" ng-show="thereIsError">{{errMessage}}</span></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-10"><button type="submit" class="btn btn-warning" ng-click="changeAlipay(currentAlipay)">修改支付宝帐号</button></div></div></form><br></div></div></div></div></div></div><div class="modal fade bs-example-modal-sm" id="successModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel2">修改成功</h4></div><div class="modal-body">{{resultDetail}}</div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">关闭</button></div></div></div></div>'),e.put("app/account-check/account-check.html",'<div class="container"><div class="text-center" ng-show="checkStatus.unsubmitted"><h1>广告商认证</h1><p>您需要通过认证才可以发表广告</p><hr></div><div class="text-center" ng-show="checkStatus.submitted"><h1>广告商认证</h1><h3>您的审核信息已提交，请不要重复提交审核信息</h3><hr></div><div class="text-center" ng-show="checkStatus.completedCheck"><h1>广告商认证</h1><h3>您的审核信息已验证成功，请不要重复提交审核信息</h3><hr></div><div class="col-md-offset-2 col-sm-8 col-sm-offset-1 col-sm-10"><form class="form-horizontal" name="checkInfo"><h4>单位类型</h4><hr style="margin-top:10px;"><div class="form-group"><label for="" class="col-sm-2 control-label">选择单位类型</label><div class="col-sm-10"><div class="col-sm-4 col-xs-6"><label><input type="radio" name="company-type" ng-model="detail.companyType" value="企业"> 企业</label></div><div class="col-sm-4 col-xs-6"><label><input type="radio" name="company-type" ng-model="detail.companyType" value="事业单位"> 事业单位</label></div><div class="col-sm-4 col-xs-6"><label><input type="radio" name="company-type" ng-model="detail.companyType" value="民办非企业单位"> 民办非企业单位</label></div><div class="col-sm-4 col-xs-6"><label><input type="radio" name="company-type" ng-model="detail.companyType" value="个体工商户"> 个体工商户</label></div><div class="col-sm-4 col-xs-6"><label><input type="radio" name="company-type" ng-model="detail.companyType" value="社会团体"> 社会团体</label></div><div class="col-sm-4 col-xs-6"><label><input type="radio" name="company-type" ng-model="detail.companyType" value="党政及国家机关"> 党政及国家机关</label></div></div></div><div class="form-group"><div class="col-sm-3 col-sm-offset-3 text-center"><img src="http://mad-10035512.file.myqcloud.com/license.JPG" height="150px"> <label>普通营业执照</label></div><div class="col-sm-3 col-sm-offset-1 text-center"><img src="http://mad-10035512.file.myqcloud.com/marginLicense.jpg" height="150px"> <label>多证合一营业执照</label></div></div><h4>企业信息</h4><hr style="margin-top:10px;"><div class="form-group"><label for="" class="col-sm-2 control-label">证件类型</label><div class="col-sm-10"><div class="radio"><label><input type="radio" name="license-type" ng-model="detail.licenseType" value="普通营业执照"> 普通营业执照（存在独立的组织机构代码证）</label></div><div class="radio"><label><input type="radio" name="license-type" ng-model="detail.licenseType" value="多证合一营业执照"> 多证合一营业执照（不存在独立的组织机构代码证）</label></div></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">企业名称</label><div class="col-sm-10"><input class="form-control" ng-model="detail.companyName" placeholder="企业全称，与营业执照上一致"></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">注册号</label><div class="col-sm-10"><input class="form-control" ng-model="detail.licenseCode" placeholder="如：111112222233333"></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">单位所在地</label><div class="col-sm-5"><select class="form-control" ng-model="detail.companyLocationProvince"><option>请选择</option><option>上海</option><option>江苏</option></select></div><div class="col-sm-5"><select class="form-control" ng-model="detail.companyLocationDistrict"><option>请选择</option><option>黄浦区</option><option>嘉定区</option></select></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">住所</label><div class="col-sm-10"><input class="form-control" ng-model="detail.accomodation" placeholder=""></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">经营范围</label><div class="col-sm-10"><input class="form-control" ng-model="detail.businessScope" placeholder=""></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">营业期限</label><div class="col-sm-3"><input class="form-control" type="date" ng-model="detail.businessPeriod"></div><div class="col-sm-7"><div class="checkbox"><label><input type="checkbox" ng-model="detail.periodIsLong">长期</label></div></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">组织机构代码</label><div class="col-sm-10"><input class="form-control" ng-model="detail.organizationCode" placeholder="如：00001111-1"></div></div><br><h4>法定代表人信息</h4><hr style="margin-top:10px;"><div class="form-group"><label for="" class="col-sm-2 control-label">法定代表人归属地</label><div class="col-sm-10"><select class="form-control" ng-model="detail.legalPersonLocation"><option value="中国大陆">中国大陆</option><option value="香港">香港</option><option value="澳门">澳门</option><option value="台湾">台湾</option><option value="海外">海外</option></select></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">法定代表人姓名</label><div class="col-sm-10"><input class="form-control" ng-model="detail.legalPersonName" placeholder=""></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">身份证号</label><div class="col-sm-10"><input class="form-control" ng-model="detail.legalPersonId" placeholder=""></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">证件有效期</label><div class="col-sm-3"><input class="form-control" type="date" ng-model="detail.legalPersonValidDate"></div><div class="col-sm-7"><div class="checkbox"><label><input type="checkbox" ng-model="detail.legalPersonIdIsLong">长期</label></div></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">填写人身份</label><div class="col-sm-10"><div class="col-xs-6 radio"><label><input type="radio" name="fill-person" ng-model="detail.legalPersonIflegalperson" value="true">我是法定代表人</label></div><div class="col-xs-6 radio"><label><input type="radio" name="fill-person" ng-model="detail.legalPersonIflegalperson" value="false">我是代理人</label></div></div></div><br><h4>联系方式</h4><hr style="margin-top:10px;"><div class="form-group"><label for="" class="col-sm-2 control-label">联系人邮箱</label><div class="col-sm-10"><input class="form-control" ng-model="detail.contactEmail" placeholder="验证结果将通过邮件发送至该邮箱"></div></div><h4>上传营业执照</h4><hr style="margin-top:10px;"><div></div><img src="{{detail.licenseImageUrl}}" class="img-rounded center-block" style="width:60%;margin-bottom:20px" alt=""><div class="widget-body" ng-show="!detail.licenseImageUrl"><form class="form-horizontal no-margin"><div class="form-group"><label for="" class="col-sm-2 control-label">上传图片</label><div class="col-sm-10"><button ng-file-select="onFileSelect($files)" class="btn btn-large btn-primary btn-upload" data-multiple="true" title="select file" onclick="this.value = null" ng-disabled="detail.licenseImageUrl">点击此处选择图片</button><ol><li ng-repeat="(k,v) in selectFiles">{{v.file.name}} - {{v.progress.p}}% <button ng-click="abort(k)">x</button></li></ol><label>{{upload.result}}</label> <a href="{{upload.picUrl}}" ng-show="upload.isSuccess">点击查看</a></div></div></form></div><hr style="margin-top:10px;"><div class="text-center"><button class="btn btn-primary" ng-disabled="!canSubmit" ng-click="submit()">提交申请</button></div></form></div></div>'),e.put("app/account-recharge/account-recharge.html",'<div class="container"><div class="container jx-container"><div class="row"><div class="col-md-offset-2 col-md-8"><h2 class="text-center">账户充值</h2><p class="text-center">为确保您的广告正常播放，请经常查看余额或充值</p><hr><div class="row"><div class="panel panel-success"><div class="panel-heading"><h3 class="panel-title text-center">充值</h3></div><div class="panel-body"><div class="col-sm-9 recharge-part"><form class="form-horizontal"><div class="form-group"><label for="singleSelect" class="col-sm-3 control-label">充值金额</label><div class="col-sm-8"><select name="singleSelect" id="singleSelect" class="form-control" ng-model="amount"><option value="">---请选择---</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="500">500</option></select></div></div><div class="form-group"><label class="col-sm-3 control-label">支付宝帐号</label><div class="col-sm-8"><input type="text" class="form-control" placeholder="输入与转账相符的支付宝账户" ng-model="account"> <span class="text-red" ng-show="thereIsError">{{errMessage}}</span></div></div><div class="form-group"><div class="col-sm-offset-1 col-sm-10"><div class="checkbox"><label><input type="checkbox" ng-model="checkbox.trueValue">已阅读并同意<a type="button" data-toggle="modal" data-target="#pactModal">广告发布协议</a></label></div></div></div><div><button type="submit" class="btn btn-success center-block btn-fluid" ng-click="recharge(account, amount)">充值</button></div></form></div><br><div class="col-sm-3"><div class="ht-user-info row"><div class="col-sm-12 text-center"><h4 for="">{{name}}</h4><p><small>{{email}}</small></p><button class="btn btn-primary" id="balance-btn" ng-click="getBalance()">查看账户余额</button><p id="balance-label" hidden=""><b>余额：</b>{{balance}}</p></div></div></div></div></div></div><div class="row"><h3 class="ht-charge-title">充值记录</h3><p class="text-center">查看您的历史充值记录</p><hr style="margin-top: 15px;"></div><div class="row"><div class="panel panel-default"><div class="panel-body"><table class="table table-hover" st-table="rowCollection"><thead><tr><th>充值金额（元）</th><th>充值账户</th><th>充值时间</th><th>充值状态</th></tr></thead><tbody><tr ng-repeat="row in rowCollection"><td>{{ row.amount }}</td><td>{{ row.account }}</td><td>{{ row.time }}</td><td>{{ row.state }}</td></tr></tbody></table></div></div></div></div></div></div></div><div class="modal fade bs-example-modal-sm" id="qrCodeModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel">充值</h4></div><div class="modal-body"><div class="text-center"><img src="{{qrCodeImage}}" class="img-responsive qrcode-img"> <button class="btn btn-success" ng-click="rechargeFinish(account, amount)">转账成功后点击这里</button></div></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">关闭</button></div></div></div></div><div class="modal fade bs-example-modal" id="pactModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2"><div class="modal-dialog modal-lg" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel2">车载广告服务协议</h4></div><div class="modal-body"><h4>甲方:广告投放方</h4><h4>乙方:MAD移动广告投放平台</h4><p>双方本着友好协商、共同发展的原则，由乙方在网站，为甲方提供网络广告服务。</p><h4>一、服务内容</h4><ol><li>广告类型：本条所指广告内容是指甲方拟在乙方公司内所有广告载体上发布的有关甲方业务的信息，广告形式为静态文字。文字长最长不超过60字。</li><li>乙方将在乙方公司内符合投放条件的车载广告播放装置上发布甲方的广告内容</li></ol><h4>二、甲方的权利义务</h4><ol><li>甲方所要宣传的内容如有变动必须向乙方提交审核，以便乙方能及时调整更新广告信息。</li><li>甲方有权根据本合同第一条所要求的服务内容及标准，检查乙方提供的广告服务质量，如乙方提供的服务质量不符合本合同第一条的规定，甲方有权要求乙方在规定时间内做出补充和修正。</li><li>甲方发布的广告内容必须符合中国法律法规的规定，不得委托乙方发布国家明令禁止的广告内容。</li><li>甲方必须保证所发布广告的真实性、有效性，并独立承担责任。</li><li>甲方必须依据本合同规定，按时足额向乙方支付广告服务款项。</li></ol><h4>三、乙方的权利义务</h4><ol><li>乙方必须严格遵守中华人民共和国广告法及相关适用法律的相关规定及要求发布广告；</li><li>乙方必须按本合同规定第一条规定的服务内容及标准向甲方提供广告服务；</li><li>乙方有权要求甲方按其规定提供营业执照、资质证明等相关证明材料，甲方拒不提供的，乙方有权拒绝为其发布广告。</li><li>乙方一旦发现甲方提供的广告存在虚假成分，有权立即单方面撤除广告，并通知甲方澄清事实。由此造成的损失由甲方承担。</li><li>乙方有权要求甲方按时足额支付广告服务费用；</li></ol><h4>四、违约责任</h4><ol><li>双方中任何一方违反本合同的规定，均必须承担相应的法律责任，赔偿对方因此而造成的经济损失。</li><li>如乙方未能在本合同规定时间内，为甲方提供广告服务，每延迟一天，乙方须减收甲方广告服务费用总额的1%的作为补偿，如延迟时间超过一个月，甲方有权要求终止合同，乙方将向甲方退回全部预付款。</li><li>如甲方未能在本合同规定时间内，向乙方支付预付款及余款，每延迟一天，甲方须向乙方支付广告服务费用总额1%的赔偿金，如延迟时间超过一个月时间，乙方有权终止合同，并有权要求甲方赔偿广告服务费用总额双倍的经济赔偿金。</li><li>由于甲方提供广告中存在虚假成分，或因此引发第三方法律诉讼，要求经济赔偿等，甲方必须独立承担全部损失，并赔偿由此给乙方造成的一切名誉和经济损失。</li></ol><h4>五、服务费用</h4><ol><li>服务付费：单条广告价格根据乙方所投放广告自动计算得出，在广告投放时广告费用自动从乙方账户中扣除；</li><li>支付方式：乙方在投放广告前需向账户中充值足够金额以投放广告，所充值金额会自动兑换为等值MAD币。</li></ol><h4>六、知识产权</h4><ol><li>在本合同执行过程中而产生的广告作品著作权归制作方所有，即由甲方设计制作的广告作品著作权归甲方所有，由甲方委托乙方设计制作的广告作品著作权归乙方所有。</li></ol><h4>七、合同终止</h4><ol><li>如甲方不能提供广告相关商品或服务的资质证明、产品说明书或政府主管部门的审批文件，或提供的上述材料中存在虚假成分，或因此第三方的法律诉讼、经济索赔要求等情况，乙方有权终止本合同，且不承担任何责任；</li><li>如甲方未能按本合同规定时间向乙方支付广告服务费用，延迟时间超过一个月，乙方有权终止本合同；</li><li>在甲方完全履行本合同规定义务后，如乙方未能按本合同规定时间为甲方提供广告服务，延迟时间超过一个月，甲方有权终止本合同。</li></ol><h4>八、保密义务</h4><ol><li>双方为执行本协议提供给对方的任何技术产品或资料，除非提供方明确说明其为公知技术的外，均构成提供方的商业秘密；</li><li>双方同意不得使第三人接触或向第三人揭露上述商业秘密，也不得为本协议之外的任何其它目的利用该商业秘密。双方承诺，本保密义务延及其员工，任何一方员工违法本保密义务的，该方同样应承担全部法律责任。</li></ol><h4>九、免责条件</h4><ol><li>因战争、自然灾害等导致乙方服务器不能正常运行；</li><li>因政府行政行为导致乙方不能开放服务器；</li><li>因互联网灾难，中国、美国等互联网通讯提供商原因导致乙方服务器不能正常接入；</li><li>因乙方操作平台及应用软件原因导致乙方服务器临时性不能正常运行；</li><li>因乙方网站遭遇不法攻击导致服务器临时性不能正常运行。</li><li>基于以上原因，导致乙方网站不能正常运行，甲方认同属于正常现象，乙方不承担任何法律上和本合同规定以外的其它方式的责任。</li></ol><h4>十、争议解决</h4><ol><li>如双方在履行本合同过程中发生争议，经协商无法解决，任何一方均可向仲裁委员会提出仲裁，仲裁结果为最终结果，对双方都具有约束力。</li></ol><h4>十一、其他</h4><ol><li>甲方开始在乙方平台投放广告时该协议自动生效；</li><li>有效期至广告服务时间完成时为止。</li><li>本协议执行过程中，所有附件和补充协议等一经甲乙双方签字即成为本协议的有效组成部分 与本协议具有同等法律效力。</li></ol></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">关闭</button></div></div></div></div>'),e.put("app/account-refund/account-refund.html",'<div class="container"><div class="container jx-container"><div class="row"><div class="col-md-offset-2 col-md-8"><h2 class="text-center">账户退款</h2><p class="text-center">您可以将已充值的金额提现</p><hr><div class="row"><div class="panel panel-success"><div class="panel-heading"><h3 class="panel-title text-center">退款</h3></div><div class="panel-body"><div class="col-sm-9 recharge-part"><form class="form-horizontal"><div class="form-group"><label for="" class="col-sm-3 control-label">退款金额</label><div class="col-sm-8"><input type="number" class="form-control" placeholder="请输入整数，单位为元" ng-model="amount"></div></div><div class="form-group"><label class="col-sm-3 control-label" for="">退款账户</label><div class="col-sm-8"><input type="text" class="form-control" placeholder="请输入支付宝账户" ng-model="account"> <span class="text-red" ng-show="thereIsError">{{errMessage}}</span></div></div><div><button type="submit" class="btn btn-success center-block btn-fluid" ng-click="refund(amount, account)">申请退款</button></div></form></div><div class="col-sm-3"><div class="ht-user-info row"><div class="col-sm-12 text-center"><h4 for="">{{name}}</h4><p><small>{{email}}</small></p><button class="btn btn-primary" id="balance-btn" ng-click="getBalance()">查看账户余额</button><p id="balance-label" hidden=""><b>余额：</b>{{balance}}</p></div></div></div></div></div></div><div class="row"><h3 class="ht-charge-title">退款记录</h3><p class="text-center">查看您的历史退款记录</p><hr style="margin-top: 15px;"></div><div class="row"><div class="panel panel-default"><div class="panel-body"><table class="table table-hover" st-table="rowCollection"><thead><tr><th>退款金额（元）</th><th>退款账户</th><th>退款时间</th><th>退款状态</th></tr></thead><tbody><tr ng-repeat="row in rowCollection"><td>{{ row.amount }}</td><td>{{ row.account }}</td><td>{{ row.time }}</td><td>{{ row.state }}</td></tr></tbody></table></div></div></div></div></div></div></div>'),e.put("app/advert-detail/advert-detail.html",'<div class="container"><div><h1 class="text-center" ng-bind="advertisement.title">广告标题</h1><h4 class="text-center">广告类别:{{advertisement.catalog}}</h4><hr></div><div class="col-md-offset-2 col-sm-8 col-sm-offset-1 col-sm-10"><table class="table table-hover table-striped table-bordered"><tbody><tr><th>广告内容</th><td ng-bind="advertisement.content"></td></tr><tr><th>广告地点</th><td ng-bind="locations"></td></tr><tr><th>广告发布时段</th><td>24小时</td></tr><tr><th>广告播放开始日期</th><td ng-bind="advertisement.startDate"></td></tr><tr><th>广告播放结束日期</th><td ng-bind="advertisement.endDate"></td></tr><tr><th>广告单条费用</th><td>{{ advertisement.price }}&nbsp;MAD币</td></tr><tr><th>广告状态</th><td ng-bind="advertisement.state"></td></tr></tbody></table></div></div><div class="text-center"><button class="btn btn-primary text-right" ui-sref="app.advert.edit({advertId: advertId})" ng-disabled="advertisement.status === \'001\' || advertisement.status === \'100\'">修改信息</button></div>'),e.put("app/advertisment/advertisment.html",'<div class="container jx-container"><div class="row"><div class="col-md-offset-1 col-md-10"><h1 class="text-center">已发布广告</h1><p class="text-center">您的已发布广告列表</p><hr></div><div class="col-md-offset-1 col-md-10 panel panel-default"><div class="panel-body"><table st-table="advertCollection" st-safe-src="advertList" class="table table-striped"><thead><tr><th>广告编号</th><th>广告标题</th><th>广告状态</th><th>创建时间</th><th>查看广告详情</th><th>修改广告</th></tr></thead><tbody><tr ng-repeat="row in advertCollection"><td>{{row.number }}</td><td>{{row.title}}</td><td class="{{row.stateClass}}">{{row.state}}</td><td>{{row.createTime}}</td><td><button ui-sref="app.advert.detail({advertId: row.id})" class="btn btn-success btn-sm">查看详情</button></td><td><button class="btn btn-danger btn-sm" ng-show="row.isDisableOff" ng-click="removeAdvertisementById(row.id)">下架</button> <button class="btn btn-primary btn-sm" ng-show="row.canSubmit" ng-click="submitAdvertisementById(row.id)">提交审核</button></td></tr></tbody></table></div></div></div></div>'),e.put("app/advertisment/pagination.custom.html",'<div class="row"><div class="col-xs-12 col-md-6"><div class="table-summary">共<span class="red">{{totalItemCount}}</span>条数据， 每页<span class="red">{{stItemsByPage}}</span>条， 共<span class="red">{{numPages}}</span>页</div></div><div class="col-xs-12 col-md-6"><nav class="pull-right" ng-if="numPages &amp;&amp; pages.length >= 2"><ul class="pagination"><li><a ng-click="selectPage(1)">首页</a></li><li><a ng-click="selectPage(currentPage - 1)">&lt;</a></li><li ng-repeat="page in pages" ng-class="{active: page==currentPage}"><a ng-click="selectPage(page)">{{page}}</a></li><li><a ng-click="selectPage(currentPage + 1)">&gt;</a></li><li><a ng-click="selectPage(numPages)">尾页</a></li></ul></nav></div></div>'),e.put("app/advert-edit/advert-edit.html",'<div class="container jx-container"><div class="row"><div class="col-sm-offset-2 col-sm-8"><h2 class="text-center" ng-bind="pageTitle"></h2><p class="text-center" ng-bind="pageDetail"></p><hr><form class="form-horizontal panel-body" role="form" name="advertForm" novalidate="novalidate"><div class="form-group"><label class="col-sm-3 control-label">广告编号：</label><div class="col-sm-9"><input type="text" class="form-control" placeholder="(不可修改)" readonly="true" ng-model="advertId"></div></div><div class="form-group"><label class="col-sm-3 control-label">广告标题：</label><div class="col-sm-9"><input type="text" class="form-control" placeholder="广告标题(不超过20字)" name="title" ng-model="advertisement.title" required=""> <span style="color:red"><span ng-show="check.title.isEmpty">广告名称是必须的。</span> <span ng-show="check.title.isTooLong">广告标题不能超过20字</span></span></div></div><div class="form-group"><label class="col-sm-3 control-label">广告内容：</label><div class="col-sm-9"><textarea class="form-control" placeholder="广告内容(不超过60字)" rows="3" name="content" ng-model="advertisement.content" ng-change="changeContent(advertisement.content)" required=""></textarea> <span style="color:red"><span ng-show="check.content.isEmpty">广告内容是必须的。</span> <span ng-show="check.content.isTooLong">广告内容不能超过60字</span></span></div></div><div class="form-group"><label class="col-sm-3 control-label">广告类别：</label><div class="col-sm-4"><select class="form-control" name="adType" ng-model="advertisement.catalog" ng-options="m.id as m.type for m in advertTypes" ng-disabled="advertId !== null"></select></div><div class="col-sm-4" ng-hide="advertId === null"><label style="font-size: 13px">注意：广告类别不可修改</label></div></div><div class="form-group"><label class="col-sm-3 control-label">面向城市：</label><div class="col-sm-4"><select class="form-control" name="adCity" ng-model="advertisement.city" ng-options="c.id as c.city for c in advertCities"></select></div></div><div class="form-group"><label class="col-sm-3 control-label">投放地点：</label><div class="col-sm-9"><div class="row"><div class="col-sm-3 col-xs-4 checkbox" ng-repeat="district in districts"><label><input type="checkbox" ng-change="changeDistrict()" ng-model="district.selected">{{district.name}}</label></div></div><span style="color:red" ng-show="check.district.isEmpty">广告投放地点是必须的。</span></div></div><div class="form-group"><label class="col-sm-3 control-label">开始播放日期：</label><div class="col-sm-9"><input class="form-control" type="date" name="startDate" ng-model="advertisement.startDate" required=""> <span style="color:red"><span ng-show="check.startDate.isEmpty">广告开始时间是必须的。</span></span></div></div><div class="form-group"><label class="col-sm-3 control-label">结束播放日期：</label><div class="col-sm-9"><input class="form-control" type="date" name="endDate" ng-model="advertisement.endDate" required=""> <span style="color:red"><span ng-show="check.endDate.isEmpty">广告结束时间是必须的。</span> <span ng-show="check.endDate.earlyThanStart">广告结束时间不能早于开始时间</span></span></div></div><div class="form-group"><label class="col-sm-3 control-label">单条广告价格：</label><div class="col-sm-9"><strong><p class="form-control-static">{{ advertisement.price }} MAD币</p></strong></div></div><div class="row button-group"><div class="col-xs-4"><button type="button" class="btn btn-danger btn-fluit" ui-sref="app.advert">取消</button></div><div class="col-xs-4"><button type="button" class="btn btn-success btn-fluit" ng-click="submitApply()" ng-disabled="advertId === null">提交审核</button></div><div class="col-xs-4"><button type="button" class="btn btn-default btn-fluit" ng-click="saveDraft()">暂存草稿</button></div></div></form></div></div></div><div class="modal fade bs-example-modal-sm" id="successModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel2">{{resultTitle}}</h4></div><div class="modal-body">{{resultDetail}}</div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">关闭</button></div></div></div></div>'),e.put("app/blank/blank.html",""),e.put("app/main/main.html",'<div id="carousel" class="carousel slide body" data-ride="carousel"><ol class="carousel-indicators"><li data-target="#carousel" data-slide-to="0" class="active"></li><li data-target="#carousel" data-slide-to="1"></li><li data-target="#carousel" data-slide-to="2"></li></ol><div class="carousel-inner" role="listbox"><div class="item active"><img src="assets/images/carousel-1.png"><div class="container"><div class="carousel-caption"><h1>您是车主</h1><p>我们为您提供了一种新的方式来赚钱，<br>仅仅依靠您的汽车播放一些广告，您就可以轻松愉快地收获利润。</p><p><button type="button" class="btn btn-success" data-toggle="modal" data-target="#downloadModal">下载app</button></p></div></div></div><div class="item"><img src="assets/images/carousel-2.png"><div class="container"><div class="carousel-caption"><h1>您是广告商</h1><p>我们希望通过汽车这类频繁移动的工具为您播放广告，您可以自由选择时间与地点，借助汽车作为媒介来收获利润。</p><p><button class="btn btn-success">点击右上角立即注册</button></p></div></div></div><div class="item"><img src="assets/images/carousel-3.png"><div class="container"><div class="carousel-caption"><h1>若您希望合作</h1><p>请发邮件至mad_info@163.com商讨合作事宜。</p></div></div></div></div><a class="left carousel-control" href="#carousel" role="button" data-slide="prev"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span></a> <a class="right carousel-control" href="#carousel" role="button" data-slide="next"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span></a></div><div class="container"><h2 class="text-center">用心投放每一单广告</h2><p class="text-center">我们希望为您的每一单广告投放做担保，为更好地广告效益做努力</p><hr><div class="row"><div class="col-md-4 col-md-offset-2 col-sm-6 text-center"><div class="panel panel-default"><div class="panel-body"><div class="xmd-img-center"><img src="assets/images/ico_01.png" class="img-responsive" width="100"></div><h4>实名认证</h4><p>100%认证车主驾照、广告商营业执照</p></div></div></div><div class="col-md-4 col-sm-6 text-center"><div class="panel panel-default"><div class="panel-body"><div class="xmd-img-center"><img src="assets/images/ico_02.png" class="img-responsive" width="100"></div><h4>收益保险</h4><p>车主与广告商信息安全，收益稳定</p></div></div></div></div><div class="row"><div class="col-md-4 col-md-offset-2 col-sm-6 text-center"><div class="panel panel-default"><div class="panel-body"><div class="xmd-img-center"><img src="assets/images/ico_03.png" class="img-responsive" width="100"></div><h4>线上支付</h4><p>无缝对接支付宝等在线支付平台</p></div></div></div><div class="col-md-4 col-sm-6 text-center"><div class="panel panel-default"><div class="panel-body"><div class="xmd-img-center"><img src="assets/images/ico_04.jpg" class="img-responsive" width="100"></div><h4>提现便捷</h4><p>支持支付宝等提现方式</p></div></div></div></div><h2 class="text-center">联系我们</h2><p class="text-center">若您有任何疑问，欢迎通过邮件来联系我们</p><p class="text-center">邮箱：mad_info@163.com</p></div><div class="modal fade" id="downloadModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel">下载App</h4></div><div class="modal-body"><div class="row"><div class="col-md-12"><img style="width:200px; margin:10px auto;" src="http://mad-10035512.file.myqcloud.com/liuApp.jpg" class="img-responsive" alt="二维码图片"><p class="text-center">流应用二维码</p></div><hr><div class="col-md-12"><div style="width:250px; margin:10px auto"><p class="text-center"><a href="http://o8e8i11ed.bkt.clouddn.com/H5661AF68_0607165646.apk">Android App连接</a></p></div></div></div></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Close</button></div></div></div></div>'),e.put("app/notification/notification.html",'<div class="container"><div class="col-md-offset-1 col-md-10"><h1>消息列表</h1><hr><div class="panel panel-default" ng-repeat="ntf in notificationContents"><div class="panel-body"><div class="row"><div class="col-md-1 col-xm-2 col-xs-3"><img alt="..." src="assets/images/avatar.jpg" class="img-responsive img-circle"></div><div class="col-md-11 col-sm-10 col-xs-9"><div class="row"><div class="col-xs-6"><h4 class="media-heading text-left">系统消息</h4></div><div class="col-xs-6"><p class="text-right">{{ntf.date}}</p></div></div><p>{{ntf.content}}</p></div></div></div></div></div></div>'),e.put("app/pact/pact.html",'<div class="container"><h1>车载广告服务协议</h1><h4>甲方:广告投放方</h4><h4>乙方:MAD移动广告投放平台</h4><p>双方本着友好协商、共同发展的原则，由乙方在网站，为甲方提供网络广告服务。</p><h4>一、服务内容</h4><ol><li>广告类型：本条所指广告内容是指甲方拟在乙方公司内所有广告载体上发布的有关甲方业务的信息，广告形式为静态文字。文字长最长不超过60字。</li><li>乙方将在乙方公司内符合投放条件的车载广告播放装置上发布甲方的广告内容</li></ol><h4>二、甲方的权利义务</h4><ol><li>甲方所要宣传的内容如有变动必须向乙方提交审核，以便乙方能及时调整更新广告信息。</li><li>甲方有权根据本合同第一条所要求的服务内容及标准，检查乙方提供的广告服务质量，如乙方提供的服务质量不符合本合同第一条的规定，甲方有权要求乙方在规定时间内做出补充和修正。</li><li>甲方发布的广告内容必须符合中国法律法规的规定，不得委托乙方发布国家明令禁止的广告内容。</li><li>甲方必须保证所发布广告的真实性、有效性，并独立承担责任。</li><li>甲方必须依据本合同规定，按时足额向乙方支付广告服务款项。</li></ol><h4>三、乙方的权利义务</h4><ol><li>乙方必须严格遵守中华人民共和国广告法及相关适用法律的相关规定及要求发布广告；</li><li>乙方必须按本合同规定第一条规定的服务内容及标准向甲方提供广告服务；</li><li>乙方有权要求甲方按其规定提供营业执照、资质证明等相关证明材料，甲方拒不提供的，乙方有权拒绝为其发布广告。</li><li>乙方一旦发现甲方提供的广告存在虚假成分，有权立即单方面撤除广告，并通知甲方澄清事实。由此造成的损失由甲方承担。</li><li>乙方有权要求甲方按时足额支付广告服务费用；</li></ol><h4>四、违约责任</h4><ol><li>双方中任何一方违反本合同的规定，均必须承担相应的法律责任，赔偿对方因此而造成的经济损失。</li><li>如乙方未能在本合同规定时间内，为甲方提供广告服务，每延迟一天，乙方须减收甲方广告服务费用总额的1%的作为补偿，如延迟时间超过一个月，甲方有权要求终止合同，乙方将向甲方退回全部预付款。</li><li>如甲方未能在本合同规定时间内，向乙方支付预付款及余款，每延迟一天，甲方须向乙方支付广告服务费用总额1%的赔偿金，如延迟时间超过一个月时间，乙方有权终止合同，并有权要求甲方赔偿广告服务费用总额双倍的经济赔偿金。</li><li>由于甲方提供广告中存在虚假成分，或因此引发第三方法律诉讼，要求经济赔偿等，甲方必须独立承担全部损失，并赔偿由此给乙方造成的一切名誉和经济损失。</li></ol><h4>五、服务费用</h4><ol><li>服务付费：单条广告价格根据乙方所投放广告自动计算得出，在广告投放时广告费用自动从乙方账户中扣除；</li><li>支付方式：乙方在投放广告前需向账户中充值足够金额以投放广告，所充值金额会自动兑换为等值MAD币。</li></ol><h4>六、知识产权</h4><ol><li>在本合同执行过程中而产生的广告作品著作权归制作方所有，即由甲方设计制作的广告作品著作权归甲方所有，由甲方委托乙方设计制作的广告作品著作权归乙方所有。</li></ol><h4>七、合同终止</h4><ol><li>如甲方不能提供广告相关商品或服务的资质证明、产品说明书或政府主管部门的审批文件，或提供的上述材料中存在虚假成分，或因此第三方的法律诉讼、经济索赔要求等情况，乙方有权终止本合同，且不承担任何责任；</li><li>如甲方未能按本合同规定时间向乙方支付广告服务费用，延迟时间超过一个月，乙方有权终止本合同；</li><li>在甲方完全履行本合同规定义务后，如乙方未能按本合同规定时间为甲方提供广告服务，延迟时间超过一个月，甲方有权终止本合同。</li></ol><h4>八、保密义务</h4><ol><li>双方为执行本协议提供给对方的任何技术产品或资料，除非提供方明确说明其为公知技术的外，均构成提供方的商业秘密；</li><li>双方同意不得使第三人接触或向第三人揭露上述商业秘密，也不得为本协议之外的任何其它目的利用该商业秘密。双方承诺，本保密义务延及其员工，任何一方员工违法本保密义务的，该方同样应承担全部法律责任。</li></ol><h4>九、免责条件</h4><ol><li>因战争、自然灾害等导致乙方服务器不能正常运行；</li><li>因政府行政行为导致乙方不能开放服务器；</li><li>因互联网灾难，中国、美国等互联网通讯提供商原因导致乙方服务器不能正常接入；</li><li>因乙方操作平台及应用软件原因导致乙方服务器临时性不能正常运行；</li><li>因乙方网站遭遇不法攻击导致服务器临时性不能正常运行。</li><li>基于以上原因，导致乙方网站不能正常运行，甲方认同属于正常现象，乙方不承担任何法律上和本合同规定以外的其它方式的责任。</li></ol><h4>十、争议解决</h4><ol><li>如双方在履行本合同过程中发生争议，经协商无法解决，任何一方均可向仲裁委员会提出仲裁，仲裁结果为最终结果，对双方都具有约束力。</li></ol><h4>十一、其他</h4><ol><li>甲方开始在乙方平台投放广告时该协议自动生效；</li><li>有效期至广告服务时间完成时为止。</li><li>本协议执行过程中，所有附件和补充协议等一经甲乙双方签字即成为本协议的有效组成部分 与本协议具有同等法律效力。</li></ol></div>'),
e.put("app/statistics/statistics.html",'<div class="container"><h1 class="text-center">财务对账</h1><p class="text-center">在这里核对您的支出信息</p><hr><div class="row row-margin"><div class="col-xs-6 col-xs-3 col-xs-offset-3 col-md-2 col-md-offset-4"><p class="lsr-p-position">总支出: {{totalPay}} 元</p></div><div class="col-xs-6 col-md-3 col-md-2"><p class="lsr-p-position">总充值金额: {{totalTopUp}} 元</p></div></div><div class="panel panel-default"><div class="panel-body"><table st-table="advertCollection" st-safe-src="advertList" class="table table-hover"><thead><tr><th>广告编号</th><th>广告标题</th><th>发布时间</th><th>次数统计</th><th>总花费(MAD币)</th><th>广告详情</th></tr></thead><tbody><tr ng-repeat="advert in advertCollection"><td>{{ advert.id }}</td><td>{{ advert.title }}</td><td>{{ advert.startDate }}</td><td>{{ advert.broadcastSum }}</td><td>{{ advert.priceSum }}</td><td><button class="btn btn-sm btn-success" ui-sref="app.statistics.detail({advertId: advert.id})">查看详情</button></td></tr></tbody></table></div></div></div>'),e.put("app/statistics-advertis/statistics-advertis.html",'<div class="container jx-container"><div class="row"><div class="col-md-offset-1 col-md-10"><h1 class="text-center">广告统计</h1><p class="text-center">查看广告的支出统计和投放统计</p><hr></div><div class="col-md-offset-1 col-md-10"><div id="chart1"><h4 class="text-center">广告商2015、2016年支出统计</h4><div id="chartdiv" style="width: 100%; height: 500px;"></div></div><div id="chart2"><h4 class="text-center">广告商2015、2016年季广告投放情况</h4><div id="advertisment-chart" style="width: 100%; height: 500px;"></div></div></div></div></div>'),e.put("app/statistics-detail/statistics-detail.html",'<div class="container"><div class="row"><div class="col-md-offset-1 col-md-10"><h1 class="text-center">广告统计</h1><p class="text-center">查看本条广告的支出统计</p><hr></div><div class="col-md-offset-1 col-md-10"><div><h4 class="text-center">广告商2015、2016年单条广告支出统计</h4><div id="chartdiv" style="width: 100%; height: 500px;"></div></div></div></div></div>'),e.put("app/components/footer-advert/footer-advert.html",'<hr><footer class="home-footer"><div class="home-footer-text"><p>地址：上海市嘉定区曹安公路4800号</p><p>&copy; 2016-2017 &middot; <a href="http://andyht.github.io/MAD_AdvertiserWeb/#/">移动的广告MAD</a> &middot; All rights reserved.</p></div></footer>'),e.put("app/components/navbar-advert/navbar-advert.html",'<nav class="navbar navbar-inverse"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" ui-sref="app"></a></div><div class="navbar-collapse collapse nav-margin-left" id="navbar"><ul class="nav navbar-nav" ng-if="isLogin"><li class="" ng-class="{\'active\': isMain}"><a ui-sref="app" ui-sref-opts="{reload: true}">首页</a></li><li class="dropdown" ng-class="{\'active\': isManage}"><a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">广告管理<b class="caret"></b></a><ul class="dropdown-menu"><li ng-class="{\'active\': isPush}"><a ui-sref="app.advert.edit({advertId: null})" ui-sref-opts="{reload: true}">发布新广告</a></li><li ng-class="{\'active\': isList}"><a ui-sref="app.advert" ui-sref-opts="{reload: true}">已发布广告</a></li></ul></li><li class="dropdown" ng-class="{\'active\': isPay}"><a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">账户管理<b class="caret"></b></a><ul class="dropdown-menu"><li ng-class="{\'active\': isPut}"><a ui-sref="app.account.recharge" ui-sref-opts="{reload: true}">账户充值</a></li><li ng-class="{\'active\': isBack}"><a ui-sref="app.account.refund" ui-sref-opts="{reload: true}">账户退款</a></li><li ng-class="{\'active\': isConfirm}"><a ui-sref="app.account.check" ui-sref-opts="{reload: true}">账户验证</a></li></ul></li><li class="dropdown" ng-class="{active: isStatistics}"><a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">统计<b class="caret"></b></a><ul class="dropdown-menu"><li ng-class="{active: isAccSta}"><a ui-sref="app.statistics" ui-sref-opts="{reload: true}">账务对账</a></li><li></li><li ng-class="{active: isAdSta}"><a ui-sref="app.statistics.advertis" ui-sref-opts="{reload: true}">广告统计</a></li></ul></li></ul><div class="navbar-header navbar-right nav-margin-right"><ul class="nav navbar-nav" ng-if="!isLogin"><button type="button" class="btn btn-signup navbar-btn" data-toggle="modal" data-target="#signup">注册</button> <button type="button" class="btn btn-signin navbar-btn" data-toggle="modal" data-target="#login">登录</button></ul><ul class="nav navbar-nav" ng-if="isLogin"><li class="navbar-link" ng-class="{active: isAccount}"><a ui-sref="app.account" ui-sref-opts="{reload: true}" ng-bind="name"></a></li><li ng-class="{active: isMsg}"><a ui-sref="app.notification" class="navbar-link" ui-sref-opts="{reload: true}">消息管理</a></li><li><a ng-click="logout()"><span class="glyphicon glyphicon-log-out" aria-hidden="true"></span></a></li></ul></div></div></nav><div id="signup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="signModalLabel"><div class="modal-dialog modal-lg"><div class="modal-content xmd-modal-content"><div class="xmd-content"><div class="row"><div class="col-md-offset-1 col-md-4 col-sm-5 col-xs-offset-1 col-xs-10 xmd-left-content"><img src="assets/images/favicon.ico" class="img-responsive"> <img src="assets/images/mad.png" class="img-responsive"></div><div class="col-md-offset-1 col-md-6 col-sm-6 col-xs-12 xmd-right-content"><div class="ht-input-box"><form role="form" class="xmd-form"><div class="form-group"><div class="input-group ht-input"><span class="input-group-addon"><img src="assets/images/nickname.png"></span> <input type="text" class="form-control" placeholder="昵称" aria-describedby="basic-addon2" ng-model="nickname"></div></div><div class="form-group"><div class="input-group ht-input"><span class="input-group-addon"><img src="assets/images/email.png"></span> <input type="text" class="form-control" placeholder="邮箱" aria-describedby="basic-addon2" ng-model="email"></div></div><div class="form-group"><div class="input-group ht-input"><span class="input-group-addon"><img src="assets/images/password.png"></span> <input type="password" class="form-control" placeholder="密码" aria-describedby="basic-addon2" ng-model="password"></div></div><div class="form-group"><div class="input-group ht-input"><span class="input-group-addon"><img src="assets/images/confirm.png"></span> <input type="password" class="form-control" placeholder="确认密码" aria-describedby="basic-addon2" ng-model="passConfirm"></div></div><span class="help-block" ng-show="thereIsError">{{ errMessage }}</span><div class="form-group"><button class="btn btn-warning btn-lg xmd-btn-register" ng-click="register(nickname, email, password, passConfirm)">注册</button></div></form></div></div></div></div></div></div></div><div id="login" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel"><div class="modal-dialog modal-lg"><div class="modal-content xmd-modal-content"><div class="xmd-content"><div class="row"><div class="col-md-offset-1 col-md-4 col-sm-5 col-xs-offset-1 col-xs-10 xmd-left-content"><img src="assets/images/favicon.ico" class="img-responsive"> <img src="assets/images/mad.png" class="img-responsive"></div><div class="col-md-offset-1 col-md-6 col-sm-6 col-xs-12 xmd-right-content"><div class="ht-input-box"><form role="form" class="xmd-form"><div class="form-group"><div class="input-group ht-input"><span class="input-group-addon"><img src="assets/images/email.png"></span> <input type="text" class="form-control" placeholder="邮箱" aria-describedby="basic-addon2" ng-model="email"></div></div><div class="form-group"><div class="input-group ht-input"><span class="input-group-addon"><img src="assets/images/confirm.png"></span> <input type="password" class="form-control" placeholder="密码" aria-describedby="basic-addon2" ng-model="password"></div><span class="help-block" ng-show="thereIsError">{{ errMessage }}</span></div><div class="form-group"><button class="btn btn-warning btn-lg xmd-btn-register" ng-click="login(email, password)">登录</button></div></form></div></div></div></div></div></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-8d9f80a52e.js.map
